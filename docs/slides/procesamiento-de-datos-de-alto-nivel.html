<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Ricardo Pérez López">
  <title>Procesamiento de datos de alto nivel</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=1280">
  <link rel="stylesheet" href="./reveal.js/dist/reset.css">
  <link rel="stylesheet" href="./reveal.js/dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #268bd2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #cb4b16; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #d33682; } /* BaseN */
    code span.bu { color: #4070a0; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #dc322f; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #93a1a1; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #6c71c4; } /* DataType */
    code span.dv { color: #d33682; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #d33682; } /* Float */
    code span.fu { color: #4070a0; } /* Function */
    code span.im { font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #268bd2; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #a57800; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #2aa198; } /* SpecialString */
    code span.st { color: #2aa198; } /* String */
    code span.va { color: #6c71c4; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="./reveal.js/dist/theme/solarized.css" id="theme">
  <link rel="stylesheet" href="custom.css"/>
  <script defer=""
  src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <style type="text/css">
      #header-left {
          position: absolute;
          font-size: 25%;
          top: 0%;
          left: 0%;
          margin-left: 10px;
          margin-top: 10px;
      }
      #header-right {
          position: absolute;
          font-size: 25%;
          top: 0%;
          right: 0%;
          margin-right: 10px;
          margin-top: 10px;
      }
      #footer-left {
          position: absolute;
          font-size: 25%;
          bottom: 0%;
          left: 0%;
          margin-left: 10px;
          margin-bottom: 10px;
      }
  </style>
</head>
<body>
<div id="hidden" style="display:none;">
    <div id="header">
        <div id="header-left"></div>
        <div id="header-right"></div>
        <div id="footer-left"></div>
    </div>
</div>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Procesamiento de datos de alto nivel</h1>
  <p class="author">Ricardo Pérez López</p>
  <p class="date">IES Doñana, curso 2025/2026</p>
</section>
<section id="TOC">
<nav role="doc-toc"> 
<ul>
<li><a href="#/colecciones" id="/toc-colecciones"><span
class="toc-section-number">1</span> Colecciones</a></li>
<li><a href="#/iterables-e-iteradores"
id="/toc-iterables-e-iteradores"><span
class="toc-section-number">2</span> Iterables e iteradores</a></li>
<li><a href="#/funciones-de-orden-superior"
id="/toc-funciones-de-orden-superior"><span
class="toc-section-number">3</span> Funciones de orden superior</a></li>
<li><a href="#/funciones-genéricas" id="/toc-funciones-genéricas"><span
class="toc-section-number">4</span> Funciones genéricas</a></li>
</ul>
</nav>
</section>

<section>
<section id="colecciones" class="title-slide slide level1"
data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span>
Colecciones</h1>

</section>
<section id="composición" class="title-slide slide level2"
data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span>
Composición</h2>
<ul>
<li><p>Hasta ahora, hemos aprendido que:</p>
<ul>
<li><p>Un programa está compuesto por <em>instrucciones</em>.</p></li>
<li><p>Las instrucciones de un programa son las <em>expresiones</em> y
las <em>sentencias</em>.</p></li>
</ul></li>
<li><p>Además, hemos visto que podemos crear instrucciones más complejas
a partir de otras más simples. Es decir:</p>
<ul>
<li><p>Podemos crear <em>expresiones más complejas</em> combinando entre
sí expresiones más simples.</p></li>
<li><p>Podemos crear <em>sentencias compuestas</em> (estructuras de
control, como bloques, condicionales, bucles, etc.) combinando entre sí
otras sentencias.</p></li>
</ul></li>
<li><p>La propiedad que tienen los lenguajes de programación de crear
elementos más complejos combinando otros más simples se denomina
<strong>composición</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.1">

<ul>
<li><p>La <strong>composición</strong> y la <strong>abstracción</strong>
son dos conceptos relacionados:</p>
<ul>
<li><p><em>Componer</em> consiste en combinar elementos entre sí para
formar otros más complejos.</p></li>
<li><p><em>Abstraer</em> consiste en coger un elemento (normalmente
complejo), darle un nombre y ocultar sus detalles internos (es decir,
los elementos que lo componen) dentro de una caja negra.</p></li>
</ul></li>
<li><p>Lo interesante es que la composición y la abstracción son dos
mecanismos <em>recursivos</em>:</p>
<ul>
<li><p>Podemos aplicar la composición para crear nuevos elementos
complejos a partir de otros elementos complejos.</p></li>
<li><p>Podemos aplicar la abstracción para crear nuevas abstracciones a
partir de otras abstracciones.</p></li>
</ul></li>
<li><p>Además, por supuesto, podemos crear abstracciones a partir de
composiciones y composiciones a partir de abstracciones.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.2">

<ul>
<li><p>Por ahora, esos conceptos (<em>composición</em> y
<em>abstracción</em>) sólo los hemos aplicado a las
<strong>instrucciones</strong> del programa:</p>
<ul>
<li><p>La <strong>composición de instrucciones</strong> da lugar a las
<strong>expresiones compuestas</strong> y a las <strong>sentencias
compuestas</strong> (también llamadas <strong>estructuras de
control</strong>: <em>secuencia</em>, <em>selección</em> e
<em>iteración</em>).</p></li>
<li><p>La <strong>abstracción de instrucciones</strong> da lugar a las
<strong>abstracciones funcionales</strong>.</p></li>
</ul></li>
<li><p>Pero también se pueden aplicar a los <strong>datos</strong>:</p>
<ul>
<li><p>La <strong>composición de datos</strong> da lugar a los
<strong>datos compuestos</strong> (también llamados <strong>datos
estructurados</strong>) y, en consecuencia, a los <strong>tipos de datos
compuestos</strong> (también llamados <strong>tipos de datos
estructurados</strong>).</p></li>
<li><p>La <strong>abstracción de datos</strong> da lugar a los
<strong>datos abstractos</strong> y, en consecuencia, a los
<strong>tipos abstractos de datos</strong>.</p></li>
</ul></li>
<li><p>En esta unidad hablaremos de la composición de datos y dejaremos
la abstracción de datos para una unidad posterior.</p></li>
</ul>
</section>

<section id="conceptos-básicos" class="title-slide slide level2"
data-number="1.2">
<h2 data-number="1.2"><span class="header-section-number">1.2</span>
Conceptos básicos</h2>
<ul>
<li><p>Un <strong>dato estructurado</strong> (también llamado
<strong>dato compuesto</strong>, <strong>colección</strong> o
<strong>contenedor</strong>) es un dato formado, a su vez, por otros
datos llamados <strong>componentes</strong> o
<strong>elementos</strong>, los cuales representan su
<strong>contenido</strong>.</p></li>
<li><p>Por contra, los datos no estructurados se denominan <strong>datos
elementales</strong>, <strong>escalares</strong> o
<strong>atómicos</strong>.</p></li>
<li><p>Un <strong>tipo de dato estructurado</strong>, también llamado
<strong>tipo compuesto</strong>, es aquel cuyos valores son datos
estructurados.</p></li>
<li><p>Normalmente, se puede <strong>acceder</strong> de manera
individual a los elementos que componen un dato estructurado y, a veces,
también se pueden <strong>modificar</strong> esos elementos de manera
individual.</p></li>
<li><p>El término <strong>estructura de datos</strong> se suele usar
como sinónimo de <strong>tipo de dato estructurado</strong>, aunque
nosotros haremos una distinción:</p>
<ul>
<li><p>Usaremos <strong>tipo de dato estructurado</strong> cuando usemos
un dato sin conocer sus detalles internos de implementación.</p></li>
<li><p>Usaremos <strong>estructura de datos</strong> cuando nos
interesen esos detalles.</p></li>
</ul></li>
</ul>
</section>

<section id="clasificación" class="title-slide slide level2"
data-number="1.3">
<h2 data-number="1.3"><span class="header-section-number">1.3</span>
Clasificación</h2>
<ul>
<li><p>Los <strong>datos estructurados</strong> se pueden clasificar
atendiendo a su <em>secuencialidad</em> y a su
<em>mutabilidad</em>.</p></li>
<li><p>Según su <strong>secuencialidad</strong>:</p>
<ul>
<li><p><strong>Secuencias:</strong> Son aquellos en los que se puede
acceder directamente y de forma eficiente a cada uno de sus elementos
indicando la posición que ocupan dentro de la secuencia.</p>
<p>Por tanto, son colecciones <em>ordenadas</em> por posición, ya que
sus elementos están ordenados dentro de la secuencia según la posición
en la que se encuentran situados dentro de la misma.</p></li>
<li><p><strong>No secuenciales:</strong> Son aquellos en los que
<strong>NO</strong> se puede acceder directamente y de forma eficiente a
cada uno de sus elementos indicando la posición que ocupan dentro de la
colección.</p>
<p>En general, las estructuras no secuenciales son colecciones
<em>desordenadas</em>, en las que no se puede afirmar que sus elementos
se encuentran en una posición determinada dentro de la
colección.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.3.0.0.1">

<ul>
<li><p>Según su <strong>mutabilidad</strong>:</p>
<ul>
<li><p><strong>Inmutables:</strong> el dato estructurado no puede
cambiar nunca su estado interno a lo largo de su vida.</p></li>
<li><p><strong>Mutables:</strong> el dato estructurado puede cambiar su
estado interno a lo largo de su vida sin cambiar su identidad.</p></li>
</ul></li>
<li><p>El <strong>contenido</strong> de un dato estructurado forma parte
del <strong>estado interno</strong> de ese dato, por lo que cambiar el
contenido de un dato estructurado supone cambiar también su estado
interno.</p></li>
<li><p>Por ejemplo, si en la lista <code
class="sourceCode python">[<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</code>
sustituimos su segundo elemento (el <code
class="sourceCode python"><span class="dv">8</span></code>) por un <code
class="sourceCode python"><span class="dv">5</span></code> para obtener
la lista <code
class="sourceCode python">[<span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">9</span>]</code>,
estamos cambiando el contenido de la lista y, por consiguiente, su
estado interno.</p>
<p>Su identidad no ha cambiado, pero su estado interno sí.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.3.0.0.2">

<p><span class="math display">\text{Tipos} \begin{cases}
\text{Escalares} \\ \\
    \text{Estructurados} \begin{cases}
        \text{Secuencias} \begin{cases}
            \text{Inmutables} \begin{cases}
                \text{Cadenas (\texttt{str})} \\
                \text{Tuplas (\texttt{tuple})} \\
                \text{Rangos (\texttt{range})}
            \end{cases} \\
            \\
            \text{Mutables} \begin{cases}
                \text{Listas (\texttt{list})}
            \end{cases}
        \end{cases} \\
        \\
        \text{No secuencias} \begin{cases}
            \text{Inmutables} \begin{cases}
                \text{Conjuntos (\texttt{frozenset})}
            \end{cases} \\
            \\
            \text{Mutables} \begin{cases}
                \text{Conjuntos (\texttt{set})} \\
                \text{Diccionarios (\texttt{dict})}
            \end {cases}
        \end{cases}
    \end{cases}
\end{cases}</span></p>
</section>

<section id="hashables" class="title-slide slide level2"
data-number="1.4">
<h2 data-number="1.4"><span class="header-section-number">1.4</span>
<em>Hashables</em></h2>
<ul>
<li><p>Un dato es <em>hashable</em> si cumple las siguientes dos
condiciones:</p>
<ol>
<li><p>Puede compararse con otros datos usando el operador
<code>==</code>.</p></li>
<li><p>Tiene asociado un número entero llamado
<strong><em>hash</em></strong> que nunca cambia durante toda la vida del
dato.</p>
<p>Para obtener el <em>hash</em> de un dato, se usa la función <code
class="sourceCode python"><span class="bu">hash</span></code>:</p>
<ul>
<li><p>Si un dato <span class="math inline">d</span> es
<em>hashable</em>, <code>hash(</code><span
class="math inline">d</span><code>)</code> devolverá el <em>hash</em> de
<span class="math inline">d</span>.</p></li>
<li><p>En caso contrario, lanzará una excepción de tipo <code
class="sourceCode python"><span class="pp">TypeError</span></code>.</p></li>
</ul></li>
</ol></li>
<li><p>Si dos datos <em>hashables</em> son iguales, entonces deben tener
el mismo <em>hash</em>:</p>
<div class="caja centered">
<p>Si <span class="math inline">x</span> <code>==</code> <span
class="math inline">y</span>, entonces debe cumplirse que <code
class="sourceCode python"><span class="bu">hash</span></code><code>(</code><span
class="math inline">x</span><code>)</code> <code>==</code> <code
class="sourceCode python"><span class="bu">hash</span></code><code>(</code><span
class="math inline">y</span><code>)</code>.</p>
</div>
<p>En cambio, si dos datos son distintos, sus <em>hash</em> no tienen
por qué serlo.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.1">

<ul>
<li><p>Ejemplos:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dv">6290906884732116299</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="dv">6290906884732116299</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>(<span class="dv">5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>((<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="dv">529344067295497451</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: unhashable <span class="bu">type</span>: <span class="st">&#39;list&#39;</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.2">

<ul>
<li><p>El concepto de <em>hashable</em> es importante en Python ya que
existen tipos de datos estructurados que sólo pueden contener elementos
<em>hashables</em>.</p></li>
<li><p>Por ejemplo, los elementos de un conjunto y las claves de un
diccionario deben ser <em>hashables</em>.</p></li>
<li><p>La mayoría de los datos inmutables predefinidos en Python son
<em>hashables</em>, incluyendo los valores de tipo <code>int</code>,
<code>float</code>, <code>str</code>, <code>range</code> y
<code>bool</code>, así como las funciones y el valor
<code>None</code>.</p></li>
<li><p>Las <strong>colecciones inmutables</strong> (como las tuplas o
los <code
class="sourceCode python"><span class="bu">frozenset</span></code>s)
sólo son <em>hashables</em> si sus elementos también lo son.</p></li>
<li><p>Las <strong>colecciones mutables</strong> (como las listas o los
diccionarios) <strong>NO</strong> son <em>hashables</em>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.3">

<ul>
<li><p><strong>El <em>hash</em> de un dato depende del estado interno
del dato</strong>, ya que se calcula a partir de dicho estado interno
usando un algoritmo que no nos debe preocupar por ahora.</p>
<p>Como el estado interno de una colección viene determinado
principalmente por los elementos que contiene, el <em>hash</em> de una
colección dependerá también del contenido de la colección.</p>
<p>Y por esta razón, las colecciones mutables no son <em>hashables</em>:
si una colección es mutable, su contenido puede cambiar y, por tanto, su
<em>hash</em> también cambiaría, pero esto está prohibido.</p></li>
</ul>
<div class="caja">
<p>El <em>hash</em> de un dato <strong>se calcula</strong> en función
del <strong>estado interno</strong> del dato y, en caso de ser una
colección, también en función de su <strong>contenido</strong>.</p>
</div>
<ul>
<li><p>El <em>hash</em> de un dato es un número que <strong>representa
al dato y a todo su contenido</strong>.</p></li>
<li><p>En cierto modo, ese número <strong><em>resume</em> el estado del
dato</strong> en un simple número entero.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.4">

<ul>
<li><p>El <em>hash</em> de un dato se utiliza internamente para acceder
a ese dato dentro de una colección de forma directa y
eficiente.</p></li>
<li><p>Para ello, el intérprete utiliza ciertas técnicas que permiten
localizar directamente a un dato dentro de una colección, de forma casi
inmediata y sin importar el tamaño de la colección (pero recordemos que
para ello es necesario que el <em>hash</em> del dato nunca
cambie).</p></li>
<li><p>De no usar estas técnicas, el intérprete tendría que buscar el
dato secuencialmente dentro de la colección, recorriéndola desde el
principio hasta el final, lo que sería mucho más lento y consumiría un
tiempo que sería mayor cuanto más grande fuese la colección.</p></li>
</ul>
<div class="caja">
<p>Los <em>hash</em> <strong>permiten el acceso <em>directo</em> a un
dato</strong> dentro de una colección.</p>
</div>
</section>
<section class="slide level5" data-number="1.4.0.0.5">

<ul>
<li><p>Muy en resumen, esas técnicas se basan en dividir el espacio de
memoria que ocupa la colección en una serie de <em>almacenes</em>
llamados <strong><em>buckets</em></strong>.</p></li>
<li><p>Cada <em>bucket</em> va numerado por un posible valor de
<em>hash</em>, de forma que el <em>bucket</em> número <span
class="math inline">n</span> contendrá todos los elementos cuyo
<em>hash</em> valga <span class="math inline">n</span>.</p></li>
<li><p>Por tanto, el algoritmo que usa el intérprete para encontrar un
elemento <em>hashable</em> dentro de una colección es:</p>
<ol>
<li><p>Calcular el <em>hash</em> del elemento a localizar.</p></li>
<li><p>Irse directamente al <em>bucket</em> numerado con ese valor de
<em>hash</em> (esta es una operación inmediata, con coste <span
class="math inline">O(1)</span>).</p></li>
<li><p>Localizar dentro del <em>bucket</em> el elemento que se está
buscando usando el <code>==</code>, lo cual consumirá un tiempo que, en
general, no será mucho, ya que los elementos están repartidos entre
todos los <em>buckets</em> y, por tanto, normalmente no habrá muchos
elementos en cada <em>bucket</em>.</p></li>
</ol></li>
<li><p>Al final, se consigue encontrar al elemento (si está) de forma
muy rápida, con un coste que es casi constante, independientemente de la
cantidad de elementos que haya en la colección.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.6">

<p>No se debe confundir el <code
class="sourceCode python"><span class="bu">id</span></code> de un dato
con el <code
class="sourceCode python"><span class="bu">hash</span></code> de un
dato:</p>
<table>
<colgroup>
<col style="width: 48%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;">Función <code>id</code></th>
<th style="text-align: center;">Función <code>hash</code></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><ul>
<li>Devuelve la identidad de un dato.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>Devuelve el <em>hash</em> de un dato, si es <em>hashable</em>.</li>
</ul></td>
</tr>
<tr>
<td style="text-align: center;"><ul>
<li>Todos los datos tienen identidad.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>No todos los datos son <em>hashables</em>.</li>
</ul></td>
</tr>
<tr>
<td style="text-align: center;"><ul>
<li>Puede haber datos iguales pero no idénticos.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>Si dos datos son iguales, sus <em>hash</em> también deben
serlo.</li>
</ul></td>
</tr>
<tr>
<td style="text-align: center;"><ul>
<li>Su valor no depende del estado interno del dato y, por tanto,
tampoco de su contenido.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>Su valor se obtiene a partir del estado interno del dato (y, por
tanto, de su contenido), usando una fórmula matemática.</li>
</ul></td>
</tr>
<tr>
<td style="text-align: center;"><ul>
<li>Por tanto, no cambia si se modifica el dato.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>Por tanto, un dato mutable no puede ser <em>hashable</em>, ya que su
<em>hash</em> cambiaría al cambiar su contenido o estado interno.</li>
</ul></td>
</tr>
</tbody>
</table>
</section>
</section>
<section>
<section id="iterables-e-iteradores" class="title-slide slide level1"
data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span>
Iterables e iteradores</h1>

</section>
<section id="iterables-e-iteradores-1" class="title-slide slide level2"
data-number="2.1">
<h2 data-number="2.1"><span class="header-section-number">2.1</span>
Iterables e iteradores</h2>
<ul>
<li><p>Se dice que un dato compuesto es <strong>iterable</strong> cuando
se puede acceder a todos sus elementos de uno en uno, operación que se
denomina <strong>recorrer</strong> el iterable.</p></li>
<li><p>Gracias a esto, se dice que un iterable nos permite
<em>visitar</em> sus elementos o, también, <em>iterar</em> sobre sus
elementos.</p></li>
<li><p>Como iterables tenemos:</p>
<ul>
<li><p>Todas las secuencias: listas, cadenas, tuplas y rangos.</p></li>
<li><p>Estructuras no secuenciales: diccionarios y conjuntos.</p></li>
</ul></li>
<li><p>Los iterables no representan un tipo concreto, sino más bien una
<em>familia</em> de tipos que comparten la misma propiedad.</p></li>
<li><p>Muchas funciones actúan sobre iterables en general, en lugar de
hacerlo sobre un tipo estructurado concreto (lista, tupla, …).</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.1">

<ul>
<li><p>Por ejemplo, las listas nos permiten acceder a todos sus
elementos de uno en uno y, por tanto, podemos recorrerla.</p></li>
<li><p>Para <em>visitar</em> sus elementos podemos usar la
<em>indexación</em>, y para <em>recorrer</em> toda la lista podemos usar
un <em>bucle</em>:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> recorrer_lista(l):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    i <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> i <span class="op">&lt;</span> <span class="bu">len</span>(l):</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(l[i])</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        i <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div></li>
<li><p>Pero hay que hacerlo bien para asegurarse de que no se visita el
mismo elemento dos veces, o se quedan elementos sin visitar, o se
intenta acceder a un elemento inexistente a través de un índice que está
fuera del rango permitido por la lista.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.2">

<ul>
<li><p>La mejor forma de recorrer un dato iterable es usando un
<strong>iterador</strong>.</p>
<p>De hecho, técnicamente, un <em>iterable</em> <strong>se
define</strong> como aquel dato al que le podemos asociar, al menos, un
<strong><em>iterador</em></strong>.</p></li>
<li><p>Un <strong>iterador</strong> es un objeto que sabe cómo
<strong>recorrer</strong> un iterable.</p></li>
<li><p>Para ello, el iterador crea un <strong>flujo de datos
<em>perezoso</em></strong> que va entregando los elementos del iterable
de uno en uno a medida que se los vamos solicitando.</p></li>
<li><p>Los sucesivos elementos del flujo de datos se van obteniendo al
llamar repetidamente a la función <code
class="sourceCode python"><span class="bu">next</span></code> aplicada
al iterador.</p></li>
<li><p>Cuando ya no hay más elementos disponibles, la función <code
class="sourceCode python"><span class="bu">next</span></code> lanza una
excepción de tipo <code
class="sourceCode python"><span class="pp">StopIteration</span></code>,
lo que indica que el iterador <strong>se ha agotado</strong> (se han
consumido todos sus elementos), por lo que si se sigue llamando a la
función <code
class="sourceCode python"><span class="bu">next</span></code> se seguirá
lanzando esa excepción.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.3">

<ul>
<li><p>Se puede obtener un iterador a partir de cualquier dato iterable
aplicando la función <code
class="sourceCode python"><span class="bu">iter</span></code> al
iterable.</p>
<p>(Recordemos que todo iterable puede tener asociado un
iterador.)</p></li>
<li><p>Ejemplo de uso de <code
class="sourceCode python"><span class="bu">iter</span></code> y <code
class="sourceCode python"><span class="bu">next</span></code>:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lista <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it <span class="op">=</span> <span class="bu">iter</span>(lista)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="pp">StopIteration</span></span></code></pre></div></li>
<li><p>Si se le pasa un dato no iterable, <code
class="sourceCode python"><span class="bu">iter</span></code> lanza una
excepción <code
class="sourceCode python"><span class="pp">TypeError</span></code>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it <span class="op">=</span> <span class="bu">iter</span>(<span class="dv">9</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: <span class="st">&#39;int&#39;</span> <span class="bu">object</span> <span class="kw">is</span> <span class="kw">not</span> iterable</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.4">

<ul>
<li><p>Los iteradores son <strong>iterables perezosos de un solo
uso</strong>:</p>
<ul>
<li><p>Son <strong>perezosos</strong> porque van generando sus elementos
a medida que los va entregando, en lugar de generarlos todos a la vez
primero.</p></li>
<li><p>Son <strong>de un solo uso</strong> porque cada elemento sólo se
entrega una vez.</p></li>
</ul></li>
<li><p>Además, <strong>los iteradores son iterables que actúan como sus
propios iteradores</strong>:</p>
<ul>
<li><p>Por tanto, cuando llamamos a <code
class="sourceCode python"><span class="bu">iter</span></code> pasándole
un iterador, se devuelve el mismo iterador:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lista <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it <span class="op">=</span> <span class="bu">iter</span>(lista)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>list_iterator <span class="bu">object</span> at <span class="bn">0x7f3c49aa9080</span><span class="op">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it2 <span class="op">=</span> <span class="bu">iter</span>(it)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it2</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>list_iterator <span class="bu">object</span> at <span class="bn">0x7f3c49aa9080</span><span class="op">&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it <span class="kw">is</span> it2</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div></li>
<li><p>En consecuencia, podemos usar un iterador en cualquier sitio
donde se espere un iterable.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.5">

<ul>
<li><p>Muchas funciones (como <code
class="sourceCode python"><span class="bu">map</span></code> o <code
class="sourceCode python"><span class="bu">filter</span></code>)
devuelven iteradores en lugar de colecciones porque, al ser perezosos,
los iteradores son más eficientes en memoria que si se devolviera toda
una lista o tupla.</p></li>
<li><p>Los iteradores se pueden convertir en listas o tuplas usando las
funciones <code
class="sourceCode python"><span class="bu">list</span></code> y <code
class="sourceCode python"><span class="bu">tuple</span></code>:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> iterador <span class="op">=</span> <span class="bu">iter</span>(l)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> <span class="bu">tuple</span>(iterador)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div></li>
</ul>
</section>

<section id="el-bucle-for" class="title-slide slide level2"
data-number="2.2">
<h2 data-number="2.2"><span class="header-section-number">2.2</span> El
bucle <code
class="sourceCode python"><span class="cf">for</span></code></h2>
<ul>
<li><p>Probablemente, la mejor forma de recorrer los elementos que
devuelve un iterador es mediante una <strong>estructura de
control</strong> llamada <strong>bucle <code
class="sourceCode python"><span class="cf">for</span></code></strong>.</p></li>
<li><p>Su sintaxis es:</p>
<div class="line-block"><strong><code>for</code></strong> <span
style="color:teal">⟨<em>variable</em>⟩</span>(<strong><code>,</code></strong>
<span style="color:teal">⟨<em>variable</em>⟩</span>)*
<strong><code>in</code></strong> <span
style="color:teal">⟨<em>iterable</em>⟩</span><strong><code>:</code></strong><br />
      <span style="color:teal">⟨<em>sentencia</em>⟩</span></div>
<p>que no es más que azúcar sintáctico para el siguiente código
equivalente:</p>
<div class="line-block"><code
class="sourceCode python">iterador <span class="op">=</span> <span class="bu">iter</span>(</code><span
style="color:teal">⟨<em>iterable</em>⟩</span><code
class="sourceCode python">)</code><br />
<code
class="sourceCode python"><span class="cf">while</span> <span class="va">True</span>:</code><br />
       <code
class="sourceCode python"><span class="cf">try</span>:</code><br />
             <span
style="color:teal">⟨<em>variable</em>⟩</span>(<code>,</code> <span
style="color:teal">⟨<em>variable</em>⟩</span>)*  <code
class="sourceCode python"><span class="op">=</span> <span class="bu">next</span>(iterador)</code><br />
       <code
class="sourceCode python"><span class="cf">except</span> <span class="pp">StopIteration</span>:</code><br />
             <code
class="sourceCode python"><span class="cf">break</span></code><br />
       <code
class="sourceCode python"><span class="cf">else</span>:</code><br />
             <span
style="color:teal">⟨<em>sentencia</em>⟩</span></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.1">

<ul>
<li><p>Ejemplos:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> [<span class="st">&#39;hola&#39;</span>, <span class="fl">23.5</span>, <span class="dv">10</span>, [<span class="dv">1</span>, <span class="dv">2</span>]]:</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x <span class="op">*</span> <span class="dv">2</span>)</span></code></pre></div>
<p>devuelve:</p>
<pre><code>&#39;holahola&#39;
47.0
20
[1, 2, 1, 2]</code></pre></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.2">

<ul>
<li><p>Si estamos recorriendo una secuencia y necesitamos recuperar
tanto el valor como el <strong>índice</strong> de cada elemento, podemos
usar la función <code
class="sourceCode python"><span class="bu">enumerate</span></code>.</p></li>
<li><p>Esta función devuelve un iterador que va generando tuplas que
contienen, además del elemento, el valor correspondiente de un contador
numérico.</p></li>
<li><p>Las tuplas que devuelve el iterador llevan el contador en la
primera posición y el elemento de la secuencia en la segunda
posición.</p></li>
<li><p>Por defecto, el contador empieza desde <code
class="sourceCode python"><span class="dv">0</span></code> y se va
incrementando de uno en uno, por lo que coincide con el índice del
elemento en la secuencia:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> i, e <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>]):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(<span class="st">&#39;El elemento en la posición &#39;</span> <span class="op">+</span> <span class="bu">str</span>(i) <span class="op">+</span> <span class="st">&#39; es &#39;</span> <span class="op">+</span> <span class="bu">str</span>(e))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>El elemento en la posición <span class="dv">0</span> es a</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>El elemento en la posición <span class="dv">1</span> es b</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>El elemento en la posición <span class="dv">2</span> es c</span></code></pre></div></li>
</ul>
</section>

<section id="funciones-que-generan-iteradores"
class="title-slide slide level2" data-number="2.3">
<h2 data-number="2.3"><span class="header-section-number">2.3</span>
Funciones que generan iteradores</h2>

</section>
<section id="el-módulo-itertools" class="title-slide slide level3"
data-number="2.3.1">
<h3 data-number="2.3.1"><span class="header-section-number">2.3.1</span>
El módulo <code class="sourceCode python">itertools</code></h3>
<ul>
<li><p>El módulo <code class="sourceCode python">itertools</code>
contiene una variedad de iteradores de uso frecuente, así como funciones
que combinan varios iteradores.</p></li>
<li><p>Algunos de esos iteradores son muy especiales porque pueden
devolver flujos infinitos o valores que se repiten continuamente, lo
cual contradice en cierta manera lo que dijimos cuando definimos los
iteradores como «<em>iterables de un solo uso</em>».</p></li>
<li><p><code
class="sourceCode python">itertools.count</code><code>(</code>[<span
style="color:teal">⟨<em>inicio</em>⟩</span>[<code>,</code> <span
style="color:teal">⟨<em>paso</em>⟩</span>]]<code>)</code> devuelve un
flujo infinito de valores separados uniformemente. Se puede indicar
opcionalmente un valor de comienzo (<span
style="color:teal">⟨<em>inicio</em>⟩</span>, que por defecto es <code
class="sourceCode python"><span class="dv">0</span></code>) y el
intervalo entre números (<span
style="color:teal">⟨<em>paso</em>⟩</span>, que por defecto es <code
class="sourceCode python"><span class="dv">1</span></code>):</p>
<p><code class="sourceCode python">itertools.count()</code> <span
class="math inline">\Rightarrow</span> 0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
…</p>
<p><code
class="sourceCode python">itertools.count(<span class="dv">10</span>)</code>
<span class="math inline">\Rightarrow</span> 10, 11, 12, 13, 14, 15, 16,
17, 18, 19, …</p>
<p><code
class="sourceCode python">itertools.count(<span class="dv">10</span>, <span class="dv">5</span>)</code>
<span class="math inline">\Rightarrow</span> 10, 15, 20, 25, 30, 35, 40,
45, …</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.0.1">

<ul>
<li><p><code
class="sourceCode python">itertools.cycle</code><code>(</code><span
style="color:teal">⟨<em>iterable</em>⟩</span><code>)</code> devuelve un
iterador que va generando los elementos del iterable del primero al
último, repitiéndolos indefinidamente:</p>
<p><code
class="sourceCode python">itertools.cycle([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</code>
<span class="math inline">\Rightarrow</span> 1, 2, 3, 4, 1, 2, 3, 4,
…</p></li>
<li><p><code
class="sourceCode python">itertools.repeat</code><code>(</code><span
style="color:teal">⟨<em>elem</em>⟩</span>[<code>,</code> <span
style="color:teal">⟨<em>n</em>⟩</span>]<code>)</code> devuelve <span
style="color:teal">⟨<em>n</em>⟩</span> veces el elemento <span
style="color:teal">⟨<em>elem</em>⟩</span>, o lo devuelve indefinidamente
si no se indica <span style="color:teal">⟨<em>n</em>⟩</span>:</p>
<p><code
class="sourceCode python">itertools.repeat(<span class="st">&#39;abc&#39;</span>)</code>
<span class="math inline">\Rightarrow</span> abc, abc, abc, abc, abc,
abc, abc, …</p>
<p><code
class="sourceCode python">itertools.repeat(<span class="st">&#39;abc&#39;</span>, <span class="dv">5</span>)</code>
<span class="math inline">\Rightarrow</span> abc, abc, abc, abc,
abc</p></li>
</ul>
</section>

<section id="zip" class="title-slide slide level3" data-number="2.3.2">
<h3 data-number="2.3.2"><span class="header-section-number">2.3.2</span>
<code>zip</code></h3>
<ul>
<li><p>La función <code
class="sourceCode python"><span class="bu">zip</span></code> en Python
devuelve un iterador de tuplas, donde cada tupla contiene un elemento de
cada uno de los iterables que se le pasen como argumentos, agrupados por
su posición.</p></li>
<li><p>En otras palabras:</p>
<ul>
<li><p>Toma los elementos en posición 0 de cada iterable y forma la
primera tupla.</p></li>
<li><p>Luego toma los elementos en posición 1 de cada iterable y forma
la segunda tupla.</p></li>
<li><p>Y así sucesivamente, hasta que el iterable más corto se quede sin
elementos.</p></li>
</ul></li>
<li><p>Su sintaxis es:</p>
<div
class="line-block"><strong><code>zip</code><code>(</code></strong><span
style="color:teal">⟨<em>iterable<span
class="math inline">_1</span></em>⟩</span> [, … <span
style="color:teal">⟨<em>iterable<span
class="math inline">_n</span></em>⟩</span>]<strong><code>)</code></strong></div></li>
</ul>
</section>
<section id="ejemplos" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<ul>
<li><p>El siguiente código:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> [<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>, <span class="st">&#39;z&#39;</span>]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>c <span class="op">=</span> <span class="bu">zip</span>(a, b)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(c))</span></code></pre></div>
<p>produce la siguiente salida:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>[(<span class="dv">1</span>, <span class="st">&#39;x&#39;</span>), (<span class="dv">2</span>, <span class="st">&#39;y&#39;</span>), (<span class="dv">3</span>, <span class="st">&#39;z&#39;</span>)]</span></code></pre></div></li>
<li><p>Si los iterables tienen distinta longitud, la función
<code>zip</code> se detiene en el más corto. Por ejemplo, el siguiente
código:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> [<span class="st">&#39;x&#39;</span>, <span class="st">&#39;y&#39;</span>, <span class="st">&#39;z&#39;</span>]</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(<span class="bu">zip</span>(a, b)))</span></code></pre></div>
<p>produce la siguiente salida:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>[(<span class="dv">1</span>, <span class="st">&#39;x&#39;</span>), (<span class="dv">2</span>, <span class="st">&#39;y&#39;</span>)]</span></code></pre></div></li>
</ul>
</section>

<section id="reversed" class="title-slide slide level3"
data-number="2.3.3">
<h3 data-number="2.3.3"><span class="header-section-number">2.3.3</span>
<code>reversed</code></h3>
<ul>
<li><p>La función <code
class="sourceCode python"><span class="bu">reversed</span></code> en
Python devuelve un iterador que genera los elementos de un iterable en
orden inverso a como se entregarían habitualmente.</p></li>
<li><p>Su sintaxis es:</p>
<div
class="line-block"><strong><code>reversed</code><code>(</code></strong><span
style="color:teal">⟨<em>iterable</em>⟩</span><strong><code>)</code></strong></div></li>
<li><p>Por ejemplo, el siguiente código:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>l <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>it <span class="op">=</span> <span class="bu">reversed</span>(l)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">list</span>(it))</span></code></pre></div>
<p>produce la siguiente salida:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>[<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>]</span></code></pre></div></li>
</ul>
</section>

</section>
<section>
<section id="funciones-de-orden-superior"
class="title-slide slide level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span>
Funciones de orden superior</h1>

</section>
<section id="concepto" class="title-slide slide level2"
data-number="3.1">
<h2 data-number="3.1"><span class="header-section-number">3.1</span>
Concepto</h2>
<ul>
<li><p>Sabemos que, en programación funcional, <strong>las
<em>funciones</em> también son <em>valores</em></strong>.</p>
<p>Por tanto, como pasa con cualquier otro valor, las funciones también
tienen un tipo, se pueden ligar a identificadores, etcétera.</p></li>
<li><p>Pero si las funciones son valores, eso significa que también se
pueden pasar como argumentos a otras funciones o se pueden devolver como
resultado de otras funciones.</p></li>
<li><p>Una <strong>función de orden superior</strong> es una función que
recibe funciones como argumentos o devuelve funciones como
resultado.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.1">

<ul>
<li><p>Por ejemplo, la siguiente función <strong>recibe otra función
como argumento</strong> y devuelve el resultado de aplicar dicha función
al número 5:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> aplica5 <span class="op">=</span> <span class="kw">lambda</span> f: f(<span class="dv">5</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cuadrado <span class="op">=</span> <span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cubo <span class="op">=</span> <span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">3</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> aplica5(cuadrado)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> aplica5(cubo)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="dv">125</span></span></code></pre></div></li>
<li><p>No hace falta crear las funciones <code
class="sourceCode python">cuadrado</code> y <code
class="sourceCode python">cubo</code> para pasárselas a la función <code
class="sourceCode python">aplica5</code> como argumento. Se pueden pasar
directamente las expresiones lambda, que también son funciones:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> aplica5(<span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">2</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> aplica5(<span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">3</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="dv">125</span></span></code></pre></div></li>
<li><p>Naturalmente, la función que se pasa a <code
class="sourceCode python">aplica5</code> debe recibir un único argumento
de tipo numérico.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.2">

<ul>
<li><p>Lo mismo se puede hacer con funciones imperativas, o combinando
funciones imperativas con expresiones lambda:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> aplica5(f):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>...     <span class="cf">return</span> f(<span class="dv">5</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> (cuadrado):</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>...     <span class="cf">return</span> x <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cubo <span class="op">=</span> <span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">3</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> aplica5(cuadrado)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> aplica5(cubo)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="dv">125</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.3">

<ul>
<li><p>También se puede <strong>devolver una función como
resultado</strong>.</p></li>
<li><p>Por ejemplo, la siguiente función <code
class="sourceCode python">suma_o_resta</code> recibe una cadena y
devuelve una función que suma si la cadena es <code
class="sourceCode python"><span class="st">&#39;suma&#39;</span></code>;
en caso contrario, devuelve una función que resta:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma_o_resta <span class="op">=</span> <span class="kw">lambda</span> s: (<span class="kw">lambda</span> x, y: x <span class="op">+</span> y) <span class="cf">if</span> s <span class="op">==</span> <span class="st">&#39;suma&#39;</span> <span class="cf">else</span> <span class="op">\</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>                             (<span class="kw">lambda</span> x, y: x <span class="op">-</span> y)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma_o_resta(<span class="st">&#39;suma&#39;</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>function <span class="op">&lt;</span><span class="kw">lambda</span><span class="op">&gt;</span>.<span class="op">&lt;</span><span class="bu">locals</span><span class="op">&gt;</span>.<span class="op">&lt;</span><span class="kw">lambda</span><span class="op">&gt;</span> at <span class="bn">0x7f526ab4a790</span><span class="op">&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma <span class="op">=</span> suma_o_resta(<span class="st">&#39;suma&#39;</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> resta <span class="op">=</span> suma_o_resta(<span class="st">&#39;resta&#39;</span>)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> resta(<span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma_o_resta(<span class="st">&#39;suma&#39;</span>)(<span class="dv">6</span>, <span class="dv">4</span>)</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span></code></pre></div></li>
<li><p>Tanto <code class="sourceCode python">aplica5</code> como <code
class="sourceCode python">suma_o_resta</code> son <strong>funciones de
orden superior</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.4">

<ul>
<li><p>Y con funciones imperativas:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> suma_o_resta(s):</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>...    <span class="kw">def</span> sumar(x, y):</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>...        <span class="cf">return</span> x <span class="op">+</span> y</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>...    <span class="kw">def</span> restar(x, y):</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>...        <span class="cf">return</span> x <span class="op">-</span> y</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>...    <span class="cf">if</span> s <span class="op">==</span> <span class="st">&#39;suma&#39;</span>:</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>...        <span class="cf">return</span> sumar</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>...    <span class="cf">else</span>:</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>...        <span class="cf">return</span> restar</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma_o_resta(<span class="st">&#39;suma&#39;</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>function <span class="op">&lt;</span><span class="kw">lambda</span><span class="op">&gt;</span>.<span class="op">&lt;</span><span class="bu">locals</span><span class="op">&gt;</span>.<span class="op">&lt;</span><span class="kw">lambda</span><span class="op">&gt;</span> at <span class="bn">0x7f526ab4a790</span><span class="op">&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma <span class="op">=</span> suma_o_resta(<span class="st">&#39;suma&#39;</span>)</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> resta <span class="op">=</span> suma_o_resta(<span class="st">&#39;resta&#39;</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> resta(<span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma_o_resta(<span class="st">&#39;suma&#39;</span>)(<span class="dv">6</span>, <span class="dv">4</span>)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.5">

<ul>
<li><p>Una función es una abstracción porque agrupa lo que tienen en
común determinados casos particulares que siguen el mismo
patrón.</p></li>
<li><p>El mismo concepto se puede aplicar a casos particulares de
funciones, y al hacerlo damos un paso más en nuestro camino hacia un
mayor grado de abstracción.</p></li>
<li><p>Es decir: muchas veces observamos el mismo patrón en funciones
diferentes.</p></li>
<li><p>Para poder abstraer, de nuevo, lo que tienen en común dichas
funciones, deberíamos ser capaces de manejar funciones que acepten a
otras funciones como argumentos o que devuelvan otra función como
resultado (es decir, funciones de orden superior).</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.6">

<ul>
<li><p>Supongamos las dos funciones siguientes:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Suma los enteros comprendidos entre a y b:</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>suma_enteros <span class="op">=</span> <span class="kw">lambda</span> a, b: <span class="dv">0</span> <span class="cf">if</span> a <span class="op">&gt;</span> b <span class="cf">else</span> a <span class="op">+</span> suma_enteros(a <span class="op">+</span> <span class="dv">1</span>, b)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Suma los cubos de los enteros comprendidos entre a y b:</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>suma_cubos <span class="op">=</span> <span class="kw">lambda</span> a, b: <span class="dv">0</span> <span class="cf">if</span> a <span class="op">&gt;</span> b <span class="cf">else</span> cubo(a) <span class="op">+</span> suma_cubos(a <span class="op">+</span> <span class="dv">1</span>, b)</span></code></pre></div></li>
<li><p>Estas dos funciones comparten claramente un patrón común. Se
diferencian solamente en:</p>
<ul>
<li><p>El <em>nombre</em> de la función.</p></li>
<li><p>La función que se aplica a <code
class="sourceCode python">a</code> para calcular cada <em>término</em>
de la suma.</p></li>
</ul></li>
<li><p>Podríamos haber escrito las funciones anteriores rellenando los
«casilleros» del siguiente <em>patrón general</em>:</p>
<div class="line-block"><span
style="color:teal">⟨<em>nombre</em>⟩</span> =
<strong><code>lambda</code></strong> a, b: 0
<strong><code>if</code></strong> a &gt; b
<strong><code>else</code></strong> <span
style="color:teal">⟨<em>término</em>⟩</span>(a) + <span
style="color:teal">⟨<em>nombre</em>⟩</span>(a + 1, b)</div></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.7">

<ul>
<li><p>La existencia de este patrón común nos demuestra que hay una
abstracción esperando que la saquemos a la superficie.</p></li>
<li><p>De hecho, los matemáticos han identificado hace mucho tiempo esta
abstracción llamándola <strong>sumatorio de una serie</strong>, y la
expresan así: <span class="math display"> \sum _ {n=a}^b f(n)</span></p>
<p>La ventaja que tiene usar la notación anterior es que podemos
trabajar directamente con el concepto de sumatorio en vez de trabajar
con sumas concretas, y podemos sacar conclusiones generales sobre los
sumatorios independientemente de la serie particular con la que estemos
trabajando.</p></li>
<li><p>Igualmente, como programadores estamos interesados en que nuestro
lenguaje tenga la suficiente potencia como para describir directamente
el concepto de sumatorio, en vez de funciones particulares que calculen
sumas concretas.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.8">

<ul>
<li><p>En programación funcional lo conseguimos creando funciones que
conviertan los «casilleros» en parámetros que recibirían funciones:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>suma <span class="op">=</span> <span class="kw">lambda</span> term, a, b: <span class="dv">0</span> <span class="cf">if</span> a <span class="op">&gt;</span> b <span class="cf">else</span> term(a) <span class="op">+</span> suma(term, a <span class="op">+</span> <span class="dv">1</span>, b)</span></code></pre></div></li>
<li><p>De esta forma, las dos funciones <code
class="sourceCode python">suma_enteros</code> y <code
class="sourceCode python">suma_cubos</code> anteriores se podrían
definir en términos de esta <code
class="sourceCode python">suma</code>:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>suma_enteros <span class="op">=</span> <span class="kw">lambda</span> a, b: suma(<span class="kw">lambda</span> x: x, a, b)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>suma_cubos <span class="op">=</span> <span class="kw">lambda</span> a, b: suma(<span class="kw">lambda</span> x: x <span class="op">*</span> x <span class="op">*</span> x, a, b)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co"># O mejor aún:</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>suma_cubos <span class="op">=</span> <span class="kw">lambda</span> a, b: suma(cubo, a, b)</span></code></pre></div></li>
<li><p><code>suma</code> es una abstracción que captura el patrón común
que comparten <code>suma_enteros</code> y <code>suma_cubos</code>, las
cuales también son abstracciones que capturan sus respectivos patrones
comunes.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.9">

<div class="centered">
<figure>
<img data-src="images/de-particular-a-funciones-de-orden-superior.svg"
class="plain" style="width:90.0%"
alt="El camino de subida hacia una abstracción cada vez mayor" />
<figcaption aria-hidden="true">El camino de subida hacia una abstracción
cada vez mayor</figcaption>
</figure>
</div>
</section>
<section id="ejercicio" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejercicio</h5>
<ol class="example" type="1">
<li>¿Se podría generalizar aún más la función <code
class="sourceCode python">suma</code>?</li>
</ol>
</section>

<section id="map" class="title-slide slide level2" data-number="3.2">
<h2 data-number="3.2"><span class="header-section-number">3.2</span>
<code>map</code></h2>
<ul>
<li>Supongamos que queremos escribir una función que, dada una tupla de
números, nos devuelva otra tupla con los mismos números elevados al
cubo.</li>
</ul>
</section>
<section id="ejercicio-1" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejercicio</h5>
<ol start="2" class="example" type="1">
<li>Inténtalo.</li>
</ol>
</section>
<section class="slide level5" data-number="3.2.0.0.1">

<ul>
<li><p>Una forma de hacerlo sería:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>elevar_cubo <span class="op">=</span> <span class="kw">lambda</span> t: () <span class="cf">if</span> t <span class="op">==</span> () <span class="cf">else</span> <span class="op">\</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>                        (cubo(t[<span class="dv">0</span>]),) <span class="op">+</span> elevar_cubo(t[<span class="dv">1</span>:])</span></code></pre></div></li>
<li><p>¿Y elevar a la cuarta potencia?</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>elevar_cuarta <span class="op">=</span> <span class="kw">lambda</span> t: () <span class="cf">if</span> t <span class="op">==</span> () <span class="cf">else</span> <span class="op">\</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>                          ((<span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">4</span>)(t[<span class="dv">0</span>]),) <span class="op">+</span> elevar_cuarta(t[<span class="dv">1</span>:])</span></code></pre></div></li>
<li><p>Es evidente que hay un patrón subyacente que se podría abstraer
creando una función de orden superior que aplique una función <code
class="sourceCode python">f</code> a los elementos de una tupla y
devuelva la tupla resultante.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.2">

<ul>
<li><p>Esa función se llama <code
class="sourceCode python"><span class="bu">map</span></code>, y viene
definida en Python con la siguiente signatura:</p>
<div class="caja">
<p><span
class="math inline">\texttt{map(\(func\),\;\(iterable\))\;-&gt;\;Iterator}</span></p>
</div>
<p>donde:</p>
<ul>
<li><p><em>func</em> debe ser una función de un solo argumento.</p></li>
<li><p><em>iterable</em> puede ser cualquier iterable.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.3">

<ul>
<li><p>Podemos usarla así:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">map</span>(cubo, (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="bu">map</span> <span class="bu">object</span> at <span class="bn">0x7f22b25e9d68</span><span class="op">&gt;</span></span></code></pre></div></li>
<li><p>Lo que devuelve es un iterador que luego podemos recorrer o, por
ejemplo, convertir en una tupla usando la función <code
class="sourceCode python"><span class="bu">tuple</span></code>:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>(<span class="bu">map</span>(cubo, (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">64</span>)</span></code></pre></div></li>
<li><p>Además de una tupla, también podemos usar cualquier otro iterable
como argumento para <code
class="sourceCode python"><span class="bu">map</span></code>, como por
ejemplo un rango:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>(<span class="bu">map</span>(cubo, <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">5</span>)))</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">64</span>)</span></code></pre></div></li>
<li><p>¿Cómo definirías la función <code
class="sourceCode python"><span class="bu">map</span></code> de forma
que devolviera una tupla?</p></li>
</ul>
</section>
<section id="ejercicio-2" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejercicio</h5>
<ol start="3" class="example" type="1">
<li>Inténtalo.</li>
</ol>
</section>
<section class="slide level5" data-number="3.2.0.0.4">

<ul>
<li><p>Podríamos definirla así:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">map</span> <span class="op">=</span> <span class="kw">lambda</span> f, t: () <span class="cf">if</span> t <span class="op">==</span> () <span class="cf">else</span> (f(t[<span class="dv">0</span>]),) <span class="op">+</span> <span class="bu">map</span>(f, t[<span class="dv">1</span>:])</span></code></pre></div></li>
</ul>
</section>

<section id="filter" class="title-slide slide level2" data-number="3.3">
<h2 data-number="3.3"><span class="header-section-number">3.3</span>
<code>filter</code></h2>
<ul>
<li><p><code
class="sourceCode python"><span class="bu">filter</span></code> es una
<strong>función de orden superior</strong> que devuelve aquellos
elementos de un <em>iterable</em> que cumplen una determinada
condición.</p></li>
<li><p>Su signatura es:</p>
<div class="caja">
<p><span
class="math inline">\texttt{filter(\(function\),\;\(iterable\))\;-&gt;\;Iterator}</span></p>
</div>
<p>donde <em>function</em> debe ser una función de un solo argumento que
devuelva un <em>booleano</em>.</p></li>
<li><p>Como <code
class="sourceCode python"><span class="bu">map</span></code>, también
devuelve un <em>iterador</em>, que se puede recorrer o convertir a tupla
con la función <code
class="sourceCode python"><span class="bu">tuple</span></code>, por
ejemplo.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>(<span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">&gt;</span> <span class="dv">0</span>, (<span class="op">-</span><span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">8</span>, <span class="op">-</span><span class="dv">3</span>, <span class="dv">9</span>)))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span></code></pre></div></li>
</ul>
</section>

<section id="reduce" class="title-slide slide level2" data-number="3.4">
<h2 data-number="3.4"><span class="header-section-number">3.4</span>
<code>reduce</code></h2>
<ul>
<li><p><code
class="sourceCode python"><span class="bu">reduce</span></code> es una
<strong>función de orden superior</strong> que aplica, de forma
<em>acumulativa</em>, una función a todos los elementos de un
<em>iterable</em>.</p></li>
<li><p>Captura un <strong>patrón muy frecuente</strong> de recursión
sobre secuencias.</p></li>
<li><p>Por ejemplo, para calcular la suma de todos los elementos de una
tupla, haríamos:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma <span class="op">=</span> <span class="kw">lambda</span> t: <span class="dv">0</span> <span class="cf">if</span> t <span class="op">==</span> () <span class="cf">else</span> t[<span class="dv">0</span>] <span class="op">+</span> suma(t[<span class="dv">1</span>:])</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma((<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span></span></code></pre></div></li>
<li><p>Y para calcular el producto:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> producto <span class="op">=</span> <span class="kw">lambda</span> t: <span class="dv">1</span> <span class="cf">if</span> t <span class="op">==</span> () <span class="cf">else</span> t[<span class="dv">0</span>] <span class="op">*</span> producto(t[<span class="dv">1</span>:])</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> producto((<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="dv">24</span></span></code></pre></div></li>
<li><p>Como podemos observar, la estrategia de cálculo es esencialmente
la misma; sólo se diferencian en la <em>operación</em> a realizar
(<code>+</code> o <code>*</code>) y en el <em>valor inicial</em> o
<em>elemento neutro</em> (<code
class="sourceCode python"><span class="dv">0</span></code> o <code
class="sourceCode python"><span class="dv">1</span></code>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.1">

<ul>
<li><p>Si abstraemos ese patrón común, podemos crear una función de
orden superior que capture la idea de <strong>reducir todos los
elementos de un iterable a un único valor</strong>.</p></li>
<li><p>Eso es lo que hace la función <code
class="sourceCode python"><span class="bu">reduce</span></code>.</p></li>
<li><p>Su signatura es:</p>
<div class="caja">
<p><span
class="math inline">\texttt{reduce(\(function\),\;\(sequence\)\;\([\),\;\(initial\)\(]\))\;-&gt;\;Any}</span></p>
</div>
<p>donde:</p>
<ul>
<li><p><em>function</em> debe ser una función que reciba dos
argumentos.</p></li>
<li><p><em>sequence</em> debe ser cualquier objeto iterable
(normalmente, una secuencia como una cadena, una tupla o un
rango).</p></li>
<li><p><em>initial</em>, si se indica, se usará como primer elemento
sobre el que realizar el cálculo y servirá como valor por defecto cuando
la secuencia esté vacía (si no se indica y la secuencia está vacía,
generará un error).</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.2">

<ul>
<li><p>Para usarla, primero tenemos que <em>importarla</em> del
<em>módulo</em> <code class="sourceCode python">functools</code>:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> functools <span class="im">import</span> <span class="bu">reduce</span></span></code></pre></div></li>
<li><p>No es la primera vez que importamos un módulo. Ya lo hicimos con
el módulo <code class="sourceCode python">math</code>.</p></li>
<li><p>En su momento estudiaremos con detalle qué son los módulos. Por
ahora nos basta con lo que ya sabemos: que contienen definiciones que
podemos incorporar a nuestros <em>scripts</em>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.3">

<ul>
<li><p>Por ejemplo, para calcular la suma y el producto de <code
class="sourceCode python">(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</code>,
podemos definir las funciones <code>suma_de_numeros</code> y
<code>producto_de_numeros</code> a partir de <code>reduce</code>:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> functools <span class="im">import</span> <span class="bu">reduce</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>tupla <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>suma_de_numeros <span class="op">=</span> <span class="kw">lambda</span> tupla: <span class="bu">reduce</span>(<span class="kw">lambda</span> x, y: x <span class="op">+</span> y, tupla, <span class="dv">0</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>producto_de_numeros <span class="op">=</span> <span class="kw">lambda</span> tupla: <span class="bu">reduce</span>(<span class="kw">lambda</span> x, y: x <span class="op">*</span> y, tupla, <span class="dv">1</span>)</span></code></pre></div></li>
<li><p>También podemos importar y usar las funciones <code>add</code> y
<code>mul</code> del módulo <code>operator</code>, las cuales actúan,
respectivamente, como el operador <code>+</code> y <code>*</code>:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> functools <span class="im">import</span> <span class="bu">reduce</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> operator <span class="im">import</span> add, mul</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>tupla <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>suma_de_numeros <span class="op">=</span> <span class="kw">lambda</span> tupla: <span class="bu">reduce</span>(add, tupla, <span class="dv">0</span>)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>producto_de_numeros <span class="op">=</span> <span class="kw">lambda</span> tupla: <span class="bu">reduce</span>(mul, tupla, <span class="dv">1</span>)</span></code></pre></div>
<p>De esta forma, usamos <code>add</code> y <code>mul</code> en lugar de
las expresiones lambda <code
class="sourceCode python">(<span class="kw">lambda</span> x, y: x <span class="op">+</span> y)</code>
y <code
class="sourceCode python">(<span class="kw">lambda</span> x, y: x <span class="op">*</span> y)</code>,
respectivamente.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.4">

<ul>
<li><p>En general, si <span class="math inline">iterable</span>
representa un objeto iterable que contiene los elementos <span
class="math inline">e_1, e_2, \ldots, e_n</span> (en este orden),
entonces tenemos que: <span
class="math display">\texttt{reduce(\(f\),\;\(iterable\),\;\(ini\))} =
f(\ldots{}f(f(f(ini, e_1), e_2), e_3), \ldots, e_n)</span></p></li>
<li><p>Por ejemplo, la siguiente llamada a <code>reduce</code>:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="bu">reduce</span>(add, (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), <span class="dv">0</span>)</span></code></pre></div>
<p>realiza y devuelve el resultado del siguiente cálculo:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>add(add(add(add(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dv">2</span>), <span class="dv">3</span>), <span class="dv">4</span>)</span></code></pre></div>
<p>lo que, en la práctica, equivale a:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>((((<span class="dv">0</span> <span class="op">+</span> <span class="dv">1</span>) <span class="op">+</span> <span class="dv">2</span>) <span class="op">+</span> <span class="dv">3</span>) <span class="op">+</span> <span class="dv">4</span>)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.5">

<ul>
<li><p>Si <span class="math inline">iterable</span> representa un
<strong>iterable vacío</strong>, entonces:</p>
<p><span
class="math display">\texttt{reduce(\(f\),\;\(iterable\),\;\(ini\))} =
ini</span></p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="bu">reduce</span>(add, (), <span class="dv">0</span>)</span></code></pre></div>
<p>devuelve directamente <code
class="sourceCode python"><span class="dv">0</span></code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.6">

<ul>
<li><p>Si <strong>no se indica un valor inicial</strong>, tenemos que:
<span class="math display">\texttt{reduce(\(f\),\;\((e_1, e_2, \ldots,
e_n)\))} = f(\ldots{}f(f(e_1, e_2), e_3), \ldots, e_n)</span></p>
<p>Es decir: se usará el primer elemento del iterable como valor
inicial.</p></li>
<li><p>Por ejemplo, la siguiente llamada a <code>reduce</code>:</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="bu">reduce</span>(add, (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span></code></pre></div>
<p>realiza y devuelve el resultado del siguiente cálculo:</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>add(add(add(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dv">3</span>), <span class="dv">4</span>)</span></code></pre></div>
<p>lo que, en la práctica, equivale a:</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>(((<span class="dv">1</span> <span class="op">+</span> <span class="dv">2</span>) <span class="op">+</span> <span class="dv">3</span>) <span class="op">+</span> <span class="dv">4</span>)</span></code></pre></div></li>
<li><p>Pero si el iterable es <strong>vacío</strong>, dará un error:</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">reduce</span>(add, ())</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: <span class="bu">reduce</span>() of empty iterable <span class="cf">with</span> no initial value</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.7">

<ul>
<li><p>Con lo que acabamos de ver, se demuestra que la implementación de
la función <code>reduce</code> en Python va reduciendo <strong>de
izquierda a derecha</strong> y que, por tanto, las operaciones se hacen
agrupándose <strong>por la izquierda</strong>.</p></li>
<li><p>Esto es algo que debemos tener muy en cuenta a la hora de diseñar
la función que se le pasa a <code>reduce</code>.</p></li>
<li><p>Se denomina <strong>iteración</strong> a cada paso que da la
función <code>reduce</code>, es decir, cada vez que <code>reduce</code>
visita un nuevo elemento del iterable (la tupla, cadena o lo que sea) y
aplica la función para calcular el resultado parcial.</p></li>
<li><p>Esa función, como ya dijimos antes, debe tener dos parámetros,
pero de forma que, en cada iteración:</p>
<ol>
<li><p>Su primer parámetro va a contener siempre el valor parcial
acumulado hasta ahora (por tanto, es un <em>acumulador</em>).</p></li>
<li><p>Su segundo parámetro va a contener el valor del elemento que en
este momento está visitando <code>reduce</code>.</p></li>
</ol></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.8">

<ul>
<li><p>Por tanto, es frecuente que el primer parámetro de esa función se
llame <code>acc</code> o algo similar, para expresar el hecho de que ahí
se va recibiendo el valor acumulado hasta el momento.</p></li>
<li><p>Por ejemplo, en la siguiente llamada:</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="bu">reduce</span>(<span class="kw">lambda</span> acc, e: acc <span class="op">+</span> e, (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>), <span class="dv">0</span>)</span></code></pre></div>
<ul>
<li><p><code>acc</code> va a contener la suma parcial acumulada hasta
ahora.</p></li>
<li><p><code>e</code> va a contener el elemento que en este momento se
está visitando.</p></li>
</ul>
<p>Así, durante la ejecución del <code>reduce</code>, ésta provocará las
siguientes llamadas a la expresión lambda:</p>
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>(<span class="kw">lambda</span> acc, e: acc <span class="op">+</span> e)(<span class="dv">0</span>, <span class="dv">1</span>)   <span class="co"># acc = 0, e = 1</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>(<span class="kw">lambda</span> acc, e: acc <span class="op">+</span> e)(<span class="dv">1</span>, <span class="dv">2</span>)   <span class="co"># acc = 1, e = 2</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>(<span class="kw">lambda</span> acc, e: acc <span class="op">+</span> e)(<span class="dv">3</span>, <span class="dv">3</span>)   <span class="co"># acc = 3, e = 3</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>(<span class="kw">lambda</span> acc, e: acc <span class="op">+</span> e)(<span class="dv">6</span>, <span class="dv">4</span>)   <span class="co"># acc = 6, e = 4</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.4.0.0.9">

<ul>
<li>¿Cómo podríamos definir la función <code
class="sourceCode python"><span class="bu">reduce</span></code> si
recibiera una tupla y no cualquier iterable?</li>
</ul>
</section>
<section id="ejercicio-3" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejercicio</h5>
<ol start="4" class="example" type="1">
<li>Inténtalo.</li>
</ol>
</section>
<section class="slide level5" data-number="3.4.0.0.10">

<ul>
<li><p>Una forma (con valor inicial obligatorio) podría ser así:</p>
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="bu">reduce</span> <span class="op">=</span> <span class="kw">lambda</span> fun, tupla, ini: ini <span class="cf">if</span> tupla <span class="op">==</span> () <span class="cf">else</span> <span class="op">\</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="bu">reduce</span>(fun, tupla[<span class="dv">1</span>:], fun(ini, tupla[<span class="dv">0</span>]))</span></code></pre></div></li>
</ul>
</section>

<section id="expresiones-generadoras" class="title-slide slide level2"
data-number="3.5">
<h2 data-number="3.5"><span class="header-section-number">3.5</span>
Expresiones generadoras</h2>
<ul>
<li><p>Dos operaciones que se realizan con frecuencia sobre un iterable
son:</p>
<ul>
<li><p>Realizar alguna operación sobre cada elemento (<code
class="sourceCode python"><span class="bu">map</span></code>).</p></li>
<li><p>Seleccionar un subconjunto de elementos que cumplan alguna
condición (<code
class="sourceCode python"><span class="bu">filter</span></code>).</p></li>
</ul></li>
<li><p>Las <strong>expresiones generadoras</strong> son una notación
copiada del lenguaje Haskell que nos permite realizar ambas operaciones
de una forma muy concisa.</p></li>
<li><p>El resultado que devuelve es un iterador.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.5.0.0.1">

<ul>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb47"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>(x <span class="op">**</span> <span class="dv">3</span> <span class="cf">for</span> x <span class="kw">in</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">64</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co"># equivale a:</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x <span class="op">**</span> <span class="dv">3</span>, (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)))</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">64</span>)</span></code></pre></div>
<div class="sourceCode" id="cb48"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>(x <span class="cf">for</span> x <span class="kw">in</span> (<span class="op">-</span><span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">8</span>, <span class="op">-</span><span class="dv">3</span>, <span class="dv">9</span>) <span class="cf">if</span> x <span class="op">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co"># equivale a:</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>(<span class="bu">filter</span>(<span class="kw">lambda</span> x: x <span class="op">&gt;</span> <span class="dv">0</span>, (<span class="op">-</span><span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">8</span>, <span class="op">-</span><span class="dv">3</span>, <span class="dv">9</span>)))</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.5.0.0.2">

<ul>
<li><p>Su sintaxis es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>expr_gen</em>⟩</span> ::=
<strong><code>(</code></strong><span
style="color:teal">⟨<em>expresión</em>⟩</span>
(<strong><code>for</code></strong> <span
style="color:teal">⟨<em>identificador</em>⟩</span>
<strong><code>in</code></strong> <span
style="color:teal">⟨<em>iterador</em>⟩</span>
[<strong><code>if</code></strong> <span
style="color:teal">⟨<em>condición</em>⟩</span>])<span
class="math inline">^+</span><strong><code>)</code></strong></div></li>
<li><p>Los elementos de la salida generada serán los sucesivos valores
de <span style="color:teal">⟨<em>expresión</em>⟩</span>.</p></li>
<li><p>Las cláusulas <strong><code>if</code></strong> son opcionales. Si
están, la <span style="color:teal">⟨<em>expresión</em>⟩</span> sólo se
evaluará y añadirá al resultado cuando se cumpla la <span
style="color:teal">⟨<em>condición</em>⟩</span>.</p></li>
<li><p>Los paréntesis <code>(</code> y <code>)</code> alrededor de la
expresión generadora se pueden quitar si la expresión se usa como único
argumento de una función.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb49"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> sec1 <span class="op">=</span> <span class="st">&#39;abc&#39;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> sec2 <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">tuple</span>((x, y) <span class="cf">for</span> x <span class="kw">in</span> sec1 <span class="cf">for</span> y <span class="kw">in</span> sec2)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>((<span class="st">&#39;a&#39;</span>, <span class="dv">1</span>), (<span class="st">&#39;a&#39;</span>, <span class="dv">2</span>), (<span class="st">&#39;a&#39;</span>, <span class="dv">3</span>),</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a> (<span class="st">&#39;b&#39;</span>, <span class="dv">1</span>), (<span class="st">&#39;b&#39;</span>, <span class="dv">2</span>), (<span class="st">&#39;b&#39;</span>, <span class="dv">3</span>),</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a> (<span class="st">&#39;c&#39;</span>, <span class="dv">1</span>), (<span class="st">&#39;c&#39;</span>, <span class="dv">2</span>), (<span class="st">&#39;c&#39;</span>, <span class="dv">3</span>))</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.5.0.0.3">

<ul>
<li><p>Las expresiones generadoras, al igual que las expresiones lambda,
<strong>determinan su propio <em>ámbito</em></strong>.</p></li>
<li><p>Ese ámbito abarca toda la expresión generadora, de principio a
fin.</p></li>
<li><p>Los identificadores que aparecen en la cláusula <code
class="sourceCode python"><span class="cf">for</span></code> se se van
ligando automáticamente, uno a uno, a cada elemento del iterable
indicada en la cláusula <code
class="sourceCode python"><span class="kw">in</span></code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.5.0.0.4">

<ul>
<li><p>Al recorrer el iterable, las variables van almacenando en cada
iteración del bucle el valor del elemento que en ese momento se está
visitando.</p></li>
<li><p>Debido a ello, podemos afirmar que las variables que aparecen en
en cada cláusula <code>for</code> de la expresión generadora son
<strong>identificadores cuantificados</strong>, ya que toman sus valores
automáticamente y éstos están restringido a los valores que devuelva el
iterable.</p></li>
<li><p>Además, estos identificadores cuantificados son locales a la
expresión generadora, y sólo existen dentro de ella.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.5.0.0.5">

<ul>
<li><p>Debido a lo anterior, esos identificadores cumplen estas dos
propiedades:</p>
<ul>
<li><p>Se pueden renombrar (siempre de forma consistente) sin que la
expresión cambie su significado.</p>
<p>Por ejemplo, las dos expresiones generadoras siguientes son
equivalentes, puesto que producen el mismo resultado:</p>
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>(x <span class="cf">for</span> x <span class="kw">in</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<div class="sourceCode" id="cb51"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>(y <span class="cf">for</span> y <span class="kw">in</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div></li>
<li><p>No se pueden usar fuera de la expresión generadora, ya que
estarían fuera de su ámbito y no serían visibles.</p>
<p>Por ejemplo, lo siguiente daría un error de nombre:</p>
<div class="sourceCode" id="cb52"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> e <span class="op">=</span> (x <span class="cf">for</span> x <span class="kw">in</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x       <span class="co"># Intento acceder a la &#39;x&#39; de la expresión generadora</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="pp">NameError</span>: name <span class="st">&#39;x&#39;</span> <span class="kw">is</span> <span class="kw">not</span> defined</span></code></pre></div></li>
</ul></li>
</ul>
</section>
</section>
<section>
<section id="funciones-genéricas" class="title-slide slide level1"
data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span>
Funciones genéricas</h1>

</section>
<section id="definición-y-uso" class="title-slide slide level2"
data-number="4.1">
<h2 data-number="4.1"><span class="header-section-number">4.1</span>
Definición y uso</h2>
<ul>
<li><p>Esquemáticamente, las <strong>funciones genéricas</strong> tienen
la siguiente forma:</p>
<div class="sourceCode" id="cb53"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> func[T](arg: T): ...</span></code></pre></div></li>
<li><p>En esta definición, <code>T</code> es una <strong>variable de
tipo</strong>, es decir, un identificador que representa a un
<em>tipo</em> cualquiera que en este momento no está
determinado.</p></li>
<li><p>Al usar la sintaxis <code>[T]</code>, decimos que <code>T</code>
representa un <strong>parámetro de tipo</strong> para la función, y
sirve para expresar el hecho de que la función que estamos definiendo es
genérica y funciona con valores de muchos tipos distintos (uno por cada
posible valor de <code>T</code>).</p></li>
<li><p>Esta forma de definir funciones caracteriza un cierto tipo de
polimorfismo llamado <strong>polimorfismo paramétrico</strong>, donde
una misma función puede actuar sobre valores de tipos muy diversos. Por
eso, a esas funciones las podemos llamar <strong>funciones
polimórficas</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.1.0.0.1">

<ul>
<li><p>Por ejemplo, la función que devuelve el máximo elemento de una
lista donde todos sus elementos son del mismo tipo, se puede anotar de
la siguiente forma:</p>
<div class="sourceCode" id="cb54"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maximo[T](l: <span class="bu">list</span>[T]) <span class="op">-&gt;</span> T:</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>    ...</span></code></pre></div>
<p>y podríamos llamarla pasándole cualquier tipo de lista, siempre que
todos los elementos de la lista sean del mismo tipo:</p>
<div class="sourceCode" id="cb55"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maximo([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maximo([<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>])</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;d&#39;</span></span></code></pre></div></li>
<li><p>Según la signatura de la función, no sería correcto pasarle una
lista con elementos de diferentes tipos, pero el intérprete no
detectaría el error ya que no hace comprobación de tipos. De todas
formas, la función probablemente no funcionaría bien en ese caso, ya que
es una violación de su especificación:</p>
<div class="sourceCode" id="cb56"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> maximo([<span class="dv">1</span>, <span class="st">&#39;a&#39;</span>, <span class="va">True</span>, <span class="fl">2.5</span>])  <span class="co"># Incorrecto si se comprueban los tipos</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>???                              <span class="co"># No se sabe cómo se comportará la función en este caso</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.1.0.0.2">

<ul>
<li><p>Una función genérica puede tener <strong>más de un parámetro de
tipo</strong> en caso necesario.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb57"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> crear_tupla[T, U](elem1: T, elem2: U) <span class="op">-&gt;</span> <span class="bu">tuple</span>[T, U]:</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;&quot;&quot;Crea una tupla con dos elementos.&quot;&quot;&quot;</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (elem1, elem2)</span></code></pre></div></li>
<li><p>Un ejemplo de uso:</p>
<div class="sourceCode" id="cb58"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> crear_tupla(<span class="dv">1</span>, <span class="st">&#39;a&#39;</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="st">&#39;a&#39;</span>)</span></code></pre></div>
<p>Aquí, mandamos a la función un elemento de tipo <code
class="sourceCode python"><span class="bu">int</span></code> y otro de
tipo <code class="sourceCode python"><span class="bu">str</span></code>,
y la función produce como resultado una tupla de tipo <code
class="sourceCode python"><span class="bu">tuple</span>[<span class="bu">int</span>, <span class="bu">str</span>]</code>.</p></li>
</ul>
</section>
</section>
<section id="bibliografía"
class="title-slide slide level1 unnumbered unlisted">
<h1 class="unnumbered unlisted">Bibliografía</h1>
<div id="refs" class="references csl-bib-body hanging-indent"
data-entry-spacing="0" role="list">
<div id="ref-python_software_foundation_sitio_nodate" class="csl-entry"
role="listitem">
Python Software Foundation. n.d. <span>“Sitio Web de Documentación de
<span>Python</span>.”</span> <a
href="https://docs.python.org/3">https://docs.python.org/3</a>.
</div>
</div>
</section>
    </div>
  </div>

  <script src="./reveal.js/dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="./reveal.js/plugin/notes/notes.js"></script>
  <script src="./reveal.js/plugin/search/search.js"></script>
  <script src="./reveal.js/plugin/zoom/zoom.js"></script>
  <script src="./reveal.js/plugin/reveal.js-menu/menu.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: true,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 1080,
        // The display mode that will be used to show slides
        display: 'block',

        menu: {
          hideMissingTitles: true,
        },

        dependencies: [
          { src: './reveal.js/plugin/reveal.js-quiz/quiz/js/quiz.js', async: true, callback: function() { prepareQuizzes({preventUnanswered: true, checkAnswerText: 'Comprueba la respuesta', nextQuestionText: 'Siguiente &raquo;', backButtonText: '&laquo; Anterior', tryAgainText: 'Prueba de nuevo', preventUnansweredText: 'Selecciona una respuesta', questionCountText: 'Pregunta %current de %total', skipStartButton: true}); } }
        ],

        // reveal.js plugins
        plugins: [
          RevealMenu,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="text/javascript">
       var title = document.getElementsByClassName('title')[0];
       title = title != null ? title.innerHTML : '';
       var author = document.getElementsByClassName('author')[0];
       author = author != null ? author.innerHTML : '';
       var date = document.getElementsByClassName('date')[0];
       date = date != null ? date.innerHTML : '';
       document.getElementById('header-left').innerHTML = '<a href="#/title-slide">' + title + '</a>';
       document.getElementById('footer-left').innerHTML = '<a href="https://pro.iesdonana.org">&copy; ' + author + ' (' + date + ')</a>';

       function updateHeader(nd) {
           var hr = document.getElementById('header-right');
           while (hr.children.length > 0) {
               hr.removeChild(hr.lastChild);
           }
           buscar(nd, 3, hr);
           buscar(nd, 2, hr);
           buscar(nd, 1, hr);
           hr.style.fontSize = Math.round(50 * Reveal.getScale()) + '%';
           hr.style.fontSize = Math.max(Number.parseInt(getComputedStyle(hr).fontSize), 12) + 'px';
           var hl = document.getElementById('header-left');
           hl.style.fontSize = hr.style.fontSize;
       }

       function buscar(nd, level, hr) {
           if (!nd.classList.contains('level' + (level - 1))) {
               for (var n = nd; n != null; n = n.previousSibling) {
                   if (n.nodeType == Node.TEXT_NODE) {
                       continue;
                   }
                   var cl = n.classList;
                   if (cl.contains('level' + level)) {
                       var h = n.querySelector('h' + level);
                   } else if (cl.contains('level' + (level - 1))) {
                       break;
                   } else {
                       continue;
                   }
                   if (h == null || Reveal.getCurrentSlide().id == 'title-slide') {
                       hr.innerHTML = '';
                   } else {
                       var el = document.createElement('a');
                       var href = '#/' + n.id;
                       el.href = href;
                       el.innerHTML = h.innerHTML;
                       var a = el.querySelector('a');
                       if (a !== null) {
                           a.href = href;
                       }
                       if (hr.innerHTML != '') {
                           hr.innerHTML = ' &mdash; ' + hr.innerHTML;
                       }
                       hr.insertBefore(el, hr.firstChild);
                   }
                   break;
               }
           }
       }

       // On Reveal.js ready event, copy header/footer <div>
       // into each `.slide-background` <div>
       Reveal.on('ready', event => {
           var header = document.getElementById('header');
           document.querySelector('.reveal').appendChild(header);
           updateHeader(Reveal.getCurrentSlide());
       });

       Reveal.on('slidechanged', event => {
           // event.previousSlide, event.currentSlide, event.indexh, event.indexv
           updateHeader(event.currentSlide);
       });
    </script>
    </body>
</html>
