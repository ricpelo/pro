<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Ricardo Pérez López">
  <title>Relaciones entre clases Python</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="./reveal.js/dist/reset.css">
  <link rel="stylesheet" href="./reveal.js/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #cb4b16; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #d33682; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #dc322f; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #93a1a1; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #268bd2; } /* DataType */
    code span.dv { color: #d33682; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #d33682; } /* Float */
    code span.fu { color: #268bd2; } /* Function */
    code span.im { font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #268bd2; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #a57800; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #2aa198; } /* SpecialString */
    code span.st { color: #2aa198; } /* String */
    code span.va { color: #6c71c4; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="./reveal.js/dist/theme/solarized.css" id="theme">
  <link rel="stylesheet" href="custom.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <style type="text/css">
      #header-left {
          position: absolute;
          font-size: 25%;
          top: 0%;
          left: 0%;
          margin-left: 10px;
          margin-top: 10px;
      }
      #header-right {
          position: absolute;
          font-size: 25%;
          top: 0%;
          right: 0%;
          margin-right: 10px;
          margin-top: 10px;
      }
      #footer-left {
          position: absolute;
          font-size: 25%;
          bottom: 0%;
          left: 0%;
          margin-left: 10px;
          margin-bottom: 10px;
      }
  </style>
</head>
<body>
<div id="hidden" style="display:none;">
    <div id="header">
        <div id="header-left"></div>
        <div id="header-right"></div>
        <div id="footer-left"></div>
    </div>
</div>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(event) {
        var title = document.getElementsByClassName('title')[0];
        title = title != null ? title.innerHTML : '';
        var author = document.getElementsByClassName('author')[0];
        author = author != null ? author.innerHTML : '';
        var date = document.getElementsByClassName('date')[0];
        date = date != null ? date.innerHTML : '';
        var el = document.createElement('a');
        var href = '#/title-slide';
        el.href = href;
        el.innerHTML = title;
        document.getElementById('header-left').appendChild(el);
        document.getElementById('footer-left').innerHTML = '&copy; ' + author + ' (' + date + ')';

        // Mueve un poquito el = a la derecha cuando hay que dibujar un "no-igual" con KaTeX:
        Array.prototype.forEach.call(document.getElementsByClassName("rlap"), function (el) {
            var e = el;
            var i = 0;
            while (e != null && i < 6) {
                e = e.parentElement;
                i++;
            }
            if (e != null && i == 6 && e.nextSibling != null && e.nextSibling.innerText == "=") {
                el.style.width = "0.1em";
            }
            console.log(el);
            console.log(e.nextSibling);
        });

        function updateHeader(nd) {
            var hr = document.getElementById('header-right');
            while (hr.children.length > 0) {
                hr.removeChild(hr.lastChild);
            }
            buscar(nd, 3, hr);
            buscar(nd, 2, hr);
            buscar(nd, 1, hr);
            hr.style.fontSize = Math.round(50 * Reveal.getScale()) + '%';
            hr.style.fontSize = Math.max(Number.parseInt(getComputedStyle(hr).fontSize), 12) + 'px';
            var hl = document.getElementById('header-left');
            hl.style.fontSize = hr.style.fontSize;
        }

        function buscar(nd, level, hr) {
            if (!nd.classList.contains('level' + (level - 1))) {
                for (var n = nd; n != null; n = n.previousSibling) {
                    if (n.nodeType == Node.TEXT_NODE) {
                        continue;
                    }
                    var cl = n.classList;
                    if (cl.contains('level' + level)) {
                        var h = n.querySelector('h' + level);
                    } else if (cl.contains('level' + (level - 1))) {
                        break;
                    } else {
                        continue;
                    }
                    if (h == null || Reveal.getCurrentSlide().id == 'title-slide') {
                        hr.innerHTML = '';
                    } else {
                        var el = document.createElement('a');
                        var href = '#/' + n.id;
                        el.href = href;
                        el.innerHTML = h.innerHTML;
                        var a = el.querySelector('a');
                        if (a !== null) {
                            a.href = href;
                        }
                        if (hr.innerHTML != '') {
                            hr.innerHTML = ' &mdash; ' + hr.innerHTML;
                        }
                        hr.insertBefore(el, hr.firstChild);
                    }
                    break;
                }
            }
        }

        // On Reveal.js ready event, copy header/footer <div>
        // into each `.slide-background` <div>
        Reveal.addEventListener('ready', function(event) {
            var header = document.getElementById('header');
            document.querySelector('.reveal').appendChild(header);
            updateHeader(Reveal.getCurrentSlide());
        });

        Reveal.addEventListener('slidechanged', function(event) {
            // event.previousSlide, event.currentSlide, event.indexh, event.indexv
            updateHeader(event.currentSlide);
        });
    });
</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Relaciones entre clases Python</h1>
  <p class="author">Ricardo Pérez López</p>
  <p class="date">IES Doñana, curso 2020/2021</p>
</section>
<section id="TOC">
<ul>
<li><a href="#/relaciones-básicas"><span class="toc-section-number">1</span> Relaciones básicas</a></li>
<li><a href="#/herencia"><span class="toc-section-number">2</span> Herencia</a></li>
<li><a href="#/polimorfismo"><span class="toc-section-number">3</span> Polimorfismo</a></li>
<li><a href="#/herencia-vs.-composición"><span class="toc-section-number">4</span> Herencia vs. composición</a></li>
</ul>
</section>

<section>
<section id="relaciones-básicas" class="title-slide slide level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Relaciones básicas</h1>

</section>
<section id="introducción" class="title-slide slide level2" data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span> Introducción</h2>
<ul>
<li><p>Los objetos de un programa interactúan entre sí durante la ejecución del mismo, por lo que decimos que <strong>los objetos se relacionan entre sí</strong>.</p></li>
<li><p>Las <strong>relaciones entre objetos</strong> pueden ser de varios tipos.</p></li>
<li><p>Por ejemplo, cuando un objeto <strong>envía un mensaje</strong> a otro, tenemos un ejemplo de relación del tipo <strong>usa</strong> (el primer objeto «usa» al segundo).</p></li>
<li><p>Otras veces, los objetos <strong>contienen</strong> a otros objetos, o bien <strong>forman parte</strong> de otros objetos.</p></li>
<li><p>Finalmente, a veces las relaciones entre los objetos son meramente <strong>conceptuales</strong>:</p>
<ul>
<li>Son relaciones que <strong>no se reflejan</strong> directamente <strong>en el código fuente</strong> del programa, sino que aparecen durante el <strong>análisis</strong> del problema a resolver o como parte del <strong>diseño</strong> de la solución, en las etapas de análisis y diseño del sistema.</li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.1">

<ul>
<li><p>A la relación específica que se da entre dos objetos concretos se denomina <strong>enlace</strong>.</p></li>
<li><p>Cuando una o varias instancias de una clase está relacionada con una o varias instancias de otra clase, también podemos decir que ambas clases están relacionadas.</p></li>
<li><p>Una <strong>relación entre clases</strong> representa un conjunto de posibles relaciones entre instancias de esas clases (un <strong>conjunto de <em>enlaces</em></strong>).</p></li>
<li><p>Las relaciones entre clases se pueden representar gráficamente en los llamados <strong>diagramas de clases</strong>.</p></li>
<li><p>Esos diagramas se construyen usando un <strong>lenguaje de modelado</strong> visual llamado <strong>UML</strong>, que se estudia con detalle en el módulo <em>Entornos de desarrollo</em>.</p></li>
<li><p>Entre otras cosas, el lenguaje UML describe los distintos <em>tipos de relaciones entre clases</em> que se pueden dar en un sistema orientado a objetos y cómo se representan y se identifican gráficamente.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.2">

<div class="centered">
<figure>
<img data-src="images/ejemplo-diagrama-clases.png" class="plain" style="width:25.0%" alt="" /><figcaption>Ejemplo de diagrama de clases</figcaption>
</figure>
</div>
<!--*-->
</section>
<section class="slide level5" data-number="1.1.0.0.3">

<ul>
<li><p>La <strong>multiplicidad de una clase en una relación</strong> representa la cantidad de instancias de esa clase que se pueden relacionar con una instancia de la otra clase en esa relación.</p></li>
<li><p>El lenguaje UML también describe la sintaxis y la semántica de las posibles <em>multiplicidades</em> que se pueden dar en una relación entre clases.</p></li>
<li><p>Esas multiplicidades también aparecen en los diagramas de clases.</p></li>
<li><p>Ejemplos de sintaxis:</p>
<ul>
<li><p><span class="math inline">n</span>: exactamente <span class="math inline">n</span> instancias (siendo <span class="math inline">n</span> un número entero).</p></li>
<li><p><span class="math inline">*</span>: cualquier número de instancias.</p></li>
<li><p><span class="math inline">n..m</span>: de <span class="math inline">n</span> a <span class="math inline">m</span> instancias.</p></li>
<li><p><span class="math inline">n..*</span>: de <span class="math inline">n</span> instancias en adelante.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.4">

<ul>
<li><p>En el módulo de <em>Programación</em> sólo trabajaremos con las relaciones que se reflejen en el código fuente del programa y que, por tanto, formen parte del mismo.</p></li>
<li><p>Por tanto, las <strong>relaciones conceptuales</strong> que se puedan establecer a nivel semántico durante el análisis o el diseño del sistema no se verán aquí y sólo se trabajarán en <em>Entornos de desarrollo</em>.</p></li>
<li><p>En ese módulo también se estudia que los diagramas de clases son una forma de <strong>modelar la estructura y el funcionamiento de un sistema</strong>.</p></li>
<li><p>Está relacionado también con el <strong>modelo de datos</strong> que se construye en el módulo de <em>Bases de datos</em>.</p></li>
<li><p>Todos estos <strong>artefactos</strong> (código fuente, diagrama de clases y modelo de datos) representan puntos de vista distintos pero complementarios del mismo sistema.</p></li>
</ul>
</section>

<section id="asociación" class="title-slide slide level2" data-number="1.2">
<h2 data-number="1.2"><span class="header-section-number">1.2</span> Asociación</h2>
<ul>
<li><p>Una <strong>asociación</strong> simple es una relación <em>genérica</em> que se establece entre dos clases.</p></li>
<li><p>Se utiliza cuando se quiere representar el hecho de que las dos clases están relacionadas de alguna manera <strong>distinta a la de otros tipos de relaciones más específicas</strong> (dependencia, agregación, composición, generalización, etc.).</p></li>
<li><p>Tiene más interés en el módulo de <em>Entornos de desarrollo</em>, ya que se usa principalmente durante el análisis y diseño preliminar del sistema.</p></li>
<li><p>En <em>Programación</em> tiene menos utilidad y casi siempre se puede sustituir por otro tipo de relación más específica.</p></li>
<li><p>Las asociaciones suelen llevar nombre, ya que representan una relación conceptual y hay que aclarar cuál es (normalmente es un nombre asociado al <strong>dominio del problema</strong>).</p></li>
<li><p>En ese sentido, se parecen mucho a las relaciones del <strong>modelo Entidad-Relación</strong> que se estudia en <em>Bases de datos</em>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.2.0.0.1">

<ul>
<li><p>Por ejemplo, si estamos construyendo una aplicación que simule una calculadora, podríamos tener las clases <code>Calculadora</code> y <code>Numero</code>.</p></li>
<li><p>En ese caso, podríamos decir que se establece una <em>asociación</em> entre las clases <code>Calculadora</code> y <code>Numero</code>: la calculadora <em>manipula</em> números.</p></li>
<li><p>Dicha asociación se puede representar así en un diagrama de clases, usando el lenguaje UML:</p></li>
</ul>
<div class="columns">
<div class="column">
<div class="centered">
<p><img data-src="images/calculadora-asocia-numero.png" class="plain" style="width:50.0%" /></p>
</div>
</div><div class="column">
<ul>
<li><p>La asociación se llama <em>manipula</em> y representa una relación que se da conceptualmente en el modelo que estamos haciendo de nuestra aplicación.</p></li>
<li><p>No hay más pistas sobre qué quiere decir <em>manipular</em> números.</p></li>
<li><p>Puede ser útil durante el análisis pero no nos ayuda mucho en <em>Programación</em>.</p></li>
</ul>
</div>
</div>
</section>

<section id="dependencia" class="title-slide slide level2" data-number="1.3">
<h2 data-number="1.3"><span class="header-section-number">1.3</span> Dependencia</h2>
<ul>
<li><p>Una <strong>dependencia</strong> es un tipo de relación que representa el hecho de que una clase depende de otra por algún motivo.</p></li>
<li><p>Ese motivo se indica en la misma dependencia usando un <strong>estereotipo</strong>.</p></li>
<li><p>Un <em>estereotipo</em> es una etiqueta entre comillas («») que acompaña a la relación y que indica de qué tipo es, o bien aporta más información.</p></li>
<li><p>En <em>Programación</em> se puede usar, entre otras cosas, para representar el hecho de que una clase «usa» a la otra de alguna forma.</p></li>
<li><p>Por ejemplo, cuando un método de una clase necesita acceder a una instancia de otra clase.</p>
<p>En ese caso, esa instancia la puede recibir como argumento, o bien puede crearla y destruirla el propio método.</p></li>
<li><p>También cuando una clase llama a un método de la otra clase.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.3.0.0.1">

<ul>
<li><p>Siguiendo con el ejemplo anterior de la calculadora, si partimos del siguiente código:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">class</span> Calculadora:</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>    <span class="at">@staticmethod</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>    <span class="kw">def</span> suma(x, y):</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>        <span class="co">&quot;&quot;&quot;Devuelve la suma de dos instancias de la clase Numero.&quot;&quot;&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>        <span class="cf">return</span> x.get_valor() <span class="op">+</span> y.get_valor()</span></code></pre></div></li>
<li><p>Aquí ya tenemos claro que se establece una <em>dependencia</em> entre las clases <code>Calculadora</code> y <code>Numero</code>: la clase <code>Calculadora</code> <em>«usa»</em> a la clase <code>Numero</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.3.0.0.2">

<ul>
<li><p>Esa dependencia se representa gráficamente así:</p>
<div class="centered">
<p><img data-src="images/calculadora-dependencia-numero.png" class="plain" style="width:20.0%" /></p>
</div></li>
<li><p>En lugar del estereotipo <em>«usa»</em>, también podríamos haber usado el estereotipo <em>«llama»</em>, que representa el hecho de que la clase origen llama a algún método de la clase destino.</p></li>
</ul>
</section>

<section id="agregación" class="title-slide slide level2" data-number="1.4">
<h2 data-number="1.4"><span class="header-section-number">1.4</span> Agregación</h2>
<ul>
<li><p>La <strong>agregación</strong> es una relación que se establece entre una clase (la <strong>agregadora</strong>) y otra clase (la <strong>agregada</strong>).</p></li>
<li><p>Representa la relación «<strong>tiene</strong>»: la agregadora <em>tiene</em> a la agregada.</p></li>
<li><p>Podríamos decir que la clase agregada <strong>forma parte</strong> de la agregadora, pero de una forma <strong>débil</strong>, ya que los objetos de la clase agregadora y de la clase agregada tienen su existencia propia, independiente unos de otros.</p></li>
<li><p>Para ello, los objetos de la clase agregadora <strong>almacenan referencias</strong> a los objetos agregados.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.1">

<ul>
<li><p>Por tanto:</p>
<ul>
<li><p>La clase agregada puede formar parte de varias clases agregadoras.</p></li>
<li><p>Según sea el caso, un objeto de la clase agregada puede existir aunque no forme parte de ningún objeto de la clase agregadora.</p></li>
<li><p>La clase agregadora no tiene por qué ser la responsable de crear el objeto agregado.</p></li>
<li><p>Cuando se destruye un objeto de la clase agregadora, no es necesario destruir los objetos de la clase agregada.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.2">

<ul>
<li>Por ejemplo:</li>
</ul>
<div class="columns">
<div class="column">
<ul>
<li><p>Los grupos tienen alumnos. Un alumno puede pertenecer a varios grupos, y un alumno existe por sí mismo aunque no pertenezca a ningún grupo.</p></li>
<li><p>La clase <code>Grupo</code> «agrega» a la clase <code>Alumno</code> y contiene referencias a los alumnos del grupo.</p></li>
</ul>
</div><div class="column">
<div class="centered">
<p><img data-src="images/grupo-agrega-alumno.png" class="plain" style="width:30.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="1.4.0.0.3">

<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">class</span> Grupo:</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>        <span class="va">self</span>.__alumnos <span class="op">=</span> []  <span class="co"># Guarda una lista de referencias a Alumnos</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>    <span class="kw">def</span> get_alumnos(<span class="va">self</span>):</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__alumnos</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>    <span class="kw">def</span> meter_alumno(<span class="va">self</span>, alumno):</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a>        <span class="va">self</span>.__alumnos.append(alumno)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a>    <span class="kw">def</span> sacar_alumno(<span class="va">self</span>, alumno):</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a>        <span class="cf">try</span>:</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a>            <span class="va">self</span>.__alumnos.remove(alumno)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a>        <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&quot;El alumno no está en el grupo&quot;</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a>daw1 <span class="op">=</span> Grupo()           <span class="co"># Los objetos los crea...</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a>pepe <span class="op">=</span> Alumno()          <span class="co"># ... el programa principal, así que ...</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a>juan <span class="op">=</span> Alumno()          <span class="co"># ... ningún objeto crea a otro.</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a>daw1.meter_alumno(pepe)  <span class="co"># Metemos en __alumnos una referencia a pepe</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a>daw1.meter_alumno(juan)  <span class="co"># Metemos en __alumnos una referencia a juan</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a>daw1.sacar_alumno(pepe)  <span class="co"># Eliminamos de __alumnos la referencia a pepe</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a>daw2 <span class="op">=</span> Grupo()           <span class="co"># Se crea otro grupo</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a>daw2.meter_alumno(juan)  <span class="co"># juan está en daw1 y daw2 al mismo tiempo</span></span></code></pre></div>
</section>

<section id="composición" class="title-slide slide level2" data-number="1.5">
<h2 data-number="1.5"><span class="header-section-number">1.5</span> Composición</h2>
<ul>
<li><p>La <strong>composición</strong> es una relación que se establece entre una clase (la clase <strong>compuesta</strong>) y otra clase (la clase <strong>componente</strong>).</p></li>
<li><p>Representa la relación «<strong>está compuesto por</strong>»: la compuesta <em>está compuesta por</em> sus componentes.</p></li>
<li><p>También se puede decir que la clase componente <strong>forma parte</strong> de la clase compuesta, pero de una forma <strong>fuerte</strong>, ya que los objetos componentes sólo pueden existir como parte de un objeto compuesto.</p></li>
<li><p>Para ello, los objetos de la clase compuesta <strong>almacenan referencias</strong> de los objetos compuestos, pero de manera que esas referencias no se pueden compartir entre varios objetos compuestos.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.5.0.0.1">

<ul>
<li><p>Por tanto:</p>
<ul>
<li><p>Un objeto componente sólo puede formar parte de un único objeto compuesto.</p></li>
<li><p>Un objeto de la clase componente sólo puede existir como parte de un objeto compuesto.</p></li>
<li><p>La clase compuesta es responsable de crear y almacenar todos sus objetos componentes.</p></li>
<li><p>Cuando se destruye un objeto compuesto, se deben destruir todos sus objetos componentes.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.5.0.0.2">

<ul>
<li>Por ejemplo:</li>
</ul>
<div class="columns">
<div class="column">
<ul>
<li><p>En Twitter, una cuenta tiene una serie de tuits. Cada tuit debe pertenecer a una cuenta, pero no pueden pertenecer a más de una cuenta al mismo tiempo. Cuando se elimina una cuenta, se eliminan todos sus tuits.</p></li>
<li><p>Junto al rombo relleno siempre habrá una multiplicidad de “1”, ya que un componente sólo puede formar parte de un objeto compuesto.</p></li>
</ul>
</div><div class="column">
<div class="centered">
<p><img data-src="images/cuenta-se-compone-de-tuits.png" class="plain" style="width:30.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="1.5.0.0.3">

<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">class</span> Tuit:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, texto):</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>        <span class="va">self</span>.__texto <span class="op">=</span> texto</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a>        <span class="va">self</span>.__ident <span class="op">=</span> <span class="bu">id</span>(<span class="va">self</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true"></a>    <span class="kw">def</span> get_ident(<span class="va">self</span>):</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__ident</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true"></a><span class="kw">class</span> Cuenta:</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true"></a>        <span class="va">self</span>.__tuits <span class="op">=</span> []  <span class="co"># Guarda una lista de referencias a Tuits</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true"></a>    <span class="kw">def</span> get_tuits(<span class="va">self</span>):</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__tuits[:]</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true"></a>    <span class="kw">def</span> crear_tuit(<span class="va">self</span>, texto):</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true"></a>        t <span class="op">=</span> Tuit(texto)           <span class="co"># El tuit se crea dentro de la cuenta</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true"></a>        <span class="va">self</span>.__alumnos.append(t)  <span class="co"># La cuenta almacena el tuit</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true"></a>    <span class="kw">def</span> eliminar_tuit(<span class="va">self</span>, ident):</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true"></a>        <span class="cf">for</span> t <span class="kw">in</span> <span class="va">self</span>.__tuits:</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true"></a>            <span class="cf">if</span> t.get_ident() <span class="op">==</span> ident:</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true"></a>                <span class="va">self</span>.__alumnos.remove(t)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&quot;No existe ningún tuit con ese id&quot;</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true"></a>c1 <span class="op">=</span> Cuenta()</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true"></a>c1.crear_tuit(<span class="st">&quot;Este módulo es muy bonito&quot;</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true"></a>c1.crear_tuit(<span class="st">&quot;Me encanta DAW&quot;</span>)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true"></a>c2 <span class="op">=</span> Cuenta()</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true"></a>c2.crear_tuit(<span class="st">&quot;Odio Programación&quot;</span>)</span></code></pre></div>
</section>
<section class="slide level5" data-number="1.5.0.0.4">

<ul>
<li><p>Resumen:</p>
<table style="width:92%;">
<colgroup>
<col style="width: 47%" />
<col style="width: 22%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Agregación</th>
<th style="text-align: center;">Composición</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Una parte puede pertenecer a…</td>
<td style="text-align: center;">Varios todos</td>
<td style="text-align: center;">Un todo únicamente</td>
</tr>
<tr class="even">
<td>Una parte puede existir aunque no pertenezca a un todo.</td>
<td style="text-align: center;">Sí</td>
<td style="text-align: center;">No</td>
</tr>
<tr class="odd">
<td>El todo es responsable de crear la parte.</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Sí</td>
</tr>
<tr class="even">
<td>El todo es responsable de almacenar la parte.</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Sí</td>
</tr>
<tr class="odd">
<td>Cuando se destruye el todo, se debe destruir la parte.</td>
<td style="text-align: center;">No</td>
<td style="text-align: center;">Sí</td>
</tr>
<tr class="even">
<td>Multiplicidad en el todo.</td>
<td style="text-align: center;">Cualquiera</td>
<td style="text-align: center;">1</td>
</tr>
</tbody>
</table></li>
</ul>
</section>
</section>
<section>
<section id="herencia" class="title-slide slide level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Herencia</h1>

</section>
<section id="generalización" class="title-slide slide level2" data-number="2.1">
<h2 data-number="2.1"><span class="header-section-number">2.1</span> Generalización</h2>
<ul>
<li><p>La relación de <strong>generalización</strong> es un tipo de relación que se da entre una clase (la <strong>superclase</strong> o <strong>clase base</strong>) y otra clase (la <strong>subclase</strong> o <strong>clase derivada</strong>).</p></li>
<li><p>Representa la relación «<strong>es un(a)</strong>»: una instancia de la subclase también <em>es una</em> instancia de la superclase.</p></li>
<li><p>También se puede decir que:</p>
<ul>
<li><p>La subclase <em>es una</em> forma <strong>más especializada</strong> de la superclase.</p></li>
<li><p>La superclase <em>es una</em> forma <strong>más general</strong> de la subclase.</p></li>
</ul></li>
<li><p>La práctica totalidad de los lenguajes orientados a objetos permiten definir subclases a partir de otras clases, creando lo que se denominan <strong>jerarquías de generalización</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.1">

<p>Por ejemplo:</p>
<ul>
<li>En un Instituto hay dos tipos de trabajadores: docentes y PAS (personal de administración y servicios).</li>
</ul>
<div class="columns">
<div class="column">
<ul>
<li><p>Ambos comparten características comunes pero también tienen otras que los diferencian.</p></li>
<li><p>Todo docente «es un» trabajador, y todo PAS también «es un» trabajador.</p></li>
<li><p>Pero no podemos decir que todo trabajador es un docente, ya que podría ser un PAS.</p></li>
<li><p>Por tanto, podemos decir que tanto <code>Docente</code> como <code>PAS</code> son subclases de <code>Trabajador</code>.</p></li>
</ul>
</div><div class="column">
<div class="centered">
<p><img data-src="images/trabajador-generaliza-docente-pas.png" class="plain" style="width:60.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="2.1.0.0.2">

<ul>
<li><p>Se puede usar la generalización para:</p>
<ul>
<li><p><strong>Cambiar o ampliar</strong> las características de una clase creando a partir de ella otra <strong>más especializada</strong> (una <em>subclase</em> de la original).</p></li>
<li><p><strong>Combinar</strong> las características de varias clases en una clase <strong>más general</strong> que agrupe los elementos comunes a todas ellas (una <em>superclase</em> de las originales).</p></li>
</ul></li>
</ul>
</section>

<section id="herencia-1" class="title-slide slide level2" data-number="2.2">
<h2 data-number="2.2"><span class="header-section-number">2.2</span> Herencia</h2>
<ul>
<li><p>A través de la relación de generalización, las subclases adquieren (<em>heredan</em>) las características de la superclase.</p></li>
<li><p>A ese mecanismo se le denomina <strong>herencia</strong>.</p></li>
<li><p>Son dos conceptos distintos pero interconectados:</p>
<ul>
<li><p>La <strong>generalización</strong> es la <em>relación</em> por la cual una clase se convierte en subclase de otra.</p></li>
<li><p>La <strong>herencia</strong> es el <em>mecanismo</em> por el que una subclase adquiere características de la superclase.</p></li>
</ul></li>
<li><p>La herencia puede considerarse como un mecanismo de <strong>reutilización de código</strong> entre la superclase y la subclase, evitando repeticiones innecesarias.</p></li>
</ul>
</section>

<section id="modos" class="title-slide slide level2" data-number="2.3">
<h2 data-number="2.3"><span class="header-section-number">2.3</span> Modos</h2>
<ul>
<li><p>Existen dos modos de generalización, en función de la cantidad de superclases que se le permite tener a una subclase dada:</p>
<ul>
<li><p><strong>Generalización simple</strong>: también llamada <strong>herencia simple</strong>, es cuando una subclase sólo puede tener una superclase.</p></li>
<li><p><strong>Generalización múltiple</strong>: también llamada <strong>herencia múltiple</strong>, es cuando una subclase puede tener varias superclases (no sólo una).</p></li>
</ul></li>
<li><p>Hay lenguajes que sólo admiten herencia simple y lenguajes que admiten herencia múltiple.</p></li>
<li><p>En concreto:</p>
<ul>
<li><p>Python soporta la herencia múltiple.</p></li>
<li><p>Java sólo soporta la herencia simple.</p></li>
</ul></li>
</ul>
</section>
<section id="herencia-simple" class="title-slide slide level3" data-number="2.3.1">
<h3 data-number="2.3.1"><span class="header-section-number">2.3.1</span> Herencia simple</h3>
<ul>
<li><p>En la herencia simple, una clase sólo puede subclase de una única superclase.</p>
<p>Una clase siempre puede ser superclase de muchas clases, pero en la herencia simple sólo puede ser subclase de una única superclase.</p></li>
</ul>
<div class="columns">
<div class="column">
<ul>
<li>Por ejemplo, el caso de un docente que también es un trabajador, de forma que la clase <code>Docente</code> sólo es subclase de <code>Trabajador</code>.</li>
</ul>
</div><div class="column">
<div class="centered">
<p><img data-src="images/trabajador-generaliza-docente.png" class="plain" style="width:35.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="2.3.1.0.1">

<ul>
<li>El siguiente caso también sería herencia simple, ya que tenemos dos relaciones de generalización separadas, pero ninguna subclase tiene más de una superclase:</li>
</ul>
<div class="centered">
<p><img data-src="images/doble-herencia-simple.png" class="plain" style="width:30.0%" /></p>
</div>
<ul>
<li>Por tanto, lo que tenemos son dos herencias simples, no una herencia múltiple.</li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.0.2">

<ul>
<li>Ésto, en cambio, no sería herencia simple, sino múltiple:</li>
</ul>
<div class="centered">
<figure>
<img data-src="images/herencia-multiple.png" class="plain" style="width:30.0%" alt="" /><figcaption>Una subclase con dos superclases (herencia múltiple)</figcaption>
</figure>
</div>
</section>
<section class="slide level5" data-number="2.3.1.0.3">

<ul>
<li><p>Las relaciones de generalización pueden formar una cadena tan larga como sea necesaria.</p></li>
<li><p>Por ejemplo, aquí tenemos <strong>dos</strong> relaciones de generalización simple:</p></li>
</ul>
<div class="columns">
<div class="column">
<div class="centered">
<p><img data-src="images/trabajador-docente-investigador.png" class="plain" style="width:40.0%" /></p>
</div>
</div><div class="column">
<ul>
<li><p><code>Trabajador</code> es <strong>superclase <em>directa</em></strong> de <code>Docente</code> y <strong>superclase <em>indirecta</em></strong> de <code>Investigador</code>.</p></li>
<li><p><code>Docente</code> es subclase (directa) de <code>Trabajador</code> y superclase (directa) de <code>Investigador</code>.</p></li>
<li><p><code>Investigador</code> es <strong>subclase <em>directa</em></strong> de <code>Docente</code> y <strong>subclase <em>indirecta</em></strong> de <code>Trabajador</code>.</p></li>
</ul>
</div>
</div>
</section>
<section class="slide level5" data-number="2.3.1.0.4">

<ul>
<li>La forma de codificar la herencia simple en Python es especificar el nombre de la superclase detrás del nombre de la subclase, entre paréntesis:</li>
</ul>
<div class="columns">
<div class="column" style="width:60%;">
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">class</span> Trabajador:</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Trabajador es la superclase&quot;&quot;&quot;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>    <span class="kw">def</span> set_nombre(<span class="va">self</span>, nombre):</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>        <span class="va">self</span>.__nombre <span class="op">=</span> nombre</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>    <span class="kw">def</span> get_nombre(<span class="va">self</span>):</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__nombre</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a><span class="kw">class</span> Docente(Trabajador):</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Docente es subclase de Trabajador&quot;&quot;&quot;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a>    <span class="kw">def</span> set_nrp(<span class="va">self</span>, nrp):</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>        <span class="va">self</span>.__nrp <span class="op">=</span> nrp</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a>    <span class="kw">def</span> get_nrp(<span class="va">self</span>, nrp):</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__nrp</span></code></pre></div>
</div><div class="column" style="width:40%;">
<ul>
<li>Con este código podemos crear instancias de las clases <code>Trabajador</code> y <code>Docente</code>:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> Trabajador()</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> t.set_nombre(<span class="st">&quot;Manolo&quot;</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> t.get_nombre()</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="co">&#39;Manolo&#39;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> Docente()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d.set_nrp(<span class="dv">273849</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d.get_nrp()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="dv">273948</span></span></code></pre></div>
</div>
</div>
</section>
<section class="slide level5" data-number="2.3.1.0.5">

<ul>
<li>Lo interesante del mecanismo de la herencia es que la subclase adquiere las características de la superclase, por lo que la clase <code>Docente</code> también dispone de los métodos <code>set_nombre()</code> y <code>get_nombre()</code> heredados de <code>Trabajador</code>:</li>
</ul>
<div class="columns">
<div class="column" style="width:60%;">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">class</span> Trabajador:</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Trabajador es la superclase&quot;&quot;&quot;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a>    <span class="kw">def</span> set_nombre(<span class="va">self</span>, nombre):</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true"></a>        <span class="va">self</span>.__nombre <span class="op">=</span> nombre</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true"></a>    <span class="kw">def</span> get_nombre(<span class="va">self</span>):</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__nombre</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true"></a><span class="kw">class</span> Docente(Trabajador):</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Docente es subclase de Trabajador&quot;&quot;&quot;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true"></a>    <span class="kw">def</span> set_nrp(<span class="va">self</span>, nrp):</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true"></a>        <span class="va">self</span>.__nrp <span class="op">=</span> nrp</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true"></a>    <span class="kw">def</span> get_nrp(<span class="va">self</span>, nrp):</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__nrp</span></code></pre></div>
</div><div class="column" style="width:40%;">
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> Trabajador()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> t.set_nombre(<span class="st">&quot;Manolo&quot;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> t.get_nombre()</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a><span class="co">&#39;Manolo&#39;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> Docente()</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d.set_nrp(<span class="dv">273849</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d.get_nrp()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a><span class="dv">273948</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d.set_nombre(<span class="st">&quot;Juan&quot;</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> d.get_nombre()</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a><span class="co">&#39;Juan&#39;</span></span></code></pre></div>
</div>
</div>
<ul>
<li>Es como si el código de los métodos <code>set_nombre()</code> y <code>get_nombre()</code> se hubiesen «copiado y pegado» dentro de la clase <code>Docente</code>.</li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.0.6">

<ul>
<li><p>En realidad, el mecanismo funciona como una lista enlazada, más o menos como los entornos que hemos estudiado hasta ahora.</p></li>
<li><p>Ya hemos visto en la unidad anterior que las <strong>definiciones de las clases</strong> se representan internamente mediante una estructura tipo <strong>diccionario</strong>.</p></li>
<li><p>Esos diccionarios se conectan entre sí formando una <strong>lista enlazada</strong>, de forma que el diccionario que contiene la definición de la subclase <strong>apunta</strong> al diccionario de su <strong>superclase directa</strong>, siguiendo el camino que trazan las relaciones de generalización.</p></li>
<li><p>Esa lista será tan larga como sea necesario, y tendrá tantos diccionarios como clases haya en la cadena de herencia simple.</p></li>
<li><p>De esta forma, la herencia va <em>propagando</em> las características de la superclase a todas sus subclases (<em>directas</em> e <em>indirectas</em>).</p></li>
<li><p>En nuestro caso, el diccionario de <code>Docente</code> apunta al de <code>Trabajador</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.0.7">

<ul>
<li><p>Al llamar a un método sobre un objeto, el intérprete busca el método dentro del diccionario que contiene la definición de la clase del objeto:</p>
<ul>
<li><p>Si encuentra el método, lo usa.</p></li>
<li><p>Si no lo encuentra, sigue subiendo por la lista enlazada localizando el siguiente diccionario (que será el que contenga la definición de su superclase directa), buscando ahí el método solicitado.</p>
<p>El intérprete seguirá buscando en el resto de la lista hasta que encuentre el método o se acabe la cadena de herencia, en cuyo caso dará un error <code>AttributeError</code> por método no encontrado.</p></li>
</ul></li>
</ul>
<div class="centered">
<figure>
<img data-src="images/cadena-herencia-simple.svg" class="plain" style="width:40.0%" alt="" /><figcaption>Cadena de herencia simple</figcaption>
</figure>
</div>
</section>
<section class="slide level5" data-number="2.3.1.0.8">

<ul>
<li><p>Por eso podemos llamar al método <code>set_nombre()</code> sobre una instancia de la clase <code>Docente</code> aunque dicha clase no tenga definido ese método.</p></li>
<li><p>Por el mecanismo de la herencia, el método lo hereda de su superclase <code>Trabajador</code>.</p></li>
<li><p>En tiempo de ejecución, cuando se encuentra una llamada al método <code>set_nombre()</code>, el intérprete busca el método recorriendo la cadena de herencia representada en la lista de diccionarios:</p>
<ul>
<li><p>Primero lo busca en la definición de la clase <code>Docente</code>.</p></li>
<li><p>Como no lo encuentra, a continuación lo busca en la definición de la clase <code>Trabajador</code>.</p></li>
<li><p>Como ahora sí lo ha encontrado, lo ejecuta como si el método hubiese estado definido directamente en la clase <code>Docente</code>.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.0.9">

<ul>
<li><p>Al igual que ocurre con los <em>métodos</em>, las <strong>variables de clase</strong> también se heredan de una clase a sus subclases:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="kw">class</span> A:</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>    cadena <span class="op">=</span> <span class="st">&quot;Hola&quot;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a><span class="kw">class</span> B(A):</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a>    <span class="kw">def</span> saluda(<span class="va">self</span>):</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true"></a>        <span class="bu">print</span>(B.cadena)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true"></a>b <span class="op">=</span> B()</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true"></a>b.saluda()  <span class="co"># Imprime &quot;Hola&quot;</span></span></code></pre></div></li>
</ul>
</section>

<section id="la-clase-object" class="title-slide slide level3" data-number="2.3.2">
<h3 data-number="2.3.2"><span class="header-section-number">2.3.2</span> La clase <code>object</code></h3>
<ul>
<li><p>En Python, todas las clases heredan, directa o indirectamente, de una clase predefinida especial llamada <code>object</code>.</p></li>
<li><p>Eso es así incluso aunque no aparezca explícitamente la clase <code>object</code> como superclase en la definición de la clase.</p></li>
<li><p>Por tanto, la siguiente clase es subclase de <code>object</code> aunque no sea evidente según el código:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="kw">class</span> Prueba:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>    <span class="co"># ... definición de la clase Prueba</span></span></code></pre></div></li>
<li><p>Así que lo anterior es equivalente a:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="kw">class</span> Prueba(<span class="bu">object</span>):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a>    <span class="co"># ... definición de la clase Prueba</span></span></code></pre></div></li>
<li><p>Eso significa que <code>object</code> es la raíz de la jerarquía de clases en todo programa Python.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.2.0.1">

<ul>
<li>En el ejemplo anterior de los trabajadores, docentes e investigadores, en realidad tendríamos la siguiente jerarquía de clases:</li>
</ul>
<div class="centered">
<p><img data-src="images/object-trabajador-docente-investigador.png" class="plain" style="width:70.0%" /></p>
</div>
<ul>
<li><p>Como todas las clases, predefinidas o definidas por el programador, son subclases de <code>object</code> ya sea directa o indirectamente, todas las clases heredarán los atributos (métodos y variables de clase) de la clase <code>object</code>.</p></li>
<li><p>La mayoría son métodos mágicos o variables mágicas (sus nombres empiezan y acaban por <code>__</code>) que traen implementaciones predeterminadas para varias operaciones básicas como <code>==</code>, <code>!=</code>, <code>&lt;=</code>, <code>&lt;</code>, etc.</p></li>
<li><p>También hay operaciones utilizadas internamente por el intérprete durante la ejecución del programa para ayudar a su funcionamiento.</p></li>
</ul>
</section>

<section id="herencia-múltiple" class="title-slide slide level3" data-number="2.3.3">
<h3 data-number="2.3.3"><span class="header-section-number">2.3.3</span> Herencia múltiple</h3>
<ul>
<li><p>En la <strong>herencia múltiple</strong>, una subclase puede tener <strong>varias superclases</strong>.</p></li>
<li><p>La herencia múltiple amplía enormemente las posibilidades del lenguaje de programación, ya que permite el modelado de situaciones que se pueden dar con frecuencia y que se pueden expresar de forma natural generalizando una clase a partir de varias superclases simultáneamente.</p></li>
<li><p>A cambio, introduce una mayor complejidad que la herencia simple a la hora de determinar qué se hereda de dónde.</p></li>
<li><p>Esa mayor complejidad hace que no muchos lenguajes orientados a objetos soporten la herencia múltiple, siendo los más conocidos: Python, C++, Perl y Eiffel.</p></li>
<li><p>Los lenguajes orientados a objetos que no soportan herencia múltiple (que son la mayoría) incorporan mecanismos que ayudan a mitigar esa carencia.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.1">

<ul>
<li><p>Por ejemplo, si queremos modelar el mundo animal, tenemos que hay animales terrestres, acuáticos y anfibios, de manera que estos últimos tienen características de los dos primeros.</p></li>
<li><p>Por tanto, podríamos modelarlo usando herencia múltiple de la siguiente manera:</p></li>
</ul>
<div class="centered">
<figure>
<img data-src="images/animales-anfibios.png" class="plain" style="width:30.0%" alt="" /><figcaption>Los anfibios son terrestres y acuáticos al mismo tiempo (herencia múltiple)</figcaption>
</figure>
</div>
</section>
<section class="slide level5" data-number="2.3.3.0.2">

<ul>
<li><p>Y en Python se escribiría así:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="kw">class</span> Animal:</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Animal</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a><span class="kw">class</span> Terrestre(Animal):</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Terrestre</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a><span class="kw">class</span> Acuatico(Animal):</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Acuatico</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a><span class="kw">class</span> Anfibio(Terrestre, Acuatico):</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Anfibio</span></span></code></pre></div></li>
<li><p>Es decir: en la definición de la subclase indicamos todas las superclases que tenga, entre paréntesis y separadas por comas.</p></li>
<li><p>El orden en el que se escriban las superclases tiene importancia, como veremos luego.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.3">

<ul>
<li><p>Como <code>Anfibio</code> es subclase de <code>Terrestre</code> y de <code>Acuatico</code> al mismo tiempo, heredará los métodos de ambas clases simultáneamente.</p></li>
<li><p>También heredará los métodos definidos en la clase <code>Animal</code>, por la sencilla razón de que <code>Terrestre</code> y <code>Acuatico</code> también los hereda, por lo que <code>Anfibio</code> los hereda a través de estas dos.</p></li>
<li><p>Pero a la hora de buscar un método en la cadena de herencia, ya no es tan fácil como crear una simple lista de diccionarios como teníamos antes, ya que ahora no hay un único camino entre dos clases según las relaciones de generalización.</p></li>
<li><p>Por ejemplo: para ir de <code>Anfibio</code> a <code>Animal</code>, podemos pasar por <code>Terrestre</code> o por <code>Acuatico</code>.</p></li>
<li><p>Entonces: ¿cómo se decide ahora en qué orden se busca un método entre todas las clases de la jerarquía de herencia?</p></li>
<li><p>Este es el llamado problema del <strong>orden de resolución de métodos</strong> (<em>Method Resolution Order</em> o <strong><em>MRO</em></strong>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.4">

<ul>
<li><p>Por si fuera poco, aún tenemos otro problema que con la herencia simple no teníamos, y que es aún más complicado.</p></li>
<li><p>Supongamos que tanto la clase <code>Terrestre</code> como <code>Acuatico</code> disponen de un método <code>mover()</code>, de forma que todos los animales terrestres se mueven caminando, mientras que los acuáticos lo hacen nadando.</p></li>
<li><p>Por tanto, ambas clases disponen de una implementación distinta del mismo método <code>mover()</code>.</p></li>
<li><p>Son métodos que tienen la misma signatura pero que se comportan de distinta forma.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.5">

<div class="columns">
<div class="column">
<ul>
<li>Tenemos, por tanto, la siguiente situación:</li>
</ul>
<div class="centered">
<figure>
<img data-src="images/animales-anfibios-mover.png" class="plain" style="width:60.0%" alt="" /><figcaption>El método <code>mover()</code> está en <code>Terrestre</code> y <code>Acuatico</code></figcaption>
</figure>
</div>
</div><div class="column">
<ul>
<li><p>La pregunta es: ¿cuál de los métodos <code>mover()</code> heredará <code>Anfibio</code>?</p>
<ul>
<li><p>¿El de <code>Terrestre</code>?</p></li>
<li><p>¿El de <code>Acuatico</code>?</p></li>
<li><p>¿Los dos a la vez?</p></li>
</ul></li>
<li><p>Ahí tenemos una ambigüedad que hay que resolver de alguna manera.</p></li>
<li><p>A este problema se le denomina <strong>problema del diamante</strong>.</p></li>
<li><p>El mecanismo para resolver esa ambigüedad depende del lenguaje.</p></li>
</ul>
</div>
</div>
</section>
<section class="slide level5" data-number="2.3.3.0.6">

<ul>
<li><p>Python implementa un mecanismo basado en un algoritmo llamado <strong>linealización C3</strong>, que establece un orden de prioridad entre todas las clases a la hora de seleccionar un método de la cadena de herencia.</p></li>
<li><p>Es decir: el algoritmo ordena las clases en una lista, de forma que las clases que aparezcan antes en la lista tendrán más prioridad a la hora de seleccionar un método.</p></li>
<li><p>De esta forma, si hay métodos repetidos en la cadena de herencia en clases distintas, el algoritmo seleccionará siempre uno de ellos según el orden que haya determinado para las clases.</p></li>
<li><p>Así, Python resuelve los dos problemas (el del MRO y el del diamante) al mismo tiempo con un solo algoritmo.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.7">

<ul>
<li><p>Para ver en detalle cómo funciona la linealización C3, se recomienda consultar su página en Wikipedia:</p>
<p><a href="https://en.wikipedia.org/wiki/C3_linearization">https://en.wikipedia.org/wiki/C3_linearization</a></p></li>
<li><p>A nosotros, lo que nos interesa principalmente es que el programador puede influir en el orden de resolución de métodos según el orden en el que escriba las superclases a la hora de definir la subclase.</p></li>
<li><p>Por tanto, no es lo mismo hacer:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="kw">class</span> Anfibio(Terrestre, Acuatico):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a>   <span class="co"># ...</span></span></code></pre></div>
<p>Que hacer:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a><span class="kw">class</span> Anfibio(Acuatico, Terrestre):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a>   <span class="co"># ...</span></span></code></pre></div></li>
<li><p>Si aplicamos el algoritmo en ambos casos, obtenemos resultados distintos.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.8">

<ul>
<li><p>En concreto, si aplicamos el algoritmo al siguiente código:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="kw">class</span> Animal:</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Animal</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a><span class="kw">class</span> Terrestre(Animal):</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Terrestre</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true"></a><span class="kw">class</span> Acuatico(Animal):</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Acuatico</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true"></a><span class="kw">class</span> Anfibio(Terrestre, Acuatico):</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Anfibio</span></span></code></pre></div>
<p>obtenemos que el orden de resolución de métodos para la clase <code>Anfibio</code> sería la lista:</p>
<p><code>[Anfibio, Terrestre, Acuatico, Animal, object]</code></p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.9">

<ul>
<li><p>En cambio, si lo aplicamos al siguiente código:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="kw">class</span> Animal:</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Animal</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a><span class="kw">class</span> Terrestre(Animal):</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Terrestre</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a><span class="kw">class</span> Acuatico(Animal):</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Acuatico</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true"></a><span class="kw">class</span> Anfibio(Acuatico, Terrestre):</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true"></a>   <span class="co"># ... definición de la clase Anfibio</span></span></code></pre></div>
<p>el orden de resolución de métodos para la clase <code>Anfibio</code> sería:</p>
<p><code>[Anfibio, Acuatico, Terrestre, Animal, object]</code></p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.10">

<ul>
<li><p>La lista de clases que devuelve el algoritmo es la que el intérprete iría siguiendo desde el principio hasta encontrar el método solicitado.</p></li>
<li><p>Es decir: el algoritmo transforma una jerarquía que no es lineal en una lista lineal, por lo que volvemos a tener lo mismo que teníamos en la herencia simple: una lista enlazada de diccionarios que representan clases.</p></li>
<li><p>Por eso el algoritmo se llama <em>linealización</em> C3.</p></li>
</ul>
</section>


<section id="superclases-y-subclases" class="title-slide slide level2" data-number="2.4">
<h2 data-number="2.4"><span class="header-section-number">2.4</span> Superclases y subclases</h2>

</section>

<section id="utilización-de-clases-heredadas" class="title-slide slide level2" data-number="2.5">
<h2 data-number="2.5"><span class="header-section-number">2.5</span> Utilización de clases heredadas</h2>

</section>
</section>
<section>
<section id="polimorfismo" class="title-slide slide level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Polimorfismo</h1>

</section>
<section id="concepto" class="title-slide slide level2" data-number="3.1">
<h2 data-number="3.1"><span class="header-section-number">3.1</span> Concepto</h2>
<ul>
<li><p>El <strong>polimorfismo</strong> es una de las características básicas de la Programación Orientada a Objetos.</p></li>
<li><p>Decimos que <strong>los objetos son <em>polimórficos</em></strong>.</p></li>
<li><p>La palabra «polimorfismo» significa «muchas formas», y se refiere al hecho de que una referencia:</p>
<ol type="a">
<li><p>puede apuntar a un objeto cuya clase no está determinada de antemano y puede cambiar durante la ejecución del programa, y</p></li>
<li><p>puede pertenecer a varias clases al mismo tiempo.</p></li>
</ol></li>
</ul>
<!--

- La palabra «polimorfismo» significa «muchas formas», y se refiere al hecho de
  que la clase del objeto al que apunta una referencia puede no estar
  determinada de antemano y puede cambiar durante la ejecución del programa.

-->
<ul>
<li>Por tanto, cuando tenemos una referencia almacenada en una variable, esta apunta a un objeto que puede pertenecer a una clase de entre muchas, o incluso puede pertenecer a varias clases al mismo tiempo.</li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.1">

<ul>
<li><p>Esto debido a que la generalización establece una relación «es un» entre la subclase y la superclase.</p></li>
<li><p>Por ejemplo, <code>Docente</code> es subclase de <code>Trabajador</code>, por lo que una instancia de la clase <code>Docente</code> también se considera una instancia (indirecta) de la clase <code>Trabajador</code> (los docentes «son» trabajadores).</p></li>
<li><p>Eso significa que <strong>un objeto puede pertenecer a varias clases al mismo tiempo</strong>, de forma que puede ser instancia directa de una clase y, al mismo tiempo, ser instancia indirecta de otras clases.</p></li>
<li><p>En Python existen las funciones <code>isinstance</code> y <code>issubclass</code> que nos ayudan a entender las relaciones de generalización entre clases y cuándo un objeto es instancia (directa o indirecta) de una clase.</p></li>
<li><p>En todo caso, se suelen usar muy poco, ya que el gran poder del polimorfismo es precisamente <strong>escribir código que no dependa de la clase concreta a la que pertenezca un objeto</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.2">

<ul>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">class</span> A:</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>...     <span class="cf">pass</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a>...</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">issubclass</span>(A, <span class="bu">object</span>)     <span class="co"># &#39;A&#39; es subclase de &#39;object&#39;</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a><span class="va">True</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">issubclass</span>(<span class="bu">object</span>, A)     <span class="co"># &#39;object&#39; NO es subclase de &#39;A&#39;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a><span class="va">False</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">issubclass</span>(A, A)          <span class="co"># &#39;A&#39; es subclase de sí misma</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true"></a><span class="va">True</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> A()                   <span class="co"># Creamos &#39;a&#39; instanciando &#39;A&#39;</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(a, A)          <span class="co"># &#39;a&#39; es instancia (directa) de &#39;A&#39;</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true"></a><span class="va">True</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(a, <span class="bu">object</span>)     <span class="co"># &#39;a&#39; es instancia (indirecta) de &#39;object&#39;</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true"></a><span class="va">True</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">isinstance</span>(a, <span class="bu">int</span>)        <span class="co"># &#39;a&#39; NO es instancia de &#39;int&#39;</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true"></a><span class="va">False</span></span></code></pre></div></li>
</ul>
</section>

<section id="principio-de-sustitución-de-liskov" class="title-slide slide level2" data-number="3.2">
<h2 data-number="3.2"><span class="header-section-number">3.2</span> Principio de sustitución de Liskov</h2>
<ul>
<li><p>Sabiendo eso, podemos enunciar el llamado <strong>principio de sustitución de Liskov</strong> (introducido por Barbara Liskov en 1987) y que dice así:</p>
<div class="caja">
<p><strong>Principio de sustitución de Liskov</strong></p>
<p>Si <span class="math inline">S</span> es una subclase de <span class="math inline">T</span>, entonces las instancias de <span class="math inline">T</span> pueden ser sustituidas por instancias de <span class="math inline">S</span> sin alterar el correcto funcionamiento del programa.</p>
</div></li>
<li><p>O dicho de otra forma: allí donde se espere una instancia de una determinada clase, es posible colocar una instancia de cualquier subclase suya.</p></li>
<li><p>Este principio es consecuencia del concepto de <em>generalización</em> entre clases, que ya conocemos.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.1">

<ul>
<li><p>Por ejemplo, supongamos que tenemos una función (o un método) que recibe dos objetos de la clase <code>Trabajador</code> y calcula la diferencia entre sus salarios.</p></li>
<li><p>En Python, podría tener este aspecto:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="kw">class</span> Trabajador:</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, nombre, salario):</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>        <span class="va">self</span>.set_nombre(nombre)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a>        <span class="va">self</span>.set_salario(salario)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a>    <span class="kw">def</span> set_nombre(<span class="va">self</span>, nombre):</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a>        <span class="va">self</span>.__nombre <span class="op">=</span> nombre</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true"></a>    <span class="kw">def</span> get_nombre(<span class="va">self</span>):</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__nombre</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true"></a>    <span class="kw">def</span> set_salario(<span class="va">self</span>, salario):</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true"></a>        <span class="va">self</span>.__salario <span class="op">=</span> salario</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true"></a>    <span class="kw">def</span> get_salario(<span class="va">self</span>):</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__salario</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true"></a></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true"></a><span class="kw">def</span> diferencia_salarios(t1, t2):</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;t1 y t2 son instancias de Trabajador&quot;&quot;&quot;</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true"></a>    <span class="cf">return</span> t1.get_salario() <span class="op">-</span> t2.get_salario()</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.2">

<ul>
<li><p>La función <code>diferencia_salarios</code> supone que sus dos argumentos son instancias de la clase <code>Trabajador</code>, por lo que asume que puede invocar el método <code>get_salario</code> sobre cada uno de ellos. De esta forma, obtiene su salario y puede calcular su diferencia:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> pepe <span class="op">=</span> Trabajador(<span class="st">&quot;Pepe&quot;</span>, <span class="dv">12500</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> juan <span class="op">=</span> Trabajador(<span class="st">&quot;Juan&quot;</span>, <span class="dv">8300</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> diferencia_salarios(pepe, juan)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a><span class="dv">4200</span></span></code></pre></div></li>
<li><p>Recordemos que un docente también es un trabajador (es una subclase suya):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="kw">class</span> Docente(Trabajador):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a>    <span class="kw">def</span> get_especialidad(<span class="va">self</span>):</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a>        <span class="cf">return</span> <span class="va">self</span>.__especialidad</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a>    <span class="kw">def</span> set_especialidad(<span class="va">self</span>, especialidad):</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a>        <span class="va">self</span>.__especialidad <span class="op">=</span> especialidad</span></code></pre></div></li>
<li><p>Por tanto, <code>Docente</code> hereda los métodos de <code>Trabajador</code>, incluyendo <code>get_salario</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.3">

<ul>
<li><p>Así, por el principio de sustitución, podemos enviarle como argumentos a <code>diferencia_salarios</code> instancias de la clase <code>Docente</code> en lugar de instancias de la clase <code>Trabajador</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> maria <span class="op">=</span> Docente(<span class="st">&quot;María&quot;</span>, <span class="dv">18000</span>)      <span class="co"># Se llama al __init__ heredado de Trabajador</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> antonio <span class="op">=</span> Docente(<span class="st">&quot;Antonio&quot;</span>, <span class="dv">15000</span>)  <span class="co"># Igual</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> diferencia_salarios(maria, antonio)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true"></a><span class="dv">3000</span></span></code></pre></div></li>
<li><p>Funciona porque <code>diferencia_salarios</code> llama al método <code>get_salario</code> de los objetos que recibe, los cuales ahora son instancias de <code>Docente</code>, pero <code>Docente</code> hereda los métodos de <code>Trabajador</code> incluyendo <code>get_salario</code>.</p></li>
<li><p>Comprobamos que se cumple perfectamente el principio de sustitución.</p></li>
<li><p>La gran ventaja es que la función <code>diferencia_salarios</code> es capaz de calcular la diferencia de salarios de cualquier tipo de trabajador, ya sea un trabajador genérico o un docente, o un investigador… o incluso otro tipo que aún no existe siquiera.</p></li>
<li><p>Eso es así porque sabemos que todos los trabajadores (sean del tipo que sean) responden al mensaje <code>get_salario</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.4">

<ul>
<li><p>En el código de la función <code>diferencia_salarios</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a><span class="kw">def</span> diferencia_salarios(t1, t2):</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;t1 y t2 son instancias de Trabajador&quot;&quot;&quot;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true"></a>    <span class="cf">return</span> t1.get_salario() <span class="op">-</span> t2.get_salario()</span></code></pre></div>
<p>los argumentos <code>t1</code> y <code>t2</code> son referencias a objetos que pueden adoptar varias formas:</p>
<ul>
<li><p>Pueden ser trabajadores o pueden ser cualquier tipo específico de trabajador (docente, investigador o cualquier otro que ni siquiera exista aún).</p></li>
<li><p>De hecho, pueden ser varias cosas al mismo tiempo:</p>
<ul>
<li><p>Pueden ser docentes y trabajadores al mismo tiempo.</p></li>
<li><p>O pueden ser investigadores, docentes y trabajadores al mismo tiempo.</p></li>
<li><p>Etcétera.</p></li>
</ul></li>
</ul></li>
<li><p>Por eso se dice que <code>t1</code> y <code>t2</code> son objetos polimórficos.</p></li>
</ul>
</section>

<section id="duck-typing" class="title-slide slide level2" data-number="3.3">
<h2 data-number="3.3"><span class="header-section-number">3.3</span> <em>Duck typing</em></h2>
<ul>
<li><p>En un lenguaje de tipado dinámico como Python, el principio de sustitución y el polimorfismo adoptan un enfoque aún más extremo.</p></li>
<li><p>Si volvemos al código de la función <code>diferencia_salarios</code>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a><span class="kw">def</span> diferencia_salarios(t1, t2):</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;t1 y t2 son instancias de Trabajador&quot;&quot;&quot;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a>    <span class="cf">return</span> t1.get_salario() <span class="op">-</span> t2.get_salario()</span></code></pre></div>
<p>observamos que en ningún momento se exige que <code>t1</code> y <code>t2</code> sean instancias (directas o indirectas) de la clase <code>Trabajador</code>.</p></li>
<li><p>En realidad, lo único que necesita la función es que tanto <code>t1</code> como <code>t2</code> respondan al mensaje <code>get_salario</code> sin recibir ningún argumento y devolviendo un número (para que luego se puedan restar).</p></li>
<li><p>Por tanto, cualquier objeto de cualquier clase nos valdría siempre que cumpliera la condición anterior; no hace falta que sean trabajadores.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.0.0.1">

<ul>
<li>En los lenguajes dinámicos hay un dicho que afirma:</li>
</ul>
<div class="caja centered">
<p><em>«Si camina como un pato y habla como un pato, entonces es un pato.»</em></p>
</div>
<ul>
<li><p>A esto se le conoce como <strong><em>duck typing</em></strong>, y significa que <strong>lo importante no es la clase</strong> a la que pertenece un objeto, sino «qué aspecto tiene», es decir, <strong>a qué mensajes es capaz de responder y cómo</strong>.</p></li>
<li><p>Es exactamente lo que ocurre con la función <code>diferencia_salarios</code>. Nos vale cualquier objeto que responda adecuadamente al mensaje <code>get_salario</code>.</p></li>
<li><p>El <em>duck typing</em> hace que la programación orientada a objetos resulte mucho más flexible, puesto que lo importante no es la jerarquía de clases que se define, sino cómo se comportan los objetos.</p></li>
<li><p>Son más importantes los objetos que las clases.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.0.0.2">

<ul>
<li><p>Por ejemplo, supongamos que queremos calcular el área de una superficie rectangular dados su ancho y su alto, y suponemos que todos los rectángulos disponen de los métodos <code>get_ancho</code> y <code>get_alto</code>:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a><span class="kw">def</span> area(rect):</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a>    <span class="cf">return</span> rect.get_ancho() <span class="op">*</span> rect.get_alto()</span></code></pre></div></li>
<li><p>Cualquier objeto que responda correctamente a esos dos métodos nos valdría como argumento <code>rect</code> de la función <code>area</code>.</p></li>
<li><p>Por ejemplo, una ventana o una figura rectangular tienen ancho y alto, y las clases <code>Ventana</code> y <code>Rectangulo</code> pueden ser clases totalmente independientes, sin relación entre sí:</p></li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="kw">class</span> Ventana:</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a>    <span class="kw">def</span> get_ancho(<span class="va">self</span>):</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a>        <span class="co"># ...</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a>    <span class="kw">def</span> get_alto(<span class="va">self</span>):</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a>        <span class="co"># ...</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a>    <span class="co"># ... resto de la clase</span></span></code></pre></div>
</div><div class="column">
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="kw">class</span> Rectangulo:</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a>    <span class="kw">def</span> get_ancho(<span class="va">self</span>):</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a>        <span class="co"># ...</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true"></a>    <span class="kw">def</span> get_alto(<span class="va">self</span>):</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true"></a>        <span class="co"># ...</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true"></a>    <span class="co"># ... resto de la clase</span></span></code></pre></div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.3.0.0.3">

<ul>
<li><p>Y la misma función nos valdría para calcular el área de ventanas, rectángulos y cualquier otra cosa que tenga ancho y alto:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> v <span class="op">=</span> Ventana(<span class="dv">4</span>, <span class="dv">3</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> area(v)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true"></a><span class="dv">12</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> r <span class="op">=</span> Rectangulo(<span class="dv">8</span>, <span class="dv">5</span>)</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true"></a><span class="op">&gt;&gt;&gt;</span> area(r)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true"></a><span class="dv">40</span></span></code></pre></div></li>
</ul>
</section>

<section id="sobreescritura-de-métodos" class="title-slide slide level2" data-number="3.4">
<h2 data-number="3.4"><span class="header-section-number">3.4</span> Sobreescritura de métodos</h2>

</section>

<section id="super" class="title-slide slide level2" data-number="3.5">
<h2 data-number="3.5"><span class="header-section-number">3.5</span> <code>super()</code></h2>

</section>

<section id="sobreescritura-de-constructores" class="title-slide slide level2" data-number="3.6">
<h2 data-number="3.6"><span class="header-section-number">3.6</span> Sobreescritura de constructores</h2>

</section>

<section id="clases-abstractas-y-métodos-abstractos" class="title-slide slide level2" data-number="3.7">
<h2 data-number="3.7"><span class="header-section-number">3.7</span> Clases abstractas y métodos abstractos</h2>

</section>
</section>
<section id="herencia-vs.-composición" class="title-slide slide level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Herencia vs. composición</h1>

</section>
    </div>
  </div>

  <script src="./reveal.js/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="./reveal.js/plugin/notes/notes.js"></script>
  <script src="./reveal.js/plugin/search/search.js"></script>
  <script src="./reveal.js/plugin/zoom/zoom.js"></script>
  <script src="./reveal.js/plugin/reveal.js-menu/menu.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,
        height: 1080,

        menu: {
          hideMissingTitles: true,
        },

        dependencies: [
          { src: './reveal.js/plugin/reveal.js-quiz/quiz/js/quiz.js', async: true, callback: function() { prepareQuizzes({preventUnanswered: true, checkAnswerText: 'Comprueba la respuesta', nextQuestionText: 'Siguiente &raquo;', backButtonText: '&laquo; Anterior', tryAgainText: 'Prueba de nuevo', preventUnansweredText: 'Selecciona una respuesta', questionCountText: 'Pregunta %current de %total', skipStartButton: true}); } }
        ],

        // reveal.js plugins
        plugins: [
          RevealMenu,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
