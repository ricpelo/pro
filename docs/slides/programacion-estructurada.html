<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Ricardo Pérez López">
  <title>Programación estructurada</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="shortcut icon" type="image/png" href="/assets/icons/icon.png">
  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <style type="text/css">
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #cb4b16; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #d33682; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #dc322f; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #93a1a1; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #268bd2; } /* DataType */
code span.dv { color: #d33682; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #d33682; } /* Float */
code span.fu { color: #268bd2; } /* Function */
code span.im { font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #268bd2; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #a57800; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #2aa198; } /* SpecialString */
code span.st { color: #2aa198; } /* String */
code span.va { color: #6c71c4; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="reveal.js/css/theme/solarized.css" id="theme">
  <link rel="stylesheet" href="custom.css"/>
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <style type="text/css">
      #header-left {
          position: absolute;
          font-size: 25%;
          top: 0%;
          left: 0%;
          margin-left: 10px;
          margin-top: 10px;
      }
      #header-right {
          position: absolute;
          font-size: 25%;
          top: 0%;
          right: 0%;
          margin-right: 10px;
          margin-top: 10px;
      }
      #footer-left {
          position: absolute;
          font-size: 25%;
          bottom: 0%;
          left: 0%;
          margin-left: 10px;
          margin-bottom: 10px;
      }
  </style>
</head>
<body>
<div id="hidden" style="display:none;">
    <div id="header">
        <div id="header-left"></div>
        <div id="header-right"></div>
        <div id="footer-left"></div>
    </div>
</div>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(event) {
        var title = document.getElementsByClassName('title')[0];
        title = title != null ? title.innerHTML : '';
        var author = document.getElementsByClassName('author')[0];
        author = author != null ? author.innerHTML : '';
        var date = document.getElementsByClassName('date')[0];
        date = date != null ? date.innerHTML : '';
        var el = document.createElement('a');
        var href = '#/title-slide';
        el.href = href;
        el.innerHTML = title;
        document.getElementById('header-left').appendChild(el);
        document.getElementById('footer-left').innerHTML = '&copy; ' + author + ' (' + date + ')';

        function updateHeader(nd) {
            var hr = document.getElementById('header-right');
            while (hr.children.length > 0) {
                hr.removeChild(hr.lastChild);
            }
            buscar(nd, 3, hr);
            buscar(nd, 2, hr);
            buscar(nd, 1, hr);
            hr.style.fontSize = Math.round(50 * Reveal.getScale()) + '%';
            hr.style.fontSize = Math.max(Number.parseInt(getComputedStyle(hr).fontSize), 12) + 'px';
            var hl = document.getElementById('header-left');
            hl.style.fontSize = hr.style.fontSize;
        }

        function buscar(nd, level, hr) {
            if (!nd.classList.contains('level' + (level - 1))) {
                for (var n = nd; n != null; n = n.previousSibling) {
                    if (n.nodeType == Node.TEXT_NODE) {
                        continue;
                    }
                    var cl = n.classList;
                    if (cl.contains('level' + level)) {
                        var h = n.querySelector('h' + level);
                    } else if (cl.contains('level' + (level - 1))) {
                        break;
                    } else {
                        continue;
                    }
                    if (h == null || Reveal.getCurrentSlide().id == 'title-slide') {
                        hr.innerHTML = '';
                    } else {
                        var el = document.createElement('a');
                        var href = '#/' + n.id;
                        el.href = href;
                        el.innerHTML = h.innerHTML;
                        var a = el.querySelector('a');
                        if (a !== null) {
                            a.href = href;
                        }
                        if (hr.innerHTML != '') {
                            hr.innerHTML = ' &mdash; ' + hr.innerHTML;
                        }
                        hr.insertBefore(el, hr.firstChild);
                    }
                    break;
                }
            }
        }

        // On Reveal.js ready event, copy header/footer <div>
        // into each `.slide-background` <div>
        Reveal.addEventListener('ready', function(event) {
            var header = document.getElementById('header');
            document.querySelector('.reveal').appendChild(header);
            updateHeader(Reveal.getCurrentSlide());
        });

        Reveal.addEventListener('slidechanged', function(event) {
            // event.previousSlide, event.currentSlide, event.indexh, event.indexv
            updateHeader(event.currentSlide);
        });
    });
</script>
  <div class="reveal">
    <div class="slides">

<section>
<section id="title-slide" class="title-slide slide level1">
  <h1 class="title">Programación estructurada</h1>
  <p class="author">Ricardo Pérez López</p>
  <p class="date">IES Doñana, curso 2019/2020</p>
</section>
<section id="TOC" class="slide level2">
<ul>
<li><a href="#/funciones-definidas-por-el-usuario"><span class="toc-section-number">1</span> Funciones definidas por el usuario</a></li>
<li><a href="#/teorema-de-böhm-jacopini"><span class="toc-section-number">2</span> Teorema de Böhm-Jacopini</a></li>
<li><a href="#/estructuras-básicas-de-control"><span class="toc-section-number">3</span> Estructuras básicas de control</a></li>
<li><a href="#/metodología-de-la-programación-estructurada"><span class="toc-section-number">4</span> Metodología de la programación estructurada</a></li>
<li><a href="#/captura-de-excepciones"><span class="toc-section-number">5</span> Captura de excepciones</a></li>
</ul>
</section>
</section>

<section><section id="funciones-definidas-por-el-usuario" class="title-slide slide level1"><h1><span class="header-section-number">1</span> Funciones definidas por el usuario</h1></section><section id="definición-de-funciones-con-nombre" class="title-slide slide level2"><h2><span class="header-section-number">1.1</span> Definición de funciones con nombre</h2><ul>
<li><p>En programación imperativa también podemos definir funciones.</p></li>
<li><p>Al igual que ocurre en programación funcional, una función en programación imperativa es una construcción sintáctica que acepta argumentos y produce un resultado.</p></li>
<li><p>Pero a diferencia de lo que ocurre en programación funcional, una función en programación imperativa es una <strong>secuencia de sentencias</strong>.</p></li>
<li><p>Las funciones en programación imperativa conforman los bloques básicos que nos permiten <strong>descomponer un programa en partes</strong> que se combinan entre sí.</p></li>
<li><p>Todavía podemos construir funciones mediante expresiones lambda, pero Python nos proporciona otro mecanismo para definir funciones en estilo imperativo: las <strong>funciones con nombre</strong>.</p></li>
</ul></section><section class="slide level4">

<div class="columns">
<div class="column" style="width:45%;">
<ul>
<li><p>La sintaxis para definir una función con nombre es:</p>
<div class="line-block"><strong><code>def</code></strong> <span style="color:teal"><em>&lt;nombre&gt;</em></span><strong><code>(</code></strong>[<span style="color:teal"><em>&lt;parámetros&gt;</em></span>]<strong><code>)</code><code>:</code></strong><br />
      <span style="color:teal"><em>&lt;cuerpo&gt;</em></span></div></li>
</ul>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:50%;">
<ul>
<li><p>donde:</p>
<div class="line-block"><span style="color:teal"><em>&lt;cuerpo&gt;</em></span> ::= <span style="color:teal"><em>&lt;sentencia&gt;</em></span>+</div></li>
</ul>
</div>
</div>
<ul>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">def</span> saluda(persona):</a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="bu">print</span>(<span class="st">&#39;Hola&#39;</span>, persona)</a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="bu">print</span>(<span class="st">&#39;Encantado de saludarte&#39;</span>)</a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">def</span> despide():</a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="bu">print</span>(<span class="st">&#39;Hasta luego, Lucas&#39;</span>)</a></code></pre></div></li>
<li><p>Notas importantes:</p>
<ul>
<li><p>Tiene que haber, al menos, <em>una</em> sentencia.</p></li>
<li><p>Las sentencias van <strong>indentadas</strong> (o <em>sangradas</em>) dentro de la definición de la función, con el mismo nivel de indentación.</p></li>
<li><p>El final de la función se deduce al encontrarse una sentencia con un <strong>nivel de indentación superior</strong> (en el caso de arriba, otro <code>def</code>).</p></li>
</ul></li>
</ul>
</section><section class="slide level4">

<div class="caja">
<p><strong>Conclusión:</strong></p>
<p>En Python, la <strong>estructura</strong> del programa viene definida por la <strong>indentación</strong> del código.</p>
</div>
</section><section id="paso-de-argumentos" class="title-slide slide level2"><h2><span class="header-section-number">1.2</span> Paso de argumentos</h2><ul>
<li><p>Existen distintos mecanismos de paso de argumentos, dependiendo del lenguaje de programación utilizado.</p></li>
<li><p>Los más conocidos son los llamados <strong>paso de argumentos <em>por valor</em></strong> y <strong>paso de argumentos <em>por referencia</em></strong>.</p></li>
<li><p>En Python existe un único mecanismo de paso de argumentos llamado <strong>paso de argumentos <em>por asignación</em></strong> o también, a veces, <strong>paso de argumentos <em>por nombre</em></strong>.</p></li>
<li><p>En la práctica resulta bastante sencillo.</p></li>
<li><p>Consiste en suponer que <strong>el argumento <em>se asigna</em> al parámetro</strong> correspondiente, con toda la semántica relacionada con los <em>alias</em> de variables, inmutabilidad, mutabilidad, etcétera.</p></li>
</ul></section><section class="slide level4">

<ul>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">def</span> saluda(persona):</a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="bu">print</span>(<span class="st">&#39;Hola&#39;</span>, persona)</a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="bu">print</span>(<span class="st">&#39;Encantado de saludarte&#39;</span>)</a>
<a class="sourceLine" id="cb2-4" title="4"></a>
<a class="sourceLine" id="cb2-5" title="5">saluda(<span class="st">&#39;Manolo&#39;</span>)  <span class="co"># Saluda a Manolo</span></a>
<a class="sourceLine" id="cb2-6" title="6">x <span class="op">=</span> <span class="st">&#39;Juan&#39;</span></a>
<a class="sourceLine" id="cb2-7" title="7">saluda(x)         <span class="co"># Saluda a Juan</span></a></code></pre></div></li>
<li><p>En la línea 5 se asigna a <code>persona</code> el valor <code>Manolo</code> (como si se hiciera <code>persona = Manolo</code>).</p></li>
<li><p>En la línea 7 se asigna a <code>persona</code> el valor de <code>x</code>, como si se hiciera <code>persona = x</code>, lo que sabemos que crea un <em>alias</em> (que no afectaría ya que el valor pasado es una cadena, y por tanto inmutable).</p></li>
</ul>
</section><section class="slide level4">

<ul>
<li><p>En caso de pasar un argumento mutable:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">def</span> cambia(l):</a>
<a class="sourceLine" id="cb3-2" title="2">    <span class="bu">print</span>(l)</a>
<a class="sourceLine" id="cb3-3" title="3">    l.append(<span class="dv">99</span>)</a>
<a class="sourceLine" id="cb3-4" title="4"></a>
<a class="sourceLine" id="cb3-5" title="5">lista <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb3-6" title="6">cambia(lista)     <span class="co"># Imprime [1, 2, 3]</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="bu">print</span>(lista)      <span class="co"># Imprime [1, 2, 3, 99]</span></a></code></pre></div></li>
<li><p>La función es capaz de <strong>cambiar el estado de la lista que se ha pasado como argumento</strong> ya que, al llamar a la función, el argumento <code>lista</code> se pasa a la función <strong>asignándola</strong> al parámetro <code>l</code>, haciendo que ambas variables sean <em>alias</em> una de la otra (se refieren al mismo objeto) y, por tanto, la función está modificando la misma variable que se ha pasado como argumento (<code>lista</code>).</p></li>
</ul>
</section><section id="la-sentencia-return" class="title-slide slide level2"><h2><span class="header-section-number">1.3</span> La sentencia <code>return</code></h2><ul>
<li><p>Para devolver el resultado de la función al código que la llamó, hay que usar una sentencia <code>return</code>.</p></li>
<li><p>Cuando el intérprete encuentra una sentencia <code>return</code> dentro de una función:</p>
<ul>
<li><p>se finaliza la ejecución de la función,</p></li>
<li><p>se devuelve el control al punto del programa en el que se llamó a la función y</p></li>
<li><p>la función devuelve como resultado el valor de retorno definido en la sentencia <code>return</code>.</p></li>
</ul></li>
</ul></section><section class="slide level4">

<ul>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">def</span> suma(x, y):</a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="cf">return</span> x <span class="op">+</span> y</a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4">a <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Introduce el primer número: &#39;</span>)</a>
<a class="sourceLine" id="cb4-5" title="5">b <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Introduce el segundo número: &#39;</span>)</a>
<a class="sourceLine" id="cb4-6" title="6">resultado <span class="op">=</span> suma(a, b)</a>
<a class="sourceLine" id="cb4-7" title="7"><span class="bu">print</span>(<span class="st">&#39;El resultado es:&#39;</span>, resultado)</a></code></pre></div></li>
<li><p>La función se define en las líneas 1–2. El intérprete lee la definición de la función pero no ejecuta sus sentencias en ese momento (lo hará cuando se <em>llame</em> a la función).</p></li>
<li><p>En la línea 6 se llama a la función <code>suma</code> pasándole como argumentos los valores de <code>a</code> y <code>b</code>, asignándose a <code>x</code> e <code>y</code>, respectivamente.</p></li>
<li><p>Dentro de la función, se calcula la suma <code>x + y</code> y la sentencia <code>return</code> finaliza la ejecución de la función, devolviendo el control al punto en el que se la llamó (la línea 6) y haciendo que su valor de retorno sea el valor calculado en la suma anterior (el valor de la expresión que acompaña al <code>return</code>).</p></li>
</ul>
</section><section class="slide level4">

<ul>
<li><p>El valor de retorno de la función sustituye a la llamada a la función en la expresión en la que aparece dicha llamada, al igual que ocurre con las expresiones lambda.</p></li>
<li><p>Por tanto, una vez finalizada la ejecución de la función, la línea 6 se reescribe sustituyendo la llamada a la función por su valor.</p></li>
<li><p>Si, por ejemplo, suponemos que el usuario ha introducido los valores <code>5</code> y <code>7</code> en las variables <code>a</code> y <code>b</code>, respectivamente, tras finalizar la ejecución de la función tendríamos que la línea 6 quedaría:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb5-1" title="1">resultado <span class="op">=</span> <span class="dv">12</span></a></code></pre></div>
<p>y la ejecución del programa continuaría por ahí.</p></li>
</ul>
</section><section class="slide level4">

<ul>
<li><p>También es posible usar la sentencia <code>return</code> sin devolver ningún valor.</p></li>
<li><p>En ese caso, su utilidad es la de finalizar la ejecución de la función en algún punto intermedio de su código.</p></li>
<li><p>Pero en Python todas las funciones devuelven algún valor.</p></li>
<li><p>Lo que ocurre en este caso es que la función devuelve el valor <code>None</code>:</p></li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">def</span> hola():</a>
<a class="sourceLine" id="cb6-2" title="2">  <span class="bu">print</span>(<span class="st">&#39;Hola&#39;</span>)</a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="cf">return</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="bu">print</span>(<span class="st">&#39;Adiós&#39;)  # aquí no llega</span></a>
<a class="sourceLine" id="cb6-5" title="5"></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="st">hola()</span></a></code></pre></div>
<p>imprime:</p>
<pre><code>Hola</code></pre>
</div><div class="column">
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">def</span> hola():</a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="bu">print</span>(<span class="st">&#39;Hola&#39;</span>)</a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="cf">return</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="bu">print</span>(<span class="st">&#39;Adiós&#39;)</span></a>
<a class="sourceLine" id="cb8-5" title="5"></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="st">x = hola()  # devuelve None</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="st">print(x)</span></a></code></pre></div>
<p>imprime:</p>
<pre><code>Hola
None</code></pre>
</div>
</div>
</section><section id="ámbito-de-variables" class="title-slide slide level2"><h2><span class="header-section-number">1.4</span> Ámbito de variables</h2><ul>
<li><p>La función <code>suma</code> se podría haber escrito así:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">def</span> suma(x, y):</a>
<a class="sourceLine" id="cb10-2" title="2">    res <span class="op">=</span> x <span class="op">+</span> y</a>
<a class="sourceLine" id="cb10-3" title="3">    <span class="cf">return</span> res</a></code></pre></div>
<p>y el efecto final habría sido el mismo.</p></li>
<li><p>La variable <code>res</code> que aparece en el cuerpo de la función es una <strong>variable local</strong> y sólo existe dentro de la función. Por tanto, esto sería incorrecto:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">def</span> suma(x, y):</a>
<a class="sourceLine" id="cb11-2" title="2">    res <span class="op">=</span> x <span class="op">+</span> y</a>
<a class="sourceLine" id="cb11-3" title="3">    <span class="cf">return</span> res</a>
<a class="sourceLine" id="cb11-4" title="4"></a>
<a class="sourceLine" id="cb11-5" title="5">resultado <span class="op">=</span> suma(<span class="dv">4</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb11-6" title="6"><span class="bu">print</span>(res)  <span class="co"># da error</span></a></code></pre></div>
<p>Da error porque la variable <code>res</code> no está definida en el ámbito actual.</p></li>
</ul></section><section id="variables-locales" class="title-slide slide level3"><h3><span class="header-section-number">1.4.1</span> Variables locales</h3><ul>
<li><p>Al igual que pasa con las expresiones lambda, las definiciones de funciones generan un nuevo ámbito.</p></li>
<li><p>Tanto los parámetros como las variables que se definan en el cuerpo de la función son <strong>locales</strong> a ella, y por tanto sólo existen dentro de ella (su ámbito es el <em>cuerpo</em> de la función).</p></li>
<li><p>Eso significa que se crea un nuevo marco en el entorno, que contendrá, en principio, los parámetros y las variables locales a la función.</p></li>
</ul>
<div class="columns">
<div class="column" style="width:40%;">
<div class="centered">
<figure>
<img data-src="images/funcion-entorno-fuera.svg" alt="Entorno en la línea 6" class="plain" style="width:70.0%" /><figcaption>Entorno en la línea 6</figcaption>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="centered">
<figure>
<img data-src="images/funcion-entorno-dentro.svg" alt="Entorno dentro de la función" class="plain" style="width:100.0%" /><figcaption>Entorno dentro de la función</figcaption>
</figure>
</div>
</div>
</div></section><section id="variables-globales" class="title-slide slide level3"><h3><span class="header-section-number">1.4.2</span> Variables globales</h3><ul>
<li><p>Desde dentro de una función es posible usar variables globales.</p></li>
<li><p>Pero para ello es necesario que la función la declare previamente como <em>global</em> antes de usarla.</p></li>
<li><p>De no hacerlo así, el intérprete supondría que el programador se refiere a una variable local que tiene el mismo nombre que la global:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb12-1" title="1">x <span class="op">=</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="kw">def</span> prueba():</a>
<a class="sourceLine" id="cb12-4" title="4">    x <span class="op">=</span> <span class="dv">5</span>  <span class="co"># esta variable es local</span></a>
<a class="sourceLine" id="cb12-5" title="5"></a>
<a class="sourceLine" id="cb12-6" title="6">prueba()</a>
<a class="sourceLine" id="cb12-7" title="7"><span class="bu">print</span>(x)  <span class="co"># imprime 4</span></a></code></pre></div></li>
</ul></section><section id="global" class="slide level4">
<h4><span class="header-section-number">1.4.2.1</span> <code>global</code></h4>
<ul>
<li><p>Para declarar una variable como global, se usa la sentencia <code>global</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb13-1" title="1">x <span class="op">=</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb13-2" title="2"></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="kw">def</span> prueba():</a>
<a class="sourceLine" id="cb13-4" title="4">    <span class="kw">global</span> x  <span class="co"># se declara que la variable x es global</span></a>
<a class="sourceLine" id="cb13-5" title="5">    x <span class="op">=</span> <span class="dv">5</span>     <span class="co"># cambia el valor de la variable global x</span></a>
<a class="sourceLine" id="cb13-6" title="6"></a>
<a class="sourceLine" id="cb13-7" title="7">prueba()</a>
<a class="sourceLine" id="cb13-8" title="8"><span class="bu">print</span>(x)  <span class="co"># imprime 5</span></a></code></pre></div></li>
</ul>
</section><section class="slide level4">

<ul>
<li><p>Las reglas básicas de uso de la sentencia <code>global</code> en Python son:</p>
<ol>
<li><p>Cuando se crea una variable dentro de una función, por omisión es local.</p></li>
<li><p>Cuando se define una variable fuera de una función, por omisión es global (no hace falta usar la sentencia <code>global</code>).</p></li>
<li><p>Se usa la sentencia <code>global</code> para consultar y cambiar el valor de una variable global dentro de una función.</p></li>
<li><p>El uso de la sentencia <code>global</code> fuera de una función no tiene ningún efecto.</p></li>
<li><p>La sentencia <code>global</code> debe aparecer <em>antes</em> de que se use la variable global correspondiente.</p></li>
</ol></li>
</ul>
</section><section id="efectos-laterales" class="slide level4">
<h4><span class="header-section-number">1.4.2.3</span> Efectos laterales</h4>
<ul>
<li><p>Cambiar el estado de una variable global es uno de los ejemplos más claros y conocidos de los llamados <strong>efectos laterales</strong>.</p></li>
<li><p>Recordemos que una función tiene (o <em>provoca</em>) efectos laterales cuando provoca cambios de estado observables en el exterior de la función, más allá de devolver su valor de retorno. Típicamente:</p>
<ul>
<li><p>Cuando cambia el valor de una variable global</p></li>
<li><p>Cuando cambia un argumento mutable</p></li>
<li><p>Cuando realiza una operación de entrada/salida</p></li>
</ul></li>
<li><p>Una función que provoca efectos laterales es una <strong>función impura</strong>, a diferencia de las <strong>funciones puras</strong>, que no tienen efectos laterales.</p></li>
</ul>
</section><section class="slide level4">

<ul>
<li><p>Un ejemplo de <strong>función impura</strong> (con un efecto lateral provocado por una operación de entrada/salida) podría ser:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">def</span> suma(x, y):</a>
<a class="sourceLine" id="cb14-2" title="2">    res <span class="op">=</span> x <span class="op">+</span> y</a>
<a class="sourceLine" id="cb14-3" title="3">    <span class="bu">print</span>(<span class="st">&#39;La suma vale&#39;</span>, res)</a>
<a class="sourceLine" id="cb14-4" title="4">    <span class="cf">return</span> res</a>
<a class="sourceLine" id="cb14-5" title="5"></a>
<a class="sourceLine" id="cb14-6" title="6">resultado <span class="op">=</span> suma(<span class="dv">4</span>, <span class="dv">3</span>) <span class="op">+</span> suma(<span class="dv">8</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb14-7" title="7"><span class="bu">print</span>(resultado)</a></code></pre></div>
<p>Cualquiera que no sepa cómo está construida internamente la función <code>suma</code>, se podría pensar que lo único que hace es calcular la suma de dos números, pero resulta que también imprime un mensaje en la salida, por lo que el resultado final que se obtiene no es el que se esperaba:</p>
<pre><code>La suma vale 7
La suma vale 13
20</code></pre></li>
</ul>
</section><section class="slide level4">

<ul>
<li><p>Las llamadas a la función <code>suma</code> no se pueden sustituir por su valor de retorno correspondiente. Es decir, que no es lo mismo hacer:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb16-1" title="1">resultado <span class="op">=</span> suma(<span class="dv">4</span>, <span class="dv">3</span>) <span class="op">+</span> suma(<span class="dv">8</span>, <span class="dv">5</span>)</a></code></pre></div>
<p>que hacer:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb17-1" title="1">resultado <span class="op">=</span> <span class="dv">7</span> <span class="op">+</span> <span class="dv">13</span></a></code></pre></div></li>
<li><p>Por tanto, la función <code>suma</code> no cumple la <strong>transparencia referencial</strong>.</p></li>
</ul>
</section><section class="slide level4">

<ul>
<li><p>El uso de la sentencia <code>global</code> supone otra forma de perder transparencia referencial, puesto que, gracias a ella, una función puede leer y cambiar el valor de una variable global, lo que la convertiría en <strong>impura</strong> por partida doble, ya que:</p>
<ul>
<li><p>su valor de retorno podría depender de algo más que de sus argumentos (en este caso, de la variable global), y</p></li>
<li><p>podría provocar cambios de estado observables fuera de la función (la modificación de la variable global)</p></li>
</ul></li>
<li><p>En consecuencia, la función podría producir resultados distintos en momentos diferentes:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">def</span> suma(x, y):</a>
<a class="sourceLine" id="cb18-2" title="2">    <span class="kw">global</span> z</a>
<a class="sourceLine" id="cb18-3" title="3">    res <span class="op">=</span> x <span class="op">+</span> y <span class="op">+</span> z  <span class="co"># impureza: depende del valor de una variable global</span></a>
<a class="sourceLine" id="cb18-4" title="4">    z <span class="op">=</span> z <span class="op">+</span> <span class="dv">1</span>        <span class="co"># efecto lateral: cambia una variable global</span></a>
<a class="sourceLine" id="cb18-5" title="5">    <span class="cf">return</span> res</a>
<a class="sourceLine" id="cb18-6" title="6"></a>
<a class="sourceLine" id="cb18-7" title="7">z <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="bu">print</span>(suma(<span class="dv">4</span>, <span class="dv">3</span>))  <span class="co"># imprime 7</span></a>
<a class="sourceLine" id="cb18-9" title="9"><span class="bu">print</span>(suma(<span class="dv">4</span>, <span class="dv">3</span>))  <span class="co"># la misma llamada a función ahora imprime 8</span></a></code></pre></div></li>
</ul>
</section><section id="declaraciones-de-tipos" class="title-slide slide level2"><h2><span class="header-section-number">1.5</span> Declaraciones de tipos</h2></section><section id="declaraciones-de-tipo-de-argumento" class="title-slide slide level3"><h3><span class="header-section-number">1.5.1</span> Declaraciones de tipo de argumento</h3></section><section id="declaraciones-de-tipo-de-devolución" class="title-slide slide level3"><h3><span class="header-section-number">1.5.2</span> Declaraciones de tipo de devolución</h3></section><section id="funciones-locales-a-funciones" class="title-slide slide level2"><h2><span class="header-section-number">1.6</span> Funciones locales a funciones</h2></section><section id="nonlocal" class="title-slide slide level3"><h3><span class="header-section-number">1.6.1</span> <code>nonlocal</code></h3></section><section id="docstrings" class="title-slide slide level2"><h2><span class="header-section-number">1.7</span> <em>Docstrings</em></h2></section></section>
<section id="teorema-de-böhm-jacopini" class="title-slide slide level1"><h1><span class="header-section-number">2</span> Teorema de Böhm-Jacopini</h1></section>
<section><section id="estructuras-básicas-de-control" class="title-slide slide level1"><h1><span class="header-section-number">3</span> Estructuras básicas de control</h1></section><section id="concepto-de-estructura" class="title-slide slide level2"><h2><span class="header-section-number">3.1</span> Concepto de estructura</h2></section><section id="secuencia" class="title-slide slide level2"><h2><span class="header-section-number">3.2</span> Secuencia</h2></section><section id="selección" class="title-slide slide level2"><h2><span class="header-section-number">3.3</span> Selección</h2></section><section id="iteración" class="title-slide slide level2"><h2><span class="header-section-number">3.4</span> Iteración</h2></section></section>
<section><section id="metodología-de-la-programación-estructurada" class="title-slide slide level1"><h1><span class="header-section-number">4</span> Metodología de la programación estructurada</h1></section><section id="recursos-abstractos" class="title-slide slide level2"><h2><span class="header-section-number">4.1</span> Recursos abstractos</h2></section><section id="diseño-descendente" class="title-slide slide level2"><h2><span class="header-section-number">4.2</span> Diseño descendente</h2></section><section id="refinamiento-sucesivo" class="title-slide slide level2"><h2><span class="header-section-number">4.3</span> Refinamiento sucesivo</h2></section></section>
<section id="captura-de-excepciones" class="title-slide slide level1"><h1><span class="header-section-number">5</span> Captura de excepciones</h1></section>
    </div>
  </div>

  <script src="reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,
        height: 1080,

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'reveal.js/plugin/notes/notes.js', async: true },
          { src: 'reveal.js/plugin/reveal.js-menu/menu.js', async: true },
          { src: 'reveal.js/plugin/reveal.js-quiz/quiz/js/quiz.js', async: true, callback: function() { prepareQuizzes({preventUnanswered: true, checkAnswerText: 'Comprueba la respuesta', nextQuestionText: 'Siguiente &raquo;', backButtonText: '&laquo; Anterior', tryAgainText: 'Prueba de nuevo', preventUnansweredText: 'Selecciona una respuesta', questionCountText: 'Pregunta %current de %total', skipStartButton: true}); } },
          { src: 'reveal.js/plugin/reveal-code-focus/vendor/highlight.js/highlight.pack.js' },
          { src: 'reveal.js/plugin/reveal-code-focus/reveal-code-focus.js', async: true, callback: function() { RevealCodeFocus(); } },
          { src: 'reveal.js/plugin/search/search.js', async: true },
          { src: 'reveal.js/plugin/customcontrols/customcontrols.js', async: true }
        ],

        customcontrols: {
          controls: [
            { icon: '<i class="fa fa-question-circle"></i>',
			  css: 'position: fixed; right: 50px; bottom: 50px; z-index: 30; font-size: 24px;',
			  action: 'Reveal.toggleHelp(); return false;'
			}
          ]
        },

        menu: {
          numbers: true,
          hideMissingTitles: true,
          themes: true,
          themesPath: 'reveal.js/css/theme/'
        }
      });
    </script>
    </body>
</html>
