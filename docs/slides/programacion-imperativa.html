<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Ricardo Pérez López">
  <title>Programación imperativa</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="./reveal.js/dist/reset.css">
  <link rel="stylesheet" href="./reveal.js/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #268bd2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #cb4b16; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #d33682; } /* BaseN */
    code span.bu { color: #4070a0; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #dc322f; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #93a1a1; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #6c71c4; } /* DataType */
    code span.dv { color: #d33682; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #d33682; } /* Float */
    code span.fu { color: #4070a0; } /* Function */
    code span.im { font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #268bd2; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #a57800; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #2aa198; } /* SpecialString */
    code span.st { color: #2aa198; } /* String */
    code span.va { color: #6c71c4; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="./reveal.js/dist/theme/solarized.css" id="theme">
  <link rel="stylesheet" href="custom.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <style type="text/css">
      #header-left {
          position: absolute;
          font-size: 25%;
          top: 0%;
          left: 0%;
          margin-left: 10px;
          margin-top: 10px;
      }
      #header-right {
          position: absolute;
          font-size: 25%;
          top: 0%;
          right: 0%;
          margin-right: 10px;
          margin-top: 10px;
      }
      #footer-left {
          position: absolute;
          font-size: 25%;
          bottom: 0%;
          left: 0%;
          margin-left: 10px;
          margin-bottom: 10px;
      }
  </style>
</head>
<body>
<div id="hidden" style="display:none;">
    <div id="header">
        <div id="header-left"></div>
        <div id="header-right"></div>
        <div id="footer-left"></div>
    </div>
</div>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(event) {
        var title = document.getElementsByClassName('title')[0];
        title = title != null ? title.innerHTML : '';
        var author = document.getElementsByClassName('author')[0];
        author = author != null ? author.innerHTML : '';
        var date = document.getElementsByClassName('date')[0];
        date = date != null ? date.innerHTML : '';
        document.getElementById('header-left').innerHTML = '<a href="#/title-slide">' + title + '</a>';
        document.getElementById('footer-left').innerHTML = '<a href="https://pro.iesdonana.org">&copy; ' + author + ' (' + date + ')</a>';

        function updateHeader(nd) {
            var hr = document.getElementById('header-right');
            while (hr.children.length > 0) {
                hr.removeChild(hr.lastChild);
            }
            buscar(nd, 3, hr);
            buscar(nd, 2, hr);
            buscar(nd, 1, hr);
            hr.style.fontSize = Math.round(50 * Reveal.getScale()) + '%';
            hr.style.fontSize = Math.max(Number.parseInt(getComputedStyle(hr).fontSize), 12) + 'px';
            var hl = document.getElementById('header-left');
            hl.style.fontSize = hr.style.fontSize;
        }

        function buscar(nd, level, hr) {
            if (!nd.classList.contains('level' + (level - 1))) {
                for (var n = nd; n != null; n = n.previousSibling) {
                    if (n.nodeType == Node.TEXT_NODE) {
                        continue;
                    }
                    var cl = n.classList;
                    if (cl.contains('level' + level)) {
                        var h = n.querySelector('h' + level);
                    } else if (cl.contains('level' + (level - 1))) {
                        break;
                    } else {
                        continue;
                    }
                    if (h == null || Reveal.getCurrentSlide().id == 'title-slide') {
                        hr.innerHTML = '';
                    } else {
                        var el = document.createElement('a');
                        var href = '#/' + n.id;
                        el.href = href;
                        el.innerHTML = h.innerHTML;
                        var a = el.querySelector('a');
                        if (a !== null) {
                            a.href = href;
                        }
                        if (hr.innerHTML != '') {
                            hr.innerHTML = ' &mdash; ' + hr.innerHTML;
                        }
                        hr.insertBefore(el, hr.firstChild);
                    }
                    break;
                }
            }
        }

        // On Reveal.js ready event, copy header/footer <div>
        // into each `.slide-background` <div>
        Reveal.addEventListener('ready', function(event) {
            var header = document.getElementById('header');
            document.querySelector('.reveal').appendChild(header);
            updateHeader(Reveal.getCurrentSlide());
        });

        Reveal.addEventListener('slidechanged', function(event) {
            // event.previousSlide, event.currentSlide, event.indexh, event.indexv
            updateHeader(event.currentSlide);
        });
    });
</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Programación imperativa</h1>
  <p class="author">Ricardo Pérez López</p>
  <p class="date">IES Doñana, curso 2021/2022</p>
</section>
<section id="TOC">
<ul>
<li><a href="#/modelo-de-ejecución"><span class="toc-section-number">1</span> Modelo de ejecución</a></li>
<li><a href="#/asignación-destructiva"><span class="toc-section-number">2</span> Asignación destructiva</a></li>
<li><a href="#/mutabilidad"><span class="toc-section-number">3</span> Mutabilidad</a></li>
<li><a href="#/cambios-de-estado-ocultos"><span class="toc-section-number">4</span> Cambios de estado ocultos</a></li>
<li><a href="#/saltos"><span class="toc-section-number">5</span> Saltos</a></li>
</ul>
</section>

<section>
<section id="modelo-de-ejecución" class="title-slide slide level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Modelo de ejecución</h1>

</section>
<section id="máquina-de-estados" class="title-slide slide level2" data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span> Máquina de estados</h2>
<ul>
<li><p>La <strong>programación imperativa</strong> es un paradigma de programación basado en los conceptos de «<strong><em>estado</em></strong>» y «<strong><em>sentencia</em></strong>».</p></li>
<li><p>Un programa imperativo está formado por una <strong>secuencia de sentencias</strong></p></li>
<li><p>El programa imperativo va pasando por diferentes <strong>estados</strong> a medida que se van ejecutando las sentencias que lo forman.</p></li>
<li><p>Por tanto, una <strong>sentencia</strong> es una instrucción que cambia el estado del programa.</p></li>
<li><p>El <strong>fundamento teórico</strong> de la programación imperativa son las <strong>máquinas de Turing</strong> y de <strong>Von Neumann</strong>, que son modelos abstractos de cómo funciona un ordenador.</p></li>
<li><p>El <strong>modelo de ejecución</strong> de un programa imperativo es el de una <strong>máquina de estados</strong>, es decir, un dispositivo abstracto que va pasando por diferentes estados a medida que el programa va ejecutándose.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.1">

<ul>
<li><p>El concepto de «<em><strong>tiempo</strong></em>» también es muy importante en programación imperativa, ya que el estado del programa va cambiando a lo largo del tiempo conforme se van ejecutando las sentencias que lo forman.</p></li>
<li><p>A su vez, el comportamiento del programa depende del estado en el que se encuentre.</p>
<p>Eso significa que, ante los mismos datos de entrada, una función en programación imperativa puede devolver <strong>valores distintos en momentos distintos</strong>.</p></li>
<li><p>En programación funcional, en cambio, el comportamiento de una función no depende del momento en el que se ejecute, ya que siempre devolverá los mismos resultados ante los mismos datos de entrada (<em>transparencia referencial</em>).</p></li>
<li><p>Eso significa que, para modelar el comportamiento de un programa imperativo, ya <strong>no nos vale el modelo de sustitución</strong> que hemos estado usando hasta ahora en programación funcional.</p></li>
</ul>
</section>

<section id="sentencias" class="title-slide slide level2" data-number="1.2">
<h2 data-number="1.2"><span class="header-section-number">1.2</span> Sentencias</h2>
<ul>
<li><p>Las <strong>sentencias</strong> son las instrucciones principales que componen un programa imperativo.</p></li>
<li><p>La ejecución de una sentencia <strong>cambia el estado interno del programa</strong> provocando uno de estos <strong>efectos</strong>:</p>
<ul>
<li><p><strong>Cambiar las coordenadas</strong> del proceso asociado al programa, normalmente mediante la llamada <strong>sentencia de asignación</strong>.</p></li>
<li><p>Cambiar el <strong>flujo de control</strong> del programa, haciendo que la ejecución se bifurque (<em>salte</em>) a otra parte del mismo.</p></li>
</ul></li>
<li><p>La principal diferencia entre una <em>sentencia</em> y una <em>expresión</em> es que las sentencias no denotan ningún valor, sino que son órdenes a ejecutar por el programa para producir un <em>efecto</em>.</p>
<ul>
<li><p>Las <em>expresiones</em> se <em>evalúan</em> y devuelven un <em>valor</em>.</p></li>
<li><p>Las <em>sentencias</em> se <em>ejecutan</em> para producir un <em>efecto</em>.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.2.0.0.1">

<ul>
<li><p><strong>En un lenguaje funcional puro:</strong></p>
<ul>
<li><p>Un programa es una expresión.</p></li>
<li><p>Ejecutar un programa consiste en evaluar dicha expresión usando las definiciones predefinidas del lenguaje y las definidas por el programador.</p></li>
<li><p>Todo son expresiones, excepto las sentencias que producen el efecto de crear <em>ligaduras</em> (como las sentencias de definición, o de importación de módulos).</p></li>
<li><p>Evaluar una expresión no produce ningún otro efecto salvo el de calcular su valor.</p></li>
<li><p>Las expresiones devuelven siempre el mismo valor (tienen <em>transparencia referencial</em>).</p></li>
<li><p>El comportamiento de un programa se puede modelar usando el <em>modelo de sustitución</em>.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.2.0.0.2">

<ul>
<li><p><strong>En cambio, en un lenguaje imperativo:</strong></p>
<ul>
<li><p>Los programas están formados por sentencias que, al ejecutarse, van cambiando el estado del programa.</p></li>
<li><p>El valor de una expresión depende del estado de en el que se encuentre el programa en el momento de evaluar dicha expresión (no hay <em>transparencia referencial</em>).</p></li>
<li><p>Evaluar una expresión puede provocar otros efectos (los llamados <em>efectos laterales</em>) más allá de calcular su valor.</p></li>
<li><p>En muchos lenguajes imperativos es posible colocar una expresión donde debería ir una sentencia (aunque no al revés).</p>
<p>Esto sólo resultaría útil en caso de que la evaluación de la expresión provocara <em>efectos laterales</em>. De lo contrario, el valor de la evaluación se perdería sin más y no habría servido de nada calcularlo.</p></li>
</ul></li>
</ul>
</section>

<section id="secuencia-de-sentencias" class="title-slide slide level2" data-number="1.3">
<h2 data-number="1.3"><span class="header-section-number">1.3</span> Secuencia de sentencias</h2>
<ul>
<li><p>Un programa imperativo está formado por una <strong>secuencia de sentencias</strong>.</p></li>
<li><p>Ejecutar un programa imperativo es provocar los <strong>cambios de estado</strong> que dictan las sentencias en el <strong>orden</strong> definido por el programa.</p></li>
<li><p>Las sentencias del programa van provocando <strong>transiciones</strong> entre estados, haciendo que la máquina pase de un estado al siguiente.</p></li>
<li><p>Para modelar el comportamiento de un programa imperativo tendremos que saber en qué estado se encuentra el programa, para lo cual tendremos que seguirle la pista desde su estado inicial al estado actual.</p></li>
<li><p>Eso básicamente se logra «ejecutando» mentalmente el programa sentencia por sentencia y llevando la cuenta de los cambios que van produciendo conforme se van ejecutando.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.3.0.0.1">

<ul>
<li><p>Al decir que un programa imperativo está formado por una <em>secuencia</em> de sentencias, estamos diciendo que importa mucho el orden en el que están colocadas las sentencias dentro del programa.</p></li>
<li><p>En general, un programa imperativo se comportará de forma diferente si se cambia el orden en el que se ejecutan sus sentencias.</p>
<p>Por eso, si se ejecuta <em>A</em> antes que <em>B</em>, el programa seguramente no producirá el mismo efecto que si se ejecuta <em>B</em> antes que <em>A</em>.</p></li>
<li><p>Por ejemplo, muchas veces el funcionamiento de una sentencia <em>B</em> depende del efecto producido por una sentencia <em>A</em> anterior. Por tanto, en ese caso, <em>A</em> debería ejecutarse antes que <em>B</em>.</p></li>
</ul>
</section>
</section>
<section>
<section id="asignación-destructiva" class="title-slide slide level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Asignación destructiva</h1>

</section>
<section id="identidad" class="title-slide slide level2" data-number="2.1">
<h2 data-number="2.1"><span class="header-section-number">2.1</span> Identidad</h2>
<ul>
<li><p>Todos los valores se almacenan en una zona de la memoria conocida como el <strong>montículo</strong>.</p></li>
<li><p>Cada vez que aparece un nuevo dato en el programa, el intérprete lo crea dentro del montículo a partir de una determinada dirección de la memoria y ocupando el espacio de memoria que se necesite en función del tamaño que tenga el dato.</p></li>
<li><p>Se denomina <strong>identidad del dato</strong> a un número entero que va asociado siempre al dato, que es único y constante durante toda la vida del dato, y que sirve para identificar, localizar y acceder al dato dentro del montículo.</p></li>
<li><p>Generalmente, la identidad de un dato coincide con la <strong>dirección de comienzo</strong> de la zona que ocupa el dato dentro del montículo, aunque ese es un detalle de funcionamiento interno del intérprete.</p></li>
<li><p>Si dos datos existen a la vez, no pueden tener la misma identidad; en caso contrario, sí que pueden.</p></li>
</ul>
<!--

- Si en el montículo ya existe un dato exactamente igual al que se tiene que
  crear, en la mayoría de los casos el intérprete aprovecha el que ya existe y
  no crea uno nuevo, para así ahorrar memoria.

-->
</section>
<section id="id" class="title-slide slide level3" data-number="2.1.1">
<h3 data-number="2.1.1"><span class="header-section-number">2.1.1</span> <code>id</code></h3>
<ul>
<li><p>La identidad de un dato se puede consultar usando la función <code class="sourceCode python"><span class="bu">id</span></code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dv">140294723570672</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="dv">140294723570672</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(<span class="dv">5</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="dv">9784992</span></span></code></pre></div></li>
<li><p>La identidad del dato (es decir, el número entero que devuelve la función <code class="sourceCode python"><span class="bu">id</span></code> aplicado al dato) no cambia durante la ejecución de un programa ni durante una sesión con el intérprete interactivo.</p></li>
<li><p>Pero en dos ejecuciones distintas del mismo programa, o en dos sesiones distintas con el intérprete interactivo, su valor sí puede cambiar (y lo normal es que cambie).</p></li>
<li><p>En realidad, la identidad del dato, como tal, no tiene ningún significado especial en sí mismo. Da igual qué número sea. Lo importante es que sea único y constante para cada dato.</p></li>
</ul>
</section>


<section id="variables-y-referencias" class="title-slide slide level2" data-number="2.2">
<h2 data-number="2.2"><span class="header-section-number">2.2</span> Variables y referencias</h2>
<ul>
<li><p>Una <strong>variable</strong> es un lugar en la <strong>memoria</strong> donde se puede <strong>almacenar la identidad</strong> de un dato almacenado en el montículo.</p></li>
<li><p>En tal caso, decimos que la variable <strong>es una referencia al dato</strong>, o que <strong>contiene una referencia al dato</strong>, o que <strong>hace referencia al dato</strong> o que <strong>apunta al dato</strong>.</p></li>
<li><p>Por abuso del lenguaje, también se suele decir que la variable <strong>almacena o contiene el dato</strong>, aunque eso no es estrictamente cierto.</p></li>
<li><p>El valor de una variable (o mejor dicho, la referencia que contiene) <strong>puede cambiar</strong> durante la ejecución del programa, haciendo que la variable pueda <em>apuntar</em> a distintos valores durante la ejecución del programa.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.1">

<ul>
<li><p>A partir de ahora, un identificador no se liga directamente con un valor, sino que tendremos:</p>
<ul>
<li><p>Una <strong>ligadura</strong> entre un identificador y una <strong>variable</strong>.</p></li>
<li><p>La variable <strong>hace referencia</strong> al valor.</p></li>
</ul></li>
</ul>
<div class="centered">
<p><img data-src="images/identificador-variable-valor.svg" class="plain" style="width:70.0%" /></p>
</div>
</section>
<section class="slide level5" data-number="2.2.0.0.2">

<ul>
<li><p>Este comportamiento es el propio de los <strong>lenguajes de programación <em>orientados a objetos</em></strong> (como Python o Java), que son los lenguajes imperativos más usados a día de hoy.</p></li>
<li><p>Otros lenguajes imperativos más «clásicos» se comportan, en general, de una forma diferente.</p></li>
<li><p>En esos lenguajes (como C o Pascal), los valores se almacenan directamente dentro de las variables, es decir, las variables son contenedores que almacenan valores.</p></li>
<li><p>Por tanto, el compilador tiene que reservar espacio suficiente en la memoria para cada variable del programa de manera que dicha variable pueda contener un dato de un determinado tamaño y que ese dato «quepa» dentro de la variable.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.3">

<ul>
<li><p>De todos modos, algunos lenguajes de programación tienen un comportamiento híbrido, que combina ambas técnicas:</p>
<ul>
<li><p>En Java, existen <em>tipos primitivos</em> (cuyos valores se almacenan directamente en las variables) y <em>tipos referencia</em> (cuyos valores se almacenan en el montículo y las variables contienen referencias a esos valores).</p></li>
<li><p>En C, los valores se almacenan dentro de las variables, pero es posible reservar memoria dinámicamente dentro del montículo y almacenar en una variable un <em>puntero</em> al comienzo de dicha zona de memoria, lo que permite crear y destruir datos en tiempo de ejecución.</p></li>
</ul></li>
</ul>
</section>

<section id="estado" class="title-slide slide level2" data-number="2.3">
<h2 data-number="2.3"><span class="header-section-number">2.3</span> Estado</h2>
<ul>
<li><p>La <strong>ligadura</strong> es la asociación que se establece entre un identificador y una variable.</p></li>
<li><p>El <strong>estado de una variable</strong> es el valor al que hace referencia una variable en un momento dado.</p>
<p>Por tanto, el estado es la asociación que se establece entre una variable y un valor (es decir, la referencia que contiene).</p></li>
</ul>
<div class="centered">
<p><img data-src="images/identificador-ligadura-variable-estado-valor.svg" class="plain" style="width:60.0%" /></p>
</div>
<ul>
<li><p>Tanto las ligaduras como los estados pueden cambiar durante la ejecución de un programa imperativo.</p></li>
<li><p>El <strong>estado de un programa</strong> es el conjunto de los estados de todas sus variables (más cierta información auxiliar gestionada por el intérprete).</p></li>
</ul>
</section>

<section id="marcos-en-programación-imperativa" class="title-slide slide level2" data-number="2.4">
<h2 data-number="2.4"><span class="header-section-number">2.4</span> Marcos en programación imperativa</h2>
<ul>
<li><p>Hasta ahora, los marcos contenían ligaduras entre identificadores y valores.</p></li>
<li><p>A partir de ahora, un marco contendrá:</p>
<ul>
<li><p>Las <strong>ligaduras entre identificadores y variables</strong>, y</p></li>
<li><p>El <strong>estado de cada variable</strong>, es decir, la referencia que contiene cada variable en un momento dado.</p></li>
</ul></li>
</ul>
<div class="centered">
<p><img data-src="images/marcos-imperativa.svg" class="plain" style="width:30.0%" /></p>
</div>
</section>
<section class="slide level5" data-number="2.4.0.0.1">

<ul>
<li>Para simplificar la representación gráfica, generalmente dibujaremos cada identificador al lado de su correspondiente variable (representando la <em>ligadura</em>), y la variable apuntando a su valor en el montículo (representando el <em>estado</em>).</li>
</ul>
<div class="centered">
<p><img data-src="images/marcos-imperativa-simplificado.svg" class="plain" style="width:20.0%" /></p>
</div>
<ul>
<li><p>El montículo como tal normalmente no lo dibujaremos, ya que sabemos que los valores se almacenan en él.</p></li>
<li><p>Igualmente, a veces tampoco dibujaremos el marco si se sobreentiende cuál es (o si no tiene importancia en ese momento).</p></li>
<li><p>A veces, y llegado el caso, también dibujaremos el valor directamente almacenado en la variable que le apunta, para simplificar (aunque sabemos que eso no es lo que ocurre en Python).</p></li>
</ul>
</section>

<section id="sentencia-de-asignación" class="title-slide slide level2" data-number="2.5">
<h2 data-number="2.5"><span class="header-section-number">2.5</span> Sentencia de asignación</h2>
<ul>
<li><p>La forma más básica de cambiar el estado de una variable es usando la <strong>sentencia de asignación</strong>.</p></li>
<li><p>Es la misma instrucción que hemos estado usando hasta ahora para ligar valores a identificadores, pero ahora, en el paradigma imperativo, tiene otro significado:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">4</span>      <span class="co"># se lee: «asigna el valor 4 a la variable x»</span></span></code></pre></div>
<p>El efecto que produce es el de almacenar, en la variable ligada al identificador <code class="sourceCode python">x</code>, la <em>identidad</em> del valor <code class="sourceCode python"><span class="dv">4</span></code> almacenado en el montículo.</p></li>
<li><p>A partir de este momento, <code class="sourceCode python">x</code> pasa a ser una referencia al valor <code class="sourceCode python"><span class="dv">4</span></code>.</p>
<p>Normalmente se dice (mal dicho) que «<em>la variable <code class="sourceCode python">x</code> pasa a valer <code class="sourceCode python"><span class="dv">4</span></code></em>».</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.5.0.0.1">

<ul>
<li><p>Se dice que la asignación es <strong>destructiva</strong> porque, al cambiarle el valor a una variable, <strong>el nuevo valor sustituye a su valor anterior</strong> en esa variable.</p></li>
<li><p>Por ejemplo, si ahora hacemos:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">9</span></span></code></pre></div>
<p>El valor de la variable a la que está ligada el identificador <code class="sourceCode python">x</code> pasa ahora a ser <code class="sourceCode python"><span class="dv">9</span></code>, sustituyendo el valor <code class="sourceCode python"><span class="dv">4</span></code> anterior.</p></li>
<li><p>Por tanto, eso significa que la variable ligada al identificador <code>x</code> puede hacer referencia a distintos valores dependiendo del momento en el que se compruebe su valor.</p></li>
<li><p>De hecho, la asignación anterior crea un instante que divide el flujo temporal de ejecución en dos momentos:</p>
<ul>
<li><p><strong>Antes</strong> de ejecutar la asignación, <code>x</code> vale <code class="sourceCode python"><span class="dv">4</span></code>.</p></li>
<li><p><strong>Después</strong> de ejecutar la asignación, <code>x</code> vale <code class="sourceCode python"><span class="dv">9</span></code>.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.5.0.0.2">

<ul>
<li><p>Por abuso del lenguaje, se suele decir:</p>
<div class="centered">
<p><em>«se asigna el valor <code class="sourceCode python"><span class="dv">9</span></code> a la variable <code class="sourceCode python">x</code>»</em></p>
</div>
<p>o:</p>
<div class="centered">
<p><em>«se asigna el valor <code class="sourceCode python"><span class="dv">9</span></code> a la variable ligada al identificador <code class="sourceCode python">x</code>»</em></p>
</div>
<p>en lugar de la forma correcta:</p>
<div class="centered">
<p><em>«se asigna una referencia al valor <code class="sourceCode python"><span class="dv">9</span></code> en la variable ligada al identificador <code class="sourceCode python">x</code>»</em>.</p>
</div></li>
<li><p>Aunque esto simplifica las cosas a la hora de hablar, hay que tener cuidado, porque llegado el momento es posible tener:</p>
<ul>
<li><p>Varios identificadores distintos ligados a la misma variable (ocurre en algunos lenguajes, aunque no en Python ni Java).</p></li>
<li><p>Un mismo identificador ligado a distintas variables en diferentes puntos del programa.</p></li>
<li><p>Varias variables apuntando al mismo valor.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.5.0.0.3">

<ul>
<li><p>Cada nueva asignación provoca un cambio de estado en el programa.</p></li>
<li><p>En el ejemplo anterior, el programa pasa de estar en un estado en el que la variable <code class="sourceCode python">x</code> vale <code class="sourceCode python"><span class="dv">4</span></code> a otro en el que la variable vale <code class="sourceCode python"><span class="dv">9</span></code>.</p></li>
<li><p>Al final, un programa imperativo se puede reducir a una <strong>secuencia de asignaciones</strong> realizadas en el orden dictado por el programa.</p></li>
<li><p>Este modelo de funcionamiento está estrechamente ligado a la arquitectura de un ordenador: hay una memoria formada por celdas que contienen datos que pueden cambiar a lo largo del tiempo según dicten las instrucciones del programa que controla al ordenador.</p></li>
</ul>
</section>
<section id="un-ejemplo-completo" class="title-slide slide level4" data-number="2.5.0.1">
<h4 data-number="2.5.0.1"><span class="header-section-number">2.5.0.1</span> Un ejemplo completo</h4>
<ul>
<li><p>Cuando se ejecuta la siguiente instrucción:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">2500</span></span></code></pre></div>
<p>ocurre lo siguiente:</p>
<ol type="1">
<li><p>Se crea el valor <code class="sourceCode python"><span class="dv">2500</span></code> en el montículo.</p>
<p>En determinadas situaciones, no crea un nuevo valor si ya había otro exactamente igual en el montículo, pero éste no es el caso.</p></li>
<li><p>El intérprete identifica a qué variable está ligado el identificador <code class="sourceCode python">x</code> consultando el entorno (si no existía dicha variable, la crea en ese momento y la liga a <code class="sourceCode python">x</code> en el marco actual).</p></li>
<li><p>Almacena en la variable una referencia al valor (es decir, la identidad del valor).</p></li>
</ol></li>
</ul>
</section>


<section id="del" class="title-slide slide level2" data-number="2.6">
<h2 data-number="2.6"><span class="header-section-number">2.6</span> <code class="sourceCode python"><span class="kw">del</span></code></h2>
<ul>
<li><p>En Python existe la sentencia contraria a la asignación, es decir, <strong>una sentencia que <em>elimina variables</em></strong>.</p></li>
<li><p>Para ello, se usa la palabra clave <code class="sourceCode python"><span class="kw">del</span></code> seguido de una expresión que identifique a la variable (que normalmente será un identificador):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">25</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="dv">25</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">del</span> x</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="pp">NameError</span>: name <span class="st">&#39;x&#39;</span> <span class="kw">is</span> <span class="kw">not</span> defined</span></code></pre></div></li>
<li><p>Al hacer <code class="sourceCode python"><span class="kw">del</span> x</code>, se elimina la variable ligada al identificador <code>x</code> en el marco donde está almacenada la variable.</p></li>
<li><p>Tras eliminar la variable, se elimina también, en ese mismo marco, el identificador <code>x</code> y la ligadura que existía entre este y la variable, puesto que ya no tiene sentido que sigan existiendo al no existir la variable.</p></li>
</ul>
</section>

<section id="evaluación-de-expresiones-con-variables" class="title-slide slide level2" data-number="2.7">
<h2 data-number="2.7"><span class="header-section-number">2.7</span> Evaluación de expresiones con variables</h2>
<ul>
<li><p>Al evaluar expresiones, las variables actúan de modo similar a las ligaduras de la programación funcional, pero ahora los valores de las variables pueden cambiar a lo largo del tiempo, por lo que deberemos <em>seguirle la pista</em> a los cambios que sufran dichas variables.</p></li>
<li><p>Todo lo visto hasta ahora sobre marcos, ámbitos, sombreado, entornos, etc. se aplica igualmente a las variables.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">*</span> y <span class="op">+</span> <span class="dv">5</span>    <span class="co"># esta expresión vale 17 porque &#39;x&#39; vale 4 y &#39;y&#39; vale 3</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="dv">17</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">9</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">*</span> y <span class="op">+</span> <span class="dv">5</span>    <span class="co"># la misma expresión ahora vale 32 porque &#39;x&#39; vale 9</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="dv">32</span></span></code></pre></div></li>
</ul>
</section>

<section id="constantes" class="title-slide slide level2" data-number="2.8">
<h2 data-number="2.8"><span class="header-section-number">2.8</span> Constantes</h2>
<ul>
<li><p>En programación funcional no existen las variables y un identificador sólo puede ligarse a un valor (un identificador ligado no puede re-ligarse a otro valor distinto).</p>
<ul>
<li><p>En la práctica, eso significa que un identificador ligado actúa como un valor constante que no puede cambiar durante la ejecución del programa.</p></li>
<li><p>El valor de esa constante es el valor al que está ligado el identificador.</p></li>
</ul></li>
<li><p>Pero en programación imperativa, los identificadores se ligan a variables, que son las que realmente apuntan a los valores.</p></li>
<li><p>Una <strong>constante</strong> en programación imperativa sería el equivalente a una variable cuyo valor no puede cambiar durante la ejecución del programa.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.8.0.0.1">

<ul>
<li><p>Muchos lenguajes de programación permiten definir constantes, pero <strong>Python no es uno de ellos</strong>.</p></li>
<li><p>En Python, una constante <strong>es una variable más</strong>, pero <strong>es responsabilidad del programador</strong> no cambiar su valor durante todo el programa.</p></li>
<li><p>Python no hace ninguna comprobación ni muestra mensajes de error si se cambia el valor de una constante.</p></li>
<li><p>En Python, por <strong>convenio</strong>, los identificadores ligados a una variable con valor constante se escriben con todas las letras en <strong>mayúscula</strong>:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>PI <span class="op">=</span> <span class="fl">3.1415926</span></span></code></pre></div>
<p>El nombre en mayúsculas nos recuerda que <code class="sourceCode python">PI</code> es una constante, aunque nada nos impide cambiar su valor (cosa que debemos evitar):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>PI <span class="op">=</span> <span class="dv">99</span></span></code></pre></div></li>
<li><p>Sólo es un convenio entre programadores, que no tiene por qué cumplirse siempre.</p></li>
</ul>
</section>

<section id="tipado-estático-vs.-dinámico" class="title-slide slide level2" data-number="2.9">
<h2 data-number="2.9"><span class="header-section-number">2.9</span> Tipado estático vs. dinámico</h2>
<ul>
<li><p>Cuando una variable tiene asignado un valor, al ser usada en una expresión actúa como si fuera ese valor.</p></li>
<li><p>Como cada valor tiene un tipo de dato asociado, también podemos hablar del <strong>tipo de una variable</strong>.</p>
<div class="caja">
<p>El <strong>tipo de una variable</strong> es el tipo del dato al que hace referencia la variable.</p>
</div></li>
<li><p>Si a una variable se le asigna otro valor de un tipo distinto al del valor anterior, el tipo de la variable cambia y pasa a ser el del nuevo valor que se le ha asignado.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.9.0.0.1">

<ul>
<li><p>Eso quiere decir que <strong>el tipo de una variable podría cambiar durante la ejecución del programa</strong>.</p></li>
<li><p>A este enfoque se le denomina <strong>tipado dinámico</strong>.</p>
<div class="caja">
<p><strong>Lenguajes de tipado dinámico:</strong></p>
<p>Son aquellos que <strong>permiten</strong> que el tipo de una variable <strong>cambie</strong> durante la ejecución del programa.</p>
</div></li>
<li><p>En contraste con los lenguajes de tipado dinámico, existen los llamados <strong>lenguajes de tipado estático</strong>.</p></li>
<li><p>En un lenguaje de tipado estático, el tipo de una variable se define una sola vez (en la fase de compilación o justo al empezar a ejecutarse el programa), y <strong>no puede cambiar</strong> durante la ejecución del mismo.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.9.0.0.2">

<ul>
<li><p>Definición:</p>
<div class="caja">
<p><strong>Lenguajes de tipado estático:</strong></p>
<p>Son aquellos que asocian forzosamente un tipo a cada variable del programa desde que comienza a ejecutarse y <strong>prohíben</strong> que dicho tipo <strong>cambie</strong> durante la ejecución del programa.</p>
</div></li>
<li><p>Estos lenguajes disponen de instrucciones que permiten <em>declarar</em> de qué tipo serán los datos que se pueden asignar a una variable.</p>
<p>Por ejemplo, en Java podemos hacer:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> x<span class="op">;</span></span></code></pre></div>
<p>con lo que declaramos que a <code class="sourceCode java">x</code> sólo se le podrán asignar valores de tipo <code class="sourceCode java"><span class="bu">String</span></code> desde el primer momento y a lo largo de toda la ejecución del programa.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.9.0.0.3">

<ul>
<li><p>A veces, se pueden realizar al mismo tiempo la declaración del tipo y la asignación del valor:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">String</span> x <span class="op">=</span> <span class="st">&quot;Hola&quot;</span><span class="op">;</span></span></code></pre></div></li>
<li><p>Otros lenguajes disponen de un mecanismo conocido como <strong>inferencia de tipos</strong>, que permite <em>deducir</em> automáticamente el tipo de una variable.</p></li>
<li><p>Por ejemplo, en Java podemos hacer:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> x <span class="op">=</span> <span class="st">&quot;Hola&quot;</span><span class="op">;</span></span></code></pre></div>
<p>El compilador de Java deduce que la variable <code class="sourceCode java">x</code> debe ser de tipo <code class="sourceCode java"><span class="bu">String</span></code> porque se le está asignando una cadena (el valor <code class="sourceCode java"><span class="st">&quot;Hola&quot;</span></code>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.9.0.0.4">

<ul>
<li><p>Normalmente, los lenguajes de tipado estático son también lenguajes compilados y también fuertemente tipados.</p></li>
<li><p>Asimismo, los lenguajes de tipado dinámico suelen ser lenguajes interpretados y a veces también son lenguajes débilmente tipados.</p></li>
<li><p>Pero nada impide que un lenguaje de tipado dinámico pueda ser compilado, por ejemplo.</p></li>
<li><p>Los tres conceptos de:</p>
<ul>
<li><p>Compilado vs. interpretado</p></li>
<li><p>Tipado fuerte vs. débil</p></li>
<li><p>Tipado estático vs. dinámico</p></li>
</ul>
<p>son diferentes aunque están estrechamente relacionados.</p></li>
</ul>
</section>

<section id="asignación-compuesta" class="title-slide slide level2" data-number="2.10">
<h2 data-number="2.10"><span class="header-section-number">2.10</span> Asignación compuesta</h2>
<ul>
<li><p>Los operadores de <strong>asignación compuesta</strong> nos permiten realizar operaciones sobre una variable y luego asignar el resultado a la misma variable.</p></li>
<li><p>Tienen la forma:</p>
<div class="line-block"><span style="color:teal">⟨<em>asig_compuesta</em>⟩</span> ::= <strong><code>identificador</code></strong>  <span style="color:teal">⟨<em>op</em>⟩</span><strong><code>=</code></strong>  <span style="color:teal">⟨<em>expresión</em>⟩</span><br />
<span style="color:teal">⟨<em>op</em>⟩</span> ::= <strong><code>+</code></strong> | <strong><code>-</code></strong> | <strong><code>*</code></strong> | <strong><code>/</code></strong> | <strong><code>%</code></strong> | <strong><code>//</code></strong> | <strong><code>**</code></strong> | <strong><code>&amp;</code></strong> | <strong><code>|</code></strong> | <strong><code>^</code></strong> | <strong><code>&gt;&gt;</code></strong> | <strong><code>&lt;&lt;</code></strong></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.10.0.0.1">

<table style="width:83%;">
<colgroup>
<col style="width: 23%" />
<col style="width: 27%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operador</th>
<th style="text-align: left;">Ejemplo</th>
<th style="text-align: left;">Equivalente a</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> <span class="dv">5</span></code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">+=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">+=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">+</span> <span class="dv">5</span></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">-=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">-=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">-</span> <span class="dv">5</span></code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">*=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">*=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">*</span> <span class="dv">5</span></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">/=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">/=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">/</span> <span class="dv">5</span></code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">%=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">%=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">%</span> <span class="dv">5</span></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">//=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">//=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">//</span> <span class="dv">5</span></code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">**=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">**=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">**</span> <span class="dv">5</span></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">&amp;=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">&amp;=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">&amp;</span> <span class="dv">5</span></code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">|=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">|=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">|</span> <span class="dv">5</span></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">^=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">^=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">^</span> <span class="dv">5</span></code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">&gt;&gt;=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">&gt;&gt;=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">&gt;&gt;</span> <span class="dv">5</span></code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="op">&lt;&lt;=</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">&lt;&lt;=</span> <span class="dv">5</span></code></td>
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">=</span> x <span class="op">&lt;&lt;</span> <span class="dv">5</span></code></td>
</tr>
</tbody>
</table>
<!-- -->
</section>

<section id="asignación-múltiple" class="title-slide slide level2" data-number="2.11">
<h2 data-number="2.11"><span class="header-section-number">2.11</span> Asignación múltiple</h2>
<ul>
<li><p>Con la <strong>asignación múltiple</strong> podemos asignar valores a varias variables <strong>al mismo tiempo</strong> en una sola sentencia.</p></li>
<li><p>La sintaxis es:</p>
<div class="line-block"><span style="color:teal">⟨<em>asig_múltiple</em>⟩</span> ::= <span style="color:teal">⟨<em>lista_identificadores</em>⟩</span> <strong><code>=</code></strong> <span style="color:teal">⟨<em>lista_expresiones</em>⟩</span><br />
<span style="color:teal">⟨<em>lista_identificadores</em>⟩</span> ::= <strong><code>identificador</code></strong> (<strong><code>,</code></strong> <strong><code>identificador</code></strong>)*<br />
<span style="color:teal">⟨<em>lista_expresiones</em>⟩</span> ::= <span style="color:teal">⟨<em>expresión</em>⟩</span>(<strong><code>,</code></strong> <span style="color:teal">⟨<em>expresión</em>⟩</span>)*</div>
<p>con la condición de que tiene que haber tantos identificadores como expresiones.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>x, y <span class="op">=</span> <span class="dv">10</span>, <span class="dv">20</span></span></code></pre></div>
<p>asigna el valor <code class="sourceCode python"><span class="dv">10</span></code> a <code class="sourceCode python">x</code> y el valor <code class="sourceCode python"><span class="dv">20</span></code> a <code class="sourceCode python">y</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.11.0.0.1">

<ul>
<li><p>Lo interesante de la asignación múltiple es que <strong>todas las asignaciones se llevan a cabo <em>a la vez, en paralelo</em></strong>, no una tras otra.</p></li>
<li><p>Por ejemplo, si quisiéramos intercambiar los valores de <code>x</code> e <code>y</code> sin asignación múltiple, tendríamos que usar una variable auxiliar que almacenara el valor de una de las variables para no perderlo:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>aux <span class="op">=</span> x</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> y</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> aux</span></code></pre></div></li>
<li><p>En cambio, si usamos la asignación múltiple, se puede hacer simplemente:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>x, y <span class="op">=</span> y, x</span></code></pre></div></li>
<li><p>Lo que ocurre es que la <code>x</code> toma el valor que tenía <code>y</code> <strong>justo antes de ejecutar la sentencia</strong>, y la <code>y</code> toma el valor que tenía <code>x</code> <strong>justo antes de ejecutar la sentencia</strong>.</p></li>
<li><p>Por tanto, las asignaciones que se realizan en una asignación múltiple <strong>no se afectan entre ellas</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.11.0.0.2">

<ul>
<li><p>A la asignación múltiple también se la denomina <strong>desempaquetado de tuplas</strong>, ya que, técnicamente, es una asignación entre dos tuplas, como si se hubiera escrito así:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(x, y) <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">20</span>)</span></code></pre></div></li>
<li><p>Esto es así porque, en realidad, los paréntesis que rodean a una tupla casi nunca son estrictamente necesarios (salvo para la tupla vacía y para evitar ambigüedades) y, por tanto:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>, <span class="dv">3</span></span></code></pre></div>
<p>es lo mismo que</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div></li>
<li><p>En consecuencia, lo que ocurre es que <em>se desempaquetan</em> las dos tuplas y se asigna cada elemento de la tupla derecha a la variable correspondiente de la tupla izquierda.</p></li>
</ul>
</section>
</section>
<section>
<section id="mutabilidad" class="title-slide slide level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Mutabilidad</h1>

</section>
<section id="estado-de-un-dato" class="title-slide slide level2" data-number="3.1">
<h2 data-number="3.1"><span class="header-section-number">3.1</span> Estado de un dato</h2>
<ul>
<li><p>Ya hemos visto que en programación imperativa es posible cambiar el estado de una variable asignándole un nuevo valor (un nuevo dato).</p></li>
<li><p>Al hacerlo, no estamos cambiando el valor en sí, sino que estamos sustituyendo el valor de la variable por otro nuevo, mediante el uso de la asignación destructiva.</p></li>
<li><p>Sin embargo, también existen valores que poseen su propio <strong>estado interno</strong> y es posible cambiar dicho estado, no asignando un nuevo valor a la variable que lo contiene, sino <strong>modificando el interior de dicho valor</strong>.</p></li>
<li><p>Es decir: no estaríamos <strong>cambiando</strong> el estado de la variable (haciendo que ahora contenga un nuevo valor) sino <strong>el estado interno</strong> del propio valor al que hace referencia la variable.</p></li>
<li><p>Los valores que permiten cambiar su estado interno se denominan <strong>mutables</strong>.</p></li>
</ul>
</section>

<section id="tipos-mutables-e-inmutables" class="title-slide slide level2" data-number="3.2">
<h2 data-number="3.2"><span class="header-section-number">3.2</span> Tipos mutables e inmutables</h2>
<ul>
<li><p>En Python existen tipos cuyos valores son <em>inmutables</em> y otros que son <em>mutables</em>.</p></li>
<li><p>Un valor <strong>inmutable</strong> es aquel cuyo <strong>estado interno NO puede cambiar</strong> durante la ejecución del programa.</p></li>
<li><p>Los tipos inmutables en Python son los números (<code class="sourceCode python"><span class="bu">int</span></code> y <code class="sourceCode python"><span class="bu">float</span></code>), los booleanos (<code class="sourceCode python"><span class="bu">bool</span></code>), las cadenas (<code class="sourceCode python"><span class="bu">str</span></code>), las tuplas (<code class="sourceCode python"><span class="bu">tuple</span></code>), los rangos (<code class="sourceCode python"><span class="bu">range</span></code>) y los conjuntos congelados (<code class="sourceCode python"><span class="bu">frozenset</span></code>).</p></li>
<li><p>Un valor <strong>mutable</strong> es aquel cuyo <strong>estado interno puede cambiar</strong> durante la ejecución del programa <strong>sin cambiar su identidad</strong>.</p>
<p>Muchos valores mutables son <strong>colecciones de elementos</strong> (datos <em>compuestos</em> o <strong>contenedores</strong>) y cambiar su estado interno es cambiar su <strong>contenido</strong>, es decir, los elementos que contiene.</p></li>
<li><p>Los principales tipos mutables predefinidos en Python son las listas (<code class="sourceCode python"><span class="bu">list</span></code>), los conjuntos (<code class="sourceCode python"><span class="bu">set</span></code>) y los diccionarios (<code class="sourceCode python"><span class="bu">dict</span></code>).</p></li>
</ul>
</section>
<section id="inmutables" class="title-slide slide level3" data-number="3.2.1">
<h3 data-number="3.2.1"><span class="header-section-number">3.2.1</span> Inmutables</h3>
<ul>
<li>Un valor de un tipo inmutable no puede cambiar su estado interno durante la ejecución del programa.</li>
</ul>
<div class="columns">
<div class="column">
<p>Si tenemos:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">5</span></span></code></pre></div>
<div class="centered">
<p><img data-src="images/inmutable1.svg" class="plain" style="width:35.0%" /></p>
</div>
</div><div class="column">
<p>y hacemos:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">7</span></span></code></pre></div>
<p>quedaría:</p>
<div class="centered">
<p><img data-src="images/inmutable2.svg" class="plain" style="width:34.0%" /></p>
</div>
</div>
</div>
<ul>
<li>Lo que hace la asignación <code class="sourceCode python">x <span class="op">=</span> <span class="dv">7</span></code> no es cambiar el contenido del valor <code class="sourceCode python"><span class="dv">4</span></code>, sino hacer que la variable <code class="sourceCode python">x</code> contenga otro valor distinto (el valor <code class="sourceCode python"><span class="dv">4</span></code> en sí mismo no se cambia internamente en ningún momento).</li>
</ul>
</section>
<section class="slide level5" data-number="3.2.1.0.1">

<ul>
<li><p>Las <strong>cadenas</strong> también son <em>datos inmutables</em> y, por tanto, con ellas ocurre exactamente igual.</p></li>
<li><p>Si tenemos:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="st">&#39;hola&#39;</span></span></code></pre></div>
<div class="centered">
<p><img data-src="images/inmutable3.svg" class="plain" style="width:20.0%" /></p>
</div>
<p>y luego hacemos:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="st">&#39;hola manolo&#39;</span></span></code></pre></div>
<p><strong>se crea una nueva cadena</strong> y se la asignamos a la variable <code class="sourceCode python">x</code>.</p></li>
</ul>
<div class="columns">
<div class="column">
<ul>
<li>Es decir: la cadena <code class="sourceCode python"><span class="st">&#39;hola&#39;</span></code> original <strong>no se cambia</strong> (no se le añade <code class="sourceCode python"><span class="st">&#39; manolo&#39;</span></code> detrás), sino que la nueva <strong>sustituye</strong> a la anterior en la variable:</li>
</ul>
</div><div class="column">
<div class="centered">
<p><img data-src="images/inmutable4.svg" class="plain" style="width:65.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.2.1.0.2">

<ul>
<li><p>Las <strong>tuplas</strong> también son <em>datos inmutables</em>, por lo que, una vez creadas, no se puede cambiar su contenido.</p></li>
<li><p>Por ejemplo, si tenemos una tupla <code class="sourceCode python">(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</code> y le concatenamos otra tupla <code class="sourceCode python">(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</code>, el resultado es una nueva tupla creada a partir de las otras dos (que permanecen inalteradas):</p></li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> (<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z <span class="op">=</span> x <span class="op">+</span> y</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span></code></pre></div>
</div><div class="column">
<div class="centered">
<p><img data-src="images/inmutable5.svg" class="plain" style="width:65.0%" /></p>
</div>
</div>
</div>
<ul>
<li>Si ahora le asignamos otra tupla a <code class="sourceCode python">z</code>, ésta pasa a apuntar a la nueva tupla, sin modificar a la anterior:</li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> (<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</span></code></pre></div>
</div><div class="column">
<div class="centered">
<p><img data-src="images/inmutable6.svg" class="plain" style="width:65.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.2.1.0.3">

<ul>
<li><p>Las <strong>cadenas</strong>, las <strong>tuplas</strong> y los <strong>rangos</strong> son <em>datos inmutables</em>, así que no podemos modificarlos.</p></li>
<li><p>Pero también son <strong>datos compuestos</strong> de otros datos (sus <em>elementos</em> o <em>componentes</em>) a los que podemos acceder individualmente y con los que podemos operar, aunque no podamos cambiarlos, ya que están contenidos en datos compuestos inmutables.</p></li>
<li><p>De hecho, las cadenas, las tuplas y los rangos pertenecen a la familia de las <strong>secuencias</strong>, que son colecciones de elementos ordenados según la posición que ocupan dentro de la secuencia.</p></li>
<li><p>Por tanto, con las cadenas, las tuplas y los rangos podemos usar las <strong>operaciones comunes a cualquier secuencia</strong> de elementos.</p></li>
<li><p>La siguiente tabla recoge las operaciones comunes sobre secuencias, ordenadas por prioridad ascendente. <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{t}</span> son secuencias del mismo tipo, <span class="math inline">\underline{n}</span>, <span class="math inline">\underline{i}</span>, <span class="math inline">\underline{j}</span> y <span class="math inline">\underline{k}</span> son enteros y <span class="math inline">\underline{x}</span> es un dato cualquiera que cumple con las restricciones que impone <span class="math inline">\underline{s}</span>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.1.0.4">

<table>
<colgroup>
<col style="width: 34%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">x\ </span> <code class="sourceCode python"><span class="kw">in</span></code> <span class="math inline">\ s</span></td>
<td style="text-align: left;"><code class="sourceCode python"><span class="va">True</span></code> si algún elemento de <span class="math inline">\underline{s}</span> es igual a <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">x\ </span> <code class="sourceCode python"><span class="kw">not</span> <span class="kw">in</span></code> <span class="math inline">\ s</span></td>
<td style="text-align: left;"><code class="sourceCode python"><span class="va">False</span></code> si algún elemento de <span class="math inline">\underline{s}</span> es igual a <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span> <code>+</code> <span class="math inline">t</span></td>
<td style="text-align: left;">La concatenación de <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{t}</span> (no va con rangos)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span> <code>*</code> <span class="math inline">n</span><br />
<span class="math inline">n</span> <code>*</code> <span class="math inline">s</span></td>
<td style="text-align: left;">Equivale a concatenar <span class="math inline">\underline{s}</span> consigo misma <span class="math inline">\underline{n}</span> veces (no va con rangos)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>]</code></td>
<td style="text-align: left;">El <span class="math inline">\underline{i}</span>-ésimo elemento de <span class="math inline">\underline{s}</span>, empezando por 0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code></td>
<td style="text-align: left;">Rodaja de <span class="math inline">\underline{s}</span> desde <span class="math inline">\underline{i}</span> hasta <span class="math inline">\underline{j}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code></td>
<td style="text-align: left;">Rodaja de <span class="math inline">\underline{s}</span> desde <span class="math inline">\underline{i}</span> hasta <span class="math inline">\underline{j}</span> con paso <span class="math inline">\underline{k}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)</code></td>
<td style="text-align: left;">Longitud de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="bu">min</span></code><code>(</code><span class="math inline">s</span><code>)</code></td>
<td style="text-align: left;">El elemento más pequeño de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="bu">max</span></code><code>(</code><span class="math inline">s</span><code>)</code></td>
<td style="text-align: left;">El elemento más grande de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.index</code><code>(</code><span class="math inline">x</span> [<code>,</code> <span class="math inline">i</span> [<code>,</code> <span class="math inline">j</span> ] ]<code>)</code></td>
<td style="text-align: left;">El índice de la primera aparición de <span class="math inline">\underline{x}</span> en <span class="math inline">\underline{s}</span> (desde el índice <span class="math inline">\underline{i}</span> inclusive y antes del <span class="math inline">\underline{j}</span>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.count</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Número total de apariciones de <span class="math inline">\underline{x}</span> en <span class="math inline">\underline{s}</span></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="3.2.1.0.5">

<ul>
<li>El <em>operador</em> de <strong>indexación</strong> consiste en acceder al elemento situado en la posición indicada entre corchetes:</li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>  <span class="op">+---+---+---+---+---+---+</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>s <span class="op">|</span> P <span class="op">|</span> y <span class="op">|</span> t <span class="op">|</span> h <span class="op">|</span> o <span class="op">|</span> n <span class="op">|</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">+---+---+---+---+---+---+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>   <span class="dv">1</span>   <span class="dv">2</span>   <span class="dv">3</span>   <span class="dv">4</span>   <span class="dv">5</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>   <span class="op">-</span><span class="dv">6</span>  <span class="op">-</span><span class="dv">5</span>  <span class="op">-</span><span class="dv">4</span>  <span class="op">-</span><span class="dv">3</span>  <span class="op">-</span><span class="dv">2</span>  <span class="op">-</span><span class="dv">1</span></span></code></pre></div>
</div><div class="column">
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="dv">2</span>]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;t&#39;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="op">-</span><span class="dv">2</span>]</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;o&#39;</span></span></code></pre></div>
</div>
</div>
<ul>
<li><p>Los índices positivos (del <code class="sourceCode python"><span class="dv">0</span></code> en adelante) empiezan a contar desde el comienzo de la secuencia.</p></li>
<li><p>Los índices negativos (del <code class="sourceCode python"><span class="op">-</span><span class="dv">1</span></code> hacia atrás) empieza a contar desde el final de la secuencia.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.1.0.6">

<ul>
<li>El <strong><em>slicing</em></strong> (<em>hacer rodajas</em>) es una operación que consiste en obtener una subsecuencia a partir de una secuencia, indicando los <em>índices</em> de los elementos <em>inicial</em> y <em>final</em> de la misma, así como un posible <em>paso</em>:</li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>     con paso positivo</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">+---+---+---+---+---+---+</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>s <span class="op">|</span> P <span class="op">|</span> y <span class="op">|</span> t <span class="op">|</span> h <span class="op">|</span> o <span class="op">|</span> n <span class="op">|</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">+---+---+---+---+---+---+</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">0</span>   <span class="dv">1</span>   <span class="dv">2</span>   <span class="dv">3</span>   <span class="dv">4</span>   <span class="dv">5</span>   <span class="dv">6</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a> <span class="op">-</span><span class="dv">6</span>  <span class="op">-</span><span class="dv">5</span>  <span class="op">-</span><span class="dv">4</span>  <span class="op">-</span><span class="dv">3</span>  <span class="op">-</span><span class="dv">2</span>  <span class="op">-</span><span class="dv">1</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>     con paso negativo</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">+---+---+---+---+---+---+</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>s <span class="op">|</span> P <span class="op">|</span> y <span class="op">|</span> t <span class="op">|</span> h <span class="op">|</span> o <span class="op">|</span> n <span class="op">|</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="op">+---+---+---+---+---+---+</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>      <span class="dv">0</span>   <span class="dv">1</span>   <span class="dv">2</span>   <span class="dv">3</span>   <span class="dv">4</span>   <span class="dv">5</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a> <span class="op">-</span><span class="dv">7</span>  <span class="op">-</span><span class="dv">6</span>  <span class="op">-</span><span class="dv">5</span>  <span class="op">-</span><span class="dv">4</span>  <span class="op">-</span><span class="dv">3</span>  <span class="op">-</span><span class="dv">2</span>  <span class="op">-</span><span class="dv">1</span></span></code></pre></div>
</div><div class="column">
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="dv">0</span>:<span class="dv">2</span>]</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Py&#39;</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="op">-</span><span class="dv">5</span>:<span class="op">-</span><span class="dv">4</span>]</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;y&#39;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="op">-</span><span class="dv">4</span>:<span class="op">-</span><span class="dv">5</span>]</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="dv">0</span>:<span class="dv">4</span>:<span class="dv">2</span>]</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Pt&#39;</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="op">-</span><span class="dv">3</span>:<span class="op">-</span><span class="dv">6</span>]</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> s[<span class="op">-</span><span class="dv">3</span>:<span class="op">-</span><span class="dv">6</span>:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;hty&#39;</span></span></code></pre></div>
</div>
</div>
<ul>
<li><p>Es más fácil trabajar con las rodajas si suponemos que los índices se encuentran <em>entre</em> los elementos.</p></li>
<li><p>El elemento <em>final</em> nunca se alcanza.</p></li>
<li><p>Si <span class="math inline">paso &lt; 0</span>, la rodaja se hará al revés (de derecha a izquierda).</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.1.0.7">

<ul>
<li><p>En la rodaja <code>s[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code>, los tres valores <span class="math inline">i</span>, <span class="math inline">j</span> y <span class="math inline">k</span> son opcionales, así que se pueden omitir.</p></li>
<li><p>Si se omite <span class="math inline">k</span>, se entiende que es <code class="sourceCode python"><span class="dv">1</span></code>.</p></li>
<li><p>Si se omite <span class="math inline">i</span>, se entiende que queremos la rodaja desde el primer o el último elemento de la secuencia, dependiendo de si <span class="math inline">k</span> es positivo o negativo.</p></li>
<li><p>Si se omite <span class="math inline">j</span>, se entiende que queremos la rodaja hasta el último o el primero elemento de la secuencia, dependiendo de si <span class="math inline">k</span> es positivo o negativo.</p></li>
<li><p>Si <span class="math inline">i &lt; j</span>, <span class="math inline">k</span> debería ser positivo (de lo contrario, devolvería la secuencia vacía).</p></li>
<li><p>Si <span class="math inline">i &gt; j</span>, <span class="math inline">k</span> debería ser negativo (de lo contrario, devolvería la secuencia vacía).</p></li>
<li><p>Si <span class="math inline">i = j</span>, devuelve la secuencia vacía.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.1.0.8">

<ul>
<li><p>Casos particulares notables:</p>
<ul>
<li><p><code class="sourceCode python">s[:</code><span class="math inline">n</span><code>]</code> es la rodaja desde el primer elemento hasta la posición <span class="math inline">\underline{n}</span>.</p></li>
<li><p><code class="sourceCode python">s[</code><span class="math inline">n</span><code>:]</code> es la rodaja desde el elemento <span class="math inline">\underline{n}</span> hasta el final.</p>
<p>Siempre se cumple que <code class="sourceCode python">s</code> <code>==</code> <code class="sourceCode python">s[:</code><span class="math inline">n</span><code>]</code> <code>+</code> <code class="sourceCode python">s[</code><span class="math inline">n</span><code>:]</code>.</p></li>
<li><p><code class="sourceCode python">s[</code><span class="math inline">n</span><code class="sourceCode python">::<span class="op">-</span><span class="dv">1</span>]</code> es la rodaja invertida desde el elemento <span class="math inline">\underline{n}</span> hasta el principio, con los elementos al revés.</p></li>
<li><p><code class="sourceCode python">s[:]</code> devuelve una <em>copia</em> de <code class="sourceCode python">s</code>.</p></li>
<li><p><code class="sourceCode python">s[::<span class="op">-</span><span class="dv">1</span>]</code> devuelve una copia invertida de <code class="sourceCode python">s</code>.</p></li>
</ul></li>
</ul>
</section>
<section id="ejercicio" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejercicio</h5>
<ol class="example" type="1">
<li><p>Dada la siguiente lista:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">11</span>, <span class="dv">22</span>, <span class="dv">33</span>, <span class="dv">44</span>, <span class="dv">55</span>, <span class="dv">66</span>, <span class="dv">77</span>, <span class="dv">88</span>, <span class="dv">99</span>]</span></code></pre></div>
<p>¿Qué valor devuelven las siguientes expresiones?</p>
<ol type="a">
<li><code class="sourceCode python">a[<span class="dv">0</span>:<span class="dv">7</span>:<span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[<span class="dv">0</span>:<span class="dv">7</span>:<span class="dv">2</span>]</code></li>
<li><code class="sourceCode python">a[<span class="dv">0</span>:<span class="dv">7</span>]</code></li>
<li><code class="sourceCode python">a[<span class="dv">2</span>:<span class="dv">7</span>:<span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[<span class="dv">7</span>:<span class="dv">2</span>:<span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[<span class="dv">7</span>:<span class="dv">2</span>:<span class="op">-</span><span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[:<span class="dv">7</span>:<span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[<span class="dv">5</span>::<span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[:<span class="op">-</span><span class="dv">5</span>:<span class="op">-</span><span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[<span class="op">-</span><span class="dv">5</span>::<span class="op">-</span><span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[<span class="dv">5</span>:<span class="op">-</span><span class="dv">1</span>:<span class="dv">1</span>]</code></li>
<li><code class="sourceCode python">a[<span class="op">-</span><span class="dv">1</span>:<span class="dv">5</span>:<span class="op">-</span><span class="dv">1</span>]</code></li>
</ol></li>
</ol>
</section>

<section id="mutables" class="title-slide slide level3" data-number="3.2.2">
<h3 data-number="3.2.2"><span class="header-section-number">3.2.2</span> Mutables</h3>
<ul>
<li><p>Los valores de tipos <strong>mutables</strong>, en cambio, pueden cambiar su estado interno durante la ejecución del programa sin cambiar su identidad.</p></li>
<li><p>El tipo mutable más frecuente es la <strong>lista</strong> (<code class="sourceCode python"><span class="bu">list</span></code>).</p></li>
<li><p>Una lista es como una tupla pero que puede cambiar sus elementos, aumentar o disminuir de tamaño.</p></li>
<li><p>Eso significa que <strong>una lista puede cambiar su <em>contenido</em> y, por tanto, su <em>estado interno</em></strong>.</p></li>
<li><p>Los literales de tipo <code class="sourceCode python"><span class="bu">list</span></code> se crean separando sus elementos con comas y encerrándolos entre corchetes <code>[</code> y <code>]</code>:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l <span class="op">=</span> [<span class="dv">124</span>, <span class="dv">333</span>, <span class="st">&#39;a&#39;</span>, <span class="fl">3.2</span>, <span class="dv">9</span>, <span class="dv">53</span>]</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">124</span>, <span class="dv">333</span>, <span class="st">&#39;a&#39;</span>, <span class="fl">3.2</span>, <span class="dv">9</span>, <span class="dv">53</span>]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.2.0.1">

<ul>
<li><p>También se pueden crear listas a partir de otros datos estructurados (cadenas, tuplas, rangos, etcétera) usando la función <code class="sourceCode python"><span class="bu">list</span></code>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>((<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;h&#39;</span>, <span class="st">&#39;o&#39;</span>, <span class="st">&#39;l&#39;</span>, <span class="st">&#39;a&#39;</span>]</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">6</span>))</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span></code></pre></div></li>
<li><p>No se puede crear una lista con <code class="sourceCode python"><span class="bu">list</span></code> a partir de un dato no estructurado:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="dv">1</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: <span class="st">&#39;int&#39;</span> <span class="bu">object</span> <span class="kw">is</span> <span class="kw">not</span> iterable</span></code></pre></div></li>
<li><p>Para ello, lo mejor sería encerrar directamente el valor entre corchetes:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> [<span class="dv">1</span>]</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.2.0.2">

<ul>
<li><p>Las listas son secuencias mutables y, como tales, se pueden modificar usando ciertas operaciones:</p>
<ul>
<li><p>Los <em>operadores</em> de <strong>indexación</strong> y <strong><em>slicing</em></strong> combinados con <code class="sourceCode python"><span class="op">=</span></code> y <code class="sourceCode python"><span class="kw">del</span></code>:</p>
<pre><code>  +-----+-----+-----+-----+-----+-----+
l | 124 | 333 | &#39;a&#39; | 3.2 |  9  |  53 |
  +-----+-----+-----+-----+-----+-----+
  0     1     2     3     4     5     6
 -6    -5    -4    -3    -2    -1</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l <span class="op">=</span> [<span class="dv">124</span>, <span class="dv">333</span>, <span class="st">&#39;a&#39;</span>, <span class="fl">3.2</span>, <span class="dv">9</span>, <span class="dv">53</span>]</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l[<span class="dv">3</span>]</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fl">3.2</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l[<span class="dv">3</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">124</span>, <span class="dv">333</span>, <span class="st">&#39;a&#39;</span>, <span class="dv">99</span>, <span class="dv">9</span>, <span class="dv">53</span>]</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l[<span class="dv">0</span>:<span class="dv">2</span>] <span class="op">=</span> [<span class="dv">40</span>]</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">40</span>, <span class="st">&#39;a&#39;</span>, <span class="dv">99</span>, <span class="dv">9</span>, <span class="dv">53</span>]</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="kw">del</span> l[<span class="dv">3</span>]</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">40</span>, <span class="st">&#39;a&#39;</span>, <span class="dv">99</span>, <span class="dv">53</span>]</span></code></pre></div></li>
<li><p><em>Métodos</em> como <code class="sourceCode python">append</code>, <code class="sourceCode python">clear</code>, <code class="sourceCode python">insert</code>, <code class="sourceCode python">remove</code>, <code class="sourceCode python">reverse</code> o <code class="sourceCode python">sort</code>.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.2.0.3">

<ul>
<li><p>Al cambiar el estado interno de una lista no se crea una nueva lista, sino que <strong>se modifica la ya existente</strong>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [<span class="dv">24</span>, <span class="dv">32</span>, <span class="dv">15</span>, <span class="dv">81</span>]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">24</span>, <span class="dv">99</span>, <span class="dv">15</span>, <span class="dv">81</span>]</span></code></pre></div></li>
</ul>
<div class="columns">
<div class="column">
<div class="centered">
<figure>
<img data-src="images/cambio-estado-lista-antes.svg" class="plain" style="width:75.0%" alt="La lista antes de cambiar x[1]" /><figcaption aria-hidden="true">La lista antes de cambiar <code>x[</code>1<code>]</code></figcaption>
</figure>
</div>
</div><div class="column">
<div class="centered">
<figure>
<img data-src="images/cambio-estado-lista-despues.svg" class="plain" style="width:75.0%" alt="La lista después de cambiar x[1]" /><figcaption aria-hidden="true">La lista después de cambiar <code>x[</code>1<code>]</code></figcaption>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.2.2.0.4">

<ul>
<li><p>Las siguientes tablas muestran todas las <strong>operaciones</strong> que nos permiten <strong>modificar listas</strong>.</p></li>
<li><p>En ellas, <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{t}</span> son listas, y <span class="math inline">\underline{x}</span> es un valor cualquiera.</p></li>
</ul>
<table>
<colgroup>
<col style="width: 32%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>]</code> <code>=</code> <span class="math inline">x</span></td>
<td style="text-align: left;">El elemento <span class="math inline">i</span>-ésimo de <span class="math inline">\underline{s}</span> se sustituye por <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code> <code>=</code> <span class="math inline">t</span></td>
<td style="text-align: left;">La rodaja de <span class="math inline">\underline{s}</span> desde <span class="math inline">\underline{i}</span> hasta <span class="math inline">\underline{j}</span> se sustituye por <span class="math inline">\underline{t}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code> <code>=</code> <span class="math inline">t</span></td>
<td style="text-align: left;">Los elementos de <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code> se sustituyen por <span class="math inline">\underline{t}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code></td>
<td style="text-align: left;">Elimina los elementos de <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code><br />
Equivale a hacer <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code> <code>=</code> <code>[]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code></td>
<td style="text-align: left;">Elimina los elementos de <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="3.2.2.0.5">

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.append</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Añade <span class="math inline">\underline{x}</span> al final de <span class="math inline">\underline{s}</span>; es igual que<br />
<span class="math inline">s</span><code class="sourceCode python">[<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code class="sourceCode python">):<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)]</code> <code>=</code> <code>[</code><span class="math inline">x</span><code>]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.clear()</code></td>
<td style="text-align: left;">Elimina todos los elementos de <span class="math inline">\underline{s}</span>; es igual que<br />
<code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ s</span><code class="sourceCode python">[:]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.copy()</code></td>
<td style="text-align: left;">Crea una copia <em>superficial</em> de <span class="math inline">\underline{s}</span>; es igual que <span class="math inline">s</span><code class="sourceCode python">[:]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.extend</code><code>(</code><span class="math inline">t</span><code>)</code><br />
<span class="math inline">s</span> <code>+=</code> <span class="math inline">t</span></td>
<td style="text-align: left;">Extiende <span class="math inline">\underline{s}</span> con el contenido de <span class="math inline">\underline{t}</span>; es igual que<br />
<span class="math inline">s</span><code class="sourceCode python">[<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code class="sourceCode python">):<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)]</code> <code>=</code> <span class="math inline">t</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span> <code>*=</code> <span class="math inline">n</span></td>
<td style="text-align: left;">Modifica <span class="math inline">\underline{s}</span> repitiendo su contenido <span class="math inline">\underline{n}</span> veces</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.insert</code><code>(</code><span class="math inline">i</span><code>,</code> <span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Inserta <span class="math inline">\underline{x}</span> en <span class="math inline">\underline{s}</span> en el índice <span class="math inline">\underline{i}</span>; es igual que <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">i</span><code>]</code> <code>=</code> <code>[</code><span class="math inline">x</span><code>]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.pop</code><code>(</code>[ <span class="math inline">i</span> ]<code>)</code></td>
<td style="text-align: left;">Extrae el elemento <span class="math inline">\underline{i}</span> de <span class="math inline">\underline{s}</span> y lo devuelve<br />
(por defecto, <span class="math inline">i</span> vale <code class="sourceCode python"><span class="op">-</span><span class="dv">1</span></code>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.remove</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Quita el primer elemento de <span class="math inline">\underline{s}</span> que sea igual a <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.reverse()</code></td>
<td style="text-align: left;">Invierte los elementos de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.sort()</code></td>
<td style="text-align: left;">Ordena los elementos de <span class="math inline">\underline{s}</span></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="3.2.2.0.6">

<p>Partiendo de <code class="sourceCode python">x <span class="op">=</span> [<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">9</span>]</code>:</p>
<table style="width:79%;">
<colgroup>
<col style="width: 37%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Ejemplo</th>
<th>Valor de <code class="sourceCode python">x</code> después</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python">x.append(<span class="dv">14</span>)</code></td>
<td><code class="sourceCode python">[<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">14</span>]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python">x.clear()</code></td>
<td><code class="sourceCode python">[]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">+=</span> [<span class="dv">4</span>, <span class="dv">5</span>]</code></td>
<td><code class="sourceCode python">[<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">4</span>, <span class="dv">5</span>]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python">x <span class="op">*=</span> <span class="dv">2</span></code></td>
<td><code class="sourceCode python">[<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">9</span>]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python">x.insert(<span class="dv">3</span>, <span class="dv">66</span>)</code></td>
<td><code class="sourceCode python">[<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">66</span>, <span class="dv">9</span>]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python">x.pop()</code></td>
<td><code class="sourceCode python">[<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">7</span>]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python">x.remove(<span class="dv">7</span>)</code></td>
<td><code class="sourceCode python">[<span class="dv">8</span>, <span class="dv">10</span>, <span class="dv">9</span>]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python">x.reverse()</code></td>
<td><code class="sourceCode python">[<span class="dv">9</span>, <span class="dv">7</span>, <span class="dv">10</span>, <span class="dv">8</span>]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python">x.sort()</code></td>
<td><code class="sourceCode python">[<span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>]</code></td>
</tr>
</tbody>
</table>
<!-- \* -->
</section>
<section class="slide level5" data-number="3.2.2.0.7">

<ul>
<li><p>Es importante tener en cuenta que, si <span class="math inline">\underline{s}</span> es una lista (o cualquier otro objeto mutable) no es lo mismo hacer:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">+=</span> t</span></code></pre></div>
<p>que hacer:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> s <span class="op">+</span> t</span></code></pre></div></li>
<li><p>En el primer caso, estamos <em>extendiendo</em> la lista <span class="math inline">\underline{s}</span> y, por tanto, la estamos <em>mutando</em>. Es decir, estamos cambiando internamente la lista sin cambiar su identidad ni crear una lista nueva.</p></li>
<li><p>En el segundo caso, no estamos mutando la lista <span class="math inline">\underline{s}</span>, sino que estamos creando una lista nueva a partir de la concatenación de las dos listas originales, y luego hacemos que <span class="math inline">\underline{s}</span> apunte a la nueva lista, perdiéndose la referencia a la lista <span class="math inline">\underline{s}</span> original. Por tanto, la identidad del objeto almacenado en <span class="math inline">\underline{s}</span> sí ha cambiado.</p></li>
<li><p>Lo mismo se puede decir de <code>s *= n</code> con respecto a <code>s = s * n</code>.</p></li>
</ul>
</section>


<section id="alias-de-variables" class="title-slide slide level2" data-number="3.3">
<h2 data-number="3.3"><span class="header-section-number">3.3</span> Alias de variables</h2>
<ul>
<li><p>Cuando una variable que tiene un valor se asigna a otra, ambas variables pasan a tener <strong>el mismo valor (lo <em>comparten</em>)</strong>, produciéndose un fenómeno conocido como <strong>alias de variables</strong>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [<span class="dv">66</span>, <span class="dv">77</span>, <span class="dv">88</span>, <span class="dv">99</span>]</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> x  <span class="co"># x se asigna a y; ahora y tiene el mismo valor que x</span></span></code></pre></div></li>
<li><p>Esto se debe a que las variables almacenan <strong>referencias</strong> a los valores, no los valores en sí mismos (éstos se almacenan en el montículo).</p></li>
</ul>
<div class="columns">
<div class="column">
<div class="centered">
<p><img data-src="images/alias1.svg" class="plain" style="width:60.0%" /></p>
</div>
</div><div class="column">
<ul>
<li><p>Si el valor es <strong>mutable</strong> y cambiamos su <strong>contenido</strong> desde <code class="sourceCode python">x</code>, también cambiará <code class="sourceCode python">y</code>, pues ambas variables <strong>apuntan al mismo dato</strong>:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">40</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">66</span>, <span class="dv">77</span>, <span class="dv">40</span>, <span class="dv">99</span>]</span></code></pre></div></li>
</ul>
</div>
</div>
</section>
<section class="slide level5" data-number="3.3.0.0.1">

<ul>
<li><p>No es lo mismo cambiar el <strong>valor</strong> que cambiar el <strong>contenido</strong> del valor.</p></li>
<li><p>Cambiar el <strong>contenido</strong> es algo que sólo se puede hacer si el valor es <strong>mutable</strong> (por ejemplo, cambiando un elemento de una lista):</p></li>
</ul>
<div class="columns">
<div class="column" style="width:40%;">
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [<span class="dv">66</span>, <span class="dv">77</span>, <span class="dv">88</span>, <span class="dv">99</span>]</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> x</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y[<span class="dv">2</span>] <span class="op">=</span> <span class="dv">40</span></span></code></pre></div>
</div><div class="column" style="width:60%;">
<div class="centered">
<p><img data-src="images/alias1.svg" class="plain" style="width:60.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.3.0.0.2">

<ul>
<li>Cambiar el <strong>valor</strong> es algo que <strong>siempre</strong> se puede hacer (da igual la mutabilidad) simplemente <strong>asignando</strong> a la variable <strong>un nuevo valor</strong>:</li>
</ul>
<div class="columns">
<div class="column" style="width:40%;">
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [<span class="dv">66</span>, <span class="dv">77</span>, <span class="dv">88</span>, <span class="dv">99</span>]</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> x</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span></code></pre></div>
</div><div class="column" style="width:60%;">
<div class="centered">
<p><img data-src="images/alias2.svg" class="plain" style="width:60.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.3.0.0.3">

<ul>
<li><p>Cuando los valores son inmutables, no importa si se comparten o no, ya que no se pueden modificar.</p></li>
<li><p>De hecho, el intérprete a veces crea valores nuevos y a veces comparte los ya existentes.</p></li>
<li><p>Por ejemplo, el intérprete de Python crea internamente todos los números enteros comprendidos entre <span class="math inline">-5</span> y <span class="math inline">256</span>, por lo que todas las variables de nuestro programa que contengan el mismo número dentro de ese intervalo compartirán el mismo valor (serán <em>alias</em>):</p></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">5</span> <span class="co"># está entre -5 y 256</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">5</span></span></code></pre></div>
<div class="centered">
<figure>
<img data-src="images/inmutable7.svg" class="plain" style="width:35.0%" alt="Se comparte el valor" /><figcaption aria-hidden="true">Se comparte el valor</figcaption>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">480</span> <span class="co"># no está entre -5 y 256</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="dv">480</span></span></code></pre></div>
<div class="centered">
<figure>
<img data-src="images/inmutable8.svg" class="plain" style="width:35.0%" alt="No se comparte el valor" /><figcaption aria-hidden="true">No se comparte el valor</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.3.0.0.4">

<ul>
<li>También crea valores compartidos cuando contienen exactamente las mismas cadenas.</li>
</ul>
<div class="columns">
<div class="column">
<p>Si tenemos:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="st">&#39;hola&#39;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="st">&#39;pepe&#39;</span></span></code></pre></div>
<div class="centered">
<p><img data-src="images/inmutable9.svg" class="plain" style="width:45.0%" /></p>
</div>
</div><div class="column">
<p>y hacemos:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="st">&#39;pepe&#39;</span></span></code></pre></div>
<p>quedaría:</p>
<div class="centered">
<p><img data-src="images/inmutable10.svg" class="plain" style="width:45.0%" /></p>
</div>
</div>
</div>
<ul>
<li>El intérprete aprovecharía la cadena ya creada y no crearía una nueva, para ahorrar memoria.</li>
</ul>
</section>
<section class="slide level5" data-number="3.3.0.0.5">

<ul>
<li><p>También se comparten valores si se usa el mismo dato varias veces, aunque sea un dato mutable.</p></li>
<li><p>Por ejemplo, si hacemos:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> [x, x]</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]]</span></code></pre></div>
<p>se compartiría la lista <code>x</code>, por lo que nos quedaría:</p></li>
</ul>
<div class="centered">
<p><img data-src="images/alias3.svg" class="plain" style="width:50.0%" /></p>
</div>
</section>
<section class="slide level5" data-number="3.3.0.0.6">

<div class="columns">
<div class="column">
<p>Y si ahora hacemos:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y[<span class="dv">0</span>][<span class="dv">0</span>] <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">77</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">99</span>, <span class="dv">77</span>, <span class="dv">3</span>], [<span class="dv">99</span>, <span class="dv">77</span>, <span class="dv">3</span>]]</span></code></pre></div>
</div><div class="column">
<p>nos quedaría:</p>
<div class="centered">
<p><img data-src="images/alias4.svg" class="plain" style="width:90.0%" /></p>
</div>
</div>
</div>
</section>
<section id="recolección-de-basura" class="title-slide slide level3" data-number="3.3.1">
<h3 data-number="3.3.1"><span class="header-section-number">3.3.1</span> Recolección de basura</h3>
<ul>
<li><p>Un valor se vuelve <strong>inaccesible</strong> cuando no hay ninguna referencia que apunte a él.</p></li>
<li><p>Eso ocurre cuando no queda ninguna variable que contenga una referencia a ese dato.</p></li>
<li><p>En tal caso, el intérprete lo marca como <em>candidato para ser eliminado</em>.</p></li>
<li><p>Cada cierto tiempo, el intérprete activa el <strong>recolector de basura</strong>, que es un componente que se encarga de liberar de la memoria a los valores que están marcados como candidatos para ser eliminados.</p></li>
<li><p>Por tanto, el programador Python no tiene que preocuparse de gestionar manualmente la memoria ocupada por los datos que componen su programa.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.1">

<ul>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>lista1 <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]  <span class="co"># crea la lista y guarda una referencia a ella en lista1</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>lista2 <span class="op">=</span> lista1     <span class="co"># almacena en lista2 la referencia que hay en lista1</span></span></code></pre></div>
<p>A partir de ahora, ambas variables apuntan al mismo dato y, por tanto, decimos que el dato tiene dos referencias, o que hay dos referencias apuntándole.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> lista1          <span class="co"># elimina una referencia pero el dato aún tiene otra</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> lista2          <span class="co"># elimina la otra referencia y ahora el dato es inaccesible</span></span></code></pre></div>
<p>Como ya no hay ninguna referencia apuntándole, se marca como <em>candidato a ser eliminado</em> y, por tanto, la próxima vez que se active el recolector de basura, se eliminará la lista del montículo.</p></li>
</ul>
</section>

<section id="is" class="title-slide slide level3" data-number="3.3.2">
<h3 data-number="3.3.2"><span class="header-section-number">3.3.2</span> <code class="sourceCode python"><span class="kw">is</span></code></h3>
<ul>
<li><p>Para saber si dos variables comparten <strong>el mismo dato</strong>, se puede usar la función <code class="sourceCode python"><span class="bu">id</span></code>.</p></li>
<li><p>Sabemos que la función <code class="sourceCode python"><span class="bu">id</span></code> aplicada a un dato devuelve la <strong>identidad</strong> del dato, es decir, el <strong>identificador único</strong> que se utiliza para localizar al dato dentro del montículo.</p></li>
<li><p>En consecuencia, si dos variables tienen el mismo <code class="sourceCode python"><span class="bu">id</span></code>, significa que ambas apuntan al mismo dato en la memoria y, por tanto, son <strong>referencias al mismo dato</strong>.</p></li>
<li><p>Si dos datos tienen el mismo <code class="sourceCode python"><span class="bu">id</span></code>, decimos que son <strong>idénticos</strong>, porque en realidad son <em>el mismo dato</em>.</p></li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(<span class="st">&#39;hola&#39;</span>) <span class="op">==</span> <span class="bu">id</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="st">&#39;hola&#39;</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="st">&#39;hola&#39;</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x) <span class="op">==</span> <span class="bu">id</span>(y)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div>
</div><div class="column">
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x) <span class="op">==</span> <span class="bu">id</span>(y)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> x</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">id</span>(x) <span class="op">==</span> <span class="bu">id</span>(y)</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div>
</div>
</div>
</section>
<section class="slide level5" data-number="3.3.2.0.1">

<ul>
<li><p>Otra forma más directa de comprobar si dos datos son realmente el mismo dato en memoria (es decir, si son <strong>idénticos</strong>) es usar el operador <code class="sourceCode python"><span class="kw">is</span></code>, que comprueba si los dos datos tienen la misma <strong>identidad</strong>:</p></li>
<li><p>Su sintaxis es:</p>
<div class="line-block"><span style="color:teal">⟨<em>is</em>⟩</span> ::= <span style="color:teal">⟨<em>valor1</em>⟩</span> <strong><code>is</code></strong> <span style="color:teal">⟨<em>valor2</em>⟩</span></div></li>
<li><p>Es un operador relacional que devuelve <code class="sourceCode python"><span class="va">True</span></code> si <span style="color:teal">⟨<em>valor1</em>⟩</span> y <span style="color:teal">⟨<em>valor2</em>⟩</span> tienen la misma <strong>identidad</strong> (es decir, si son <strong>el mismo dato en memoria</strong> y, por tanto, son <strong>idénticos</strong>) y <code class="sourceCode python"><span class="va">False</span></code> en caso contrario.</p></li>
<li><p>Lo normal es usarlo con variables y, en tal caso, devuelve <code class="sourceCode python"><span class="va">True</span></code> si los datos que almacenan las variables son realmente el mismo dato.</p></li>
<li><p>No tiene sentido usarlo con literales (y el intérprete lo advierte).</p></li>
<li><p>En la práctica, equivale a hacer <code class="sourceCode python"><span class="bu">id</span></code><code>(</code><span style="color:teal">⟨<em>valor1</em>⟩</span><code>)</code> <code>==</code> <code class="sourceCode python"><span class="bu">id</span></code><code>(</code><span style="color:teal">⟨<em>valor2</em>⟩</span><code>)</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.2.0.2">

<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">500</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="kw">is</span> y</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> x</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="kw">is</span> y</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="dv">500</span> <span class="kw">is</span> <span class="dv">500</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>stdin<span class="op">&gt;</span>:<span class="dv">1</span>: <span class="pp">SyntaxWarning</span>: <span class="st">&quot;is&quot;</span> <span class="cf">with</span> a literal. Did you mean <span class="st">&quot;==&quot;</span>?</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="st">&#39;hola&#39;</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="st">&#39;hola&#39;</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="kw">is</span> y</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div>
</section>

</section>
<section>
<section id="cambios-de-estado-ocultos" class="title-slide slide level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Cambios de estado ocultos</h1>

</section>
<section id="funciones-puras" class="title-slide slide level2" data-number="4.1">
<h2 data-number="4.1"><span class="header-section-number">4.1</span> Funciones puras</h2>
<ul>
<li><p>Las <strong>funciones puras</strong> son aquellas que cumplen que:</p>
<ul>
<li><p>su valor de retorno depende únicamente del valor de sus argumentos, y</p></li>
<li><p>calculan su valor de retorno sin provocar cambios de estado observables en el exterior de la función.</p></li>
</ul></li>
<li><p>Una llamada a una función pura se puede sustituir libremente por su valor de retorno sin afectar al resto del programa (es lo que se conoce como <strong>transparencia referencial</strong>).</p></li>
<li><p>Las funciones <em>puras</em> son las únicas que existen en programación funcional.</p></li>
</ul>
</section>

<section id="funciones-impuras" class="title-slide slide level2" data-number="4.2">
<h2 data-number="4.2"><span class="header-section-number">4.2</span> Funciones impuras</h2>
<ul>
<li><p>Por contraste, una función se considera <strong>impura</strong>:</p>
<ul>
<li><p>si su valor de retorno o su comportamiento dependen de algo más que de sus argumentos, o</p></li>
<li><p>si provoca cambios de estado observables en el exterior de la función.</p>
<p>En éste último caso decimos que la función provoca <strong>efectos laterales</strong>.</p></li>
</ul></li>
<li><p>Toda función que provoca efectos laterales es impura, pero no todas las funciones impuras provocan efectos laterales (puede ser impura porque su comportamiento se vea afectado por los efectos laterales provocados por otras partes del programa).</p></li>
</ul>
</section>

<section id="efectos-laterales" class="title-slide slide level2" data-number="4.3">
<h2 data-number="4.3"><span class="header-section-number">4.3</span> Efectos laterales</h2>
<ul>
<li><p>Un <strong>efecto lateral</strong> es cualquier cambio de estado llevado a cabo por una parte del programa (normalmente, una función) que puede observarse desde otras partes del mismo, las cuales podrían verse afectadas por él de una manera poco evidente o impredecible.</p>
<div class="caja">
<p>Una función puede provocar efectos laterales, o bien verse afectada por efectos laterales provocados por otras partes del programa.</p>
<p>En cualquiera de estos casos, tendríamos una función <strong>impura</strong>.</p>
</div></li>
<li><p>Los casos típicos de efectos laterales en una función son:</p>
<ul>
<li><p>Cambiar el valor de una variable global.</p></li>
<li><p>Cambiar el estado de un argumento mutable.</p></li>
<li><p>Realizar una operación de entrada/salida.</p></li>
</ul></li>
</ul>
</section>

<section id="transparencia-referencial" class="title-slide slide level2" data-number="4.4">
<h2 data-number="4.4"><span class="header-section-number">4.4</span> Transparencia referencial</h2>
<ul>
<li><p>En un lenguaje imperativo <strong>se pierde la transparencia referencial</strong>, ya que ahora el valor de una función puede depender no sólo de los valores de sus argumentos, sino también además de los valores de las variables libres que ahora pueden cambiar durante la ejecución del programa:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma <span class="op">=</span> <span class="kw">lambda</span> x, y: x <span class="op">+</span> y <span class="op">+</span> z</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> z <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> suma(<span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span></span></code></pre></div></li>
<li><p>Por tanto, cambiar el valor de una variable global (en cualquier parte del programa) es considerado un <strong>efecto lateral</strong>, ya que puede alterar el comportamiento de otras partes del programa de formas a menudo impredecibles o poco evidentes.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.4.0.0.1">

<ul>
<li><p>Cuando el efecto lateral lo produce la propia función también estamos perdiendo transparencia referencial, pues en tal caso no podemos sustituir libremente la llamada a la función por su valor de retorno, ya que ahora <strong>la función hace <em>algo más</em> que calcular dicho valor</strong>, y ese <em>algo</em> es observable fuera de la función.</p></li>
<li><p>Por ejemplo, una función que imprime por la pantalla o escribe en un archivo del disco está provocando un efecto observable fuera de la función, por lo que tampoco es una función pura y, por tanto, en ella no se cumple la transparencia referencial.</p></li>
<li><p>Lo mismo pasa con las funciones que modifican algún argumento mutable. Por ejemplo:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ultimo <span class="op">=</span> <span class="kw">lambda</span> x: x.pop()</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lista <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ultimo(lista)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ultimo(lista)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lista</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>, <span class="dv">2</span>]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.4.0.0.2">

<ul>
<li><p>Los efectos laterales hacen que sea muy difícil razonar sobre el funcionamiento del programa, porque las funciones impuras no pueden verse como simples correspondencias entre los datos de entrada y el resultado de salida, sino que además hay que tener en cuenta los <strong>efectos ocultos</strong> que producen en otras partes del programa.</p></li>
<li><p>Por ello, se debe <strong>evitar</strong>, siempre que sea posible, escribir funciones impuras.</p></li>
<li><p>Ahora bien: muchas veces, la función que se desea escribir tiene efectos laterales porque esos son, precisamente, los efectos deseados.</p>
<ul>
<li>Por ejemplo, una función que actualice los salarios de los empleados en una base de datos, a partir del salario base y los complementos.</li>
</ul></li>
<li><p>En ese caso, es importante <strong>documentar</strong> adecuadamente la función para que, quien desee usarla, sepa perfectamente qué efectos produce más allá de devolver un resultado.</p></li>
</ul>
</section>

<section id="entrada-y-salida-por-consola" class="title-slide slide level2" data-number="4.5">
<h2 data-number="4.5"><span class="header-section-number">4.5</span> Entrada y salida por consola</h2>
<ul>
<li><p>Nuestro programa puede comunicarse con el exterior realizando <strong>operaciones de entrada/salida</strong>.</p></li>
<li><p>Interpretamos la palabra <em>exterior</em> en un sentido amplio; por ejemplo:</p>
<ul>
<li>El teclado</li>
<li>La pantalla</li>
<li>Un archivo del disco duro</li>
<li>Otro ordenador de la red</li>
</ul></li>
<li><p>La entrada/salida por consola se refiere a las operaciones de lectura de datos por el teclado y escritura por la pantalla.</p></li>
<li><p>Las operaciones de entrada/salida se consideran <strong>efectos laterales</strong> porque producen cambios en el exterior o pueden hacer que el resultado de una función dependa de los datos leídos y, por tanto, no depender sólo de sus argumentos.</p></li>
</ul>
</section>
<section id="print" class="title-slide slide level3" data-number="4.5.1">
<h3 data-number="4.5.1"><span class="header-section-number">4.5.1</span> <code class="sourceCode python"><span class="bu">print</span></code></h3>
<ul>
<li><p>La función <code class="sourceCode python"><span class="bu">print</span></code> imprime (<em>escribe</em>) por la salida (normalmente la pantalla) el valor de una o varias expresiones.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><code class="sourceCode python"><span class="bu">print</span></code><code>(</code><span style="color:teal">⟨<em>expresión</em>⟩</span>(<code>,</code> <span style="color:teal">⟨<em>expresión</em>⟩</span>)* [<code>, sep=</code><span style="color:teal">⟨<em>expresión</em>⟩</span>][<code>, end=</code><span style="color:teal">⟨<em>expresión</em>⟩</span>]<code>)</code></div></li>
<li><p>El <code>sep</code> es el <em>separador</em> y su valor por defecto es <code class="sourceCode python"><span class="st">&#39; &#39;</span></code> (un espacio).</p></li>
<li><p>El <code>end</code> es el <em>terminador</em> y su valor por defecto es <code class="sourceCode python"><span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span></code>.</p></li>
<li><p>Las expresiones se convierten en cadenas antes de imprimirse.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;hola&#39;</span>, <span class="st">&#39;pepe&#39;</span>, <span class="dv">23</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>hola pepe <span class="dv">23</span></span></code></pre></div></li>
</ul>
</section>
<section id="paso-de-argumentos-por-palabras-clave" class="title-slide slide level4" data-number="4.5.1.1">
<h4 data-number="4.5.1.1"><span class="header-section-number">4.5.1.1</span> Paso de argumentos por palabras clave</h4>
<ul>
<li><p>Normalmente, los argumentos se pasan a los parámetros posicionalmente (lo que se denomina <strong>paso de argumentos posicional</strong>).</p></li>
<li><p>Según este método, los argumentos se asignan a los parámetros correspondientes según la posición que ocupan en la llamada a la función (el primer argumento se asigna al primer parámetro, el segundo al segundo parámetro y así sucesivamente).</p></li>
<li><p>En Python también existe el <strong>paso de argumentos por palabra clave</strong>, donde cada argumento se asigna a su parámetro indicando en la llamada el nombre del parámetro y el valor de su argumento correspondiente separados por un <code class="sourceCode python"><span class="op">=</span></code>, como si fuera una asignación.</p></li>
<li><p>Esta técnica se usa en la función <code class="sourceCode python"><span class="bu">print</span></code> para indicar el separador o el terminador de la lista de expresiones a imprimir.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.5.1.1.1">

<ul>
<li><p>Si se combinan ambas técnicas en una misma llamada, los argumentos pasados por palabas clave se ponen al final.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;hola&#39;</span>, <span class="st">&#39;pepe&#39;</span>, <span class="dv">23</span>, sep<span class="op">=</span><span class="st">&#39;*&#39;</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>hola<span class="op">*</span>pepe<span class="op">*</span><span class="dv">23</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;hola&#39;</span>, <span class="st">&#39;pepe&#39;</span>, <span class="dv">23</span>, end<span class="op">=</span><span class="st">&#39;-&#39;</span>)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>hola pepe <span class="dv">23</span><span class="op">-</span></span></code></pre></div></li>
</ul>
</section>

<section id="el-valor-none" class="title-slide slide level4" data-number="4.5.1.2">
<h4 data-number="4.5.1.2"><span class="header-section-number">4.5.1.2</span> El valor <code class="sourceCode python"><span class="va">None</span></code></h4>
<ul>
<li><p>Es importante resaltar que la función <code class="sourceCode python"><span class="bu">print</span></code> <strong>no devuelve</strong> el valor de las expresiones, sino que las <strong>imprime</strong> (provoca el efecto lateral de cambiar la pantalla haciendo que aparezcan nuevos caracteres).</p></li>
<li><p>La función <code class="sourceCode python"><span class="bu">print</span></code> como tal no devuelve ningún valor, pero como en Python todas las funciones devuelven <em>algún</em> valor, en realidad lo que ocurre es que <strong>devuelve un valor <code class="sourceCode python"><span class="va">None</span></code></strong>.</p></li>
<li><p><code class="sourceCode python"><span class="va">None</span></code> es un valor especial que significa «<strong>ningún valor</strong>» y se utiliza principalmente para casos en los que no tiene sentido que una función devuelva un valor determinado, como es el caso de <code class="sourceCode python"><span class="bu">print</span></code>.</p></li>
<li><p>Pertenece a un tipo de datos especial llamado <code class="sourceCode python">NoneType</code> cuyo único valor posible es <code class="sourceCode python"><span class="va">None</span></code>, y para comprobar si un valor es <code class="sourceCode python"><span class="va">None</span></code> se usa <span style="color:teal">⟨<em>valor</em>⟩</span> <code class="sourceCode python"><span class="kw">is</span> <span class="va">None</span></code>.</p></li>
<li><p>Podemos comprobar que, efectivamente, <code class="sourceCode python"><span class="bu">print</span></code> devuelve <code class="sourceCode python"><span class="va">None</span></code>:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;hola&#39;</span>, <span class="st">&#39;pepe&#39;</span>, <span class="dv">23</span>) <span class="kw">is</span> <span class="va">None</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>hola pepe <span class="dv">23</span>  <span class="co"># ésto es lo que imprime print</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="va">True</span>          <span class="co"># ésto es el resultado de comprobar si el valor de print es None</span></span></code></pre></div></li>
</ul>
</section>


<section id="input" class="title-slide slide level3" data-number="4.5.2">
<h3 data-number="4.5.2"><span class="header-section-number">4.5.2</span> <code class="sourceCode python"><span class="bu">input</span></code></h3>
<ul>
<li><p>La función <code class="sourceCode python"><span class="bu">input</span></code> <em>lee</em> datos introducidos desde la entrada (normalmente el teclado) y devuelve el valor del dato introducido, que siempre es una <strong>cadena</strong> a la cual se le ha eliminado el posible salto de línea final.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><code class="sourceCode python"><span class="bu">input</span></code><code>(</code>[<em>prompt</em><code>:</code> <code class="sourceCode python"><span class="bu">str</span></code>]<code>) -&gt;</code>  <code class="sourceCode python"><span class="bu">str</span></code></div></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> nombre <span class="op">=</span> <span class="bu">input</span>(<span class="st">&#39;Introduce tu nombre: &#39;</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>Introduce tu nombre: Ramón</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;Hola,&#39;</span>, nombre)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>Hola, Ramón</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.5.2.0.1">

<ul>
<li><p>En primer lugar, provoca el <em>efecto lateral</em> de alterar el estado del dispositivo de salida imprimiendo el <em>prompt</em>.</p></li>
<li><p>Además, provoca el <em>efecto lateral</em> de alterar el estado del dispositivo de entrada, ya que se espera a que desde el exterior se introduzca el dato solicitado consumiendo los caracteres que haya en la entrada hasta el salto de línea.</p></li>
<li><p>Eso hace que sea <em>impura</em> por partida triple: provoca dos efectos laterales y puede devolver un resultado distinto cada vez que se la llama.</p></li>
</ul>
</section>


<section id="ejecución-de-scripts-por-lotes" class="title-slide slide level2" data-number="4.6">
<h2 data-number="4.6"><span class="header-section-number">4.6</span> Ejecución de <em>scripts</em>  por lotes</h2>
<ul>
<li><p>A partir de ahora, ya podemos escribir programas que se comuniquen directamente con el usuario mediante la entrada y salida por consola.</p></li>
<li><p>Por tanto, ya no necesitamos ejecutar las sentencias dentro de una sesión en el intérprete interactivo y podemos pasarle nuestros programas a los usuarios para que lo ejecuten.</p></li>
<li><p>En Python, los programas se almacenan en archivos llamados <em>scripts</em>.</p></li>
<li><p>Los usuarios ejecutan los programas directamente desde el sistema operativo, llamando al intérprete por lotes y pasándole el nombre del <em>script</em> que desea ejecutar.</p></li>
<li><p>Por ejemplo, para ejecutar el <em>script</em> <code>programa.py</code>, el usuario escribiría lo siguiente en un terminal del sistema operativo:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode console"><code class="sourceCode console"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">$ </span>python programa.py</span></code></pre></div></li>
<li><p>Observar que no se usa ninguna opción en la orden; solamente el nombre del archivo.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.6.0.0.1">

<ul>
<li><p>Nosotros, los programadores, durante el desarrollo del programa podemos ejecutarlo directamente dentro del entorno integrado de desarrollo (IDE).</p></li>
<li><p>Por ejemplo, desde Visual Studio Code podemos ejecutar el <em>script</em> actual sin salirnos del editor usando una de las siguientes opciones:</p>
<ul>
<li><p>Pulsando en el icono del triángulo verde situado en la esquina superior derecha de la ventana del editor:</p>
<div class="centered">
<p><img data-src="images/icono-ejecutar-vscode.png" class="plain" style="width:8.0%" /></p>
</div></li>
<li><p>Pulsando la tecla <code>F1</code> y escribiendo:</p>
<p><code>&gt;Python: Run Python File in Terminal</code></p>
<p>en el panel de comandos que aparece.</p></li>
</ul></li>
<li><p>En cualquiera de los dos casos, Visual Studio Code abre un terminal integrado y ejecuta ahí dentro el comando <code>python programa.py</code> como si lo hubiéramos escrito nosotros desde el sistema operativo.</p></li>
</ul>
</section>
<section id="argumentos-de-la-línea-de-órdenes" class="title-slide slide level3" data-number="4.6.1">
<h3 data-number="4.6.1"><span class="header-section-number">4.6.1</span> Argumentos de la línea de órdenes</h3>
<ul>
<li><p>El usuario del programa puede pasarle argumentos directamente desde la línea de órdenes del sistema operativo al arrancar el programa con el intérprete por lotes.</p></li>
<li><p>Para acceder a esos argumentos desde el programa, puede usarse el atributo <code class="sourceCode python">argv</code> del módulo <code class="sourceCode python">sys</code>.</p></li>
<li><p><code class="sourceCode python">sys.argv</code> es una lista que el intérprete rellena automáticamente con los argumentos usados por el usuario del <em>script</em> al ejecutarlo desde la línea de órdenes.</p></li>
<li><p>El primer elemento de la lista (es decir, <code class="sourceCode python">sys.argv[<span class="dv">0</span>]</code>) siempre contiene el nombre del <em>script</em>.</p></li>
<li><p>Los restantes elementos (<code class="sourceCode python">sys.argv[<span class="dv">1</span>]</code>, <code class="sourceCode python">sys.argv[<span class="dv">2</span>]</code>, etcétera) contendrán los argumentos pasados al <em>script</em>, en el orden en el que aparecen en la línea de órdenes.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.6.1.0.1">

<ul>
<li><p>Por ejemplo, un programa puede saludar al usuario dirigiéndose a él por su nombre, el cual tendrá que pasarlo mediante la línea de órdenes de la siguiente forma:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode console"><code class="sourceCode console"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="kw">$ </span>python saluda.py Ricardo</span></code></pre></div></li>
<li><p>Al ejecutar el <em>script</em> <code>saluda.py</code>, el nombre del <em>script</em> aparecerá en <code class="sourceCode python">sys.argv[<span class="dv">0</span>]</code> y el primer argumento enviado al mismo (en este caso, el nombre del usuario <code>Ricardo</code>) aparecerá en <code class="sourceCode python">sys.argv[<span class="dv">1</span>]</code>:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;¡Hola,&#39;</span>, sys.argv[<span class="dv">1</span>])</span></code></pre></div></li>
<li><p>Si el usuario no le pasa ningún argumento en la línea de órdenes, <code class="sourceCode python">sys.argv[<span class="dv">1</span>]</code> no existirá y se producirá un error <code class="sourceCode python"><span class="pp">IndexError</span></code> al intentar acceder a él:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>$ python saluda.py</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;saluda.py&quot;</span>, line <span class="dv">2</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;¡Hola,&#39;</span>, sys.argv[<span class="dv">1</span>])</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="pp">IndexError</span>: <span class="bu">list</span> index out of <span class="bu">range</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.6.1.0.2">

<ul>
<li><p>El siguiente programa suma dos números indicados por el usuario mediante la línea de órdenes.</p></li>
<li><p>En este caso, hay que tener en cuenta que los argumentos siempre se pasan como cadenas, así que habría que convertirlos previamente a números:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="bu">float</span>(sys.argv[<span class="dv">1</span>])</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="bu">float</span>(sys.argv[<span class="dv">2</span>])</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;La suma de&#39;</span>, x, <span class="st">&#39;+&#39;</span>, y, <span class="st">&#39;es&#39;</span>, x <span class="op">+</span> y)</span></code></pre></div></li>
<li><p>Un ejemplo de ejecución de este programa sería:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode console"><code class="sourceCode console"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">$ </span>python suma.py 4 3</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>La suma de 4.0 + 3.0 es 7.0</span></code></pre></div></li>
</ul>
</section>


<section id="entrada-y-salida-por-archivos" class="title-slide slide level2" data-number="4.7">
<h2 data-number="4.7"><span class="header-section-number">4.7</span> Entrada y salida por archivos</h2>
<ul>
<li><p>En Python (así como en otros lenguajes de programación), los archivos se representa mediante <strong>flujos</strong> (del inglés, <em>streams</em>) de bytes o caracteres.</p></li>
<li><p>Esos flujos pueden representar archivos reales almacenados en algún soporte, o pueden ser archivos <em>virtuales</em> que se pueden <em>redireccionar</em> usando funcionalidades del sistema operativo.</p></li>
<li><p>Por ejemplo, la consola (es decir, el teclado y la pantalla) del S. O. está conectada a dos flujos llamados <strong><em>entrada estándar</em></strong> y <strong><em>salida estándar</em></strong>.</p></li>
<li><p>Esos flujos se pueden se pueden redireccionar a otros archivos o dispositivos usando las redirecciones de la <em>shell</em>: <code>&lt;</code>, <code>&gt;</code> o <code>|</code>.</p></li>
<li><p>En Python, esos flujos se pueden manipular mediante los objetos <code class="sourceCode python">sys.stdin</code> y <code class="sourceCode python">sys.stdout</code>, respectivamente.</p></li>
<li><p>También existe el flujo <code class="sourceCode python">sys.stderr</code> que representa la <strong><em>salida estándar de errores</em></strong> del S. O.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.0.0.1">

<ul>
<li><p>Para leer y/o escribir datos en un archivo (es decir, en un <em>flujo</em>), los pasos a seguir son, en este orden:</p>
<ol>
<li><p>Abrir el archivo en el modo adecuado con <code class="sourceCode python"><span class="bu">open</span></code>.</p></li>
<li><p>Realizar las operaciones deseadas sobre el archivo.</p></li>
<li><p>Cerrar el archivo con <code class="sourceCode python">close</code>.</p></li>
</ol></li>
<li><p>Mientras el archivo está abierto, disponemos de un <strong>puntero</strong> que <em>apunta</em> a la posición actual de lectura o escritura, es decir, a la posición donde se llevará a cabo la siguiente operación de lectura o escritura con el archivo.</p></li>
<li><p>No olvidemos que un archivo es un <strong>flujo</strong> (una <em>secuencia</em>) de caracteres o bytes, por lo que ese puntero indica la posición actual dentro de esa secuencia.</p></li>
</ul>
</section>
<section id="open" class="title-slide slide level3" data-number="4.7.1">
<h3 data-number="4.7.1"><span class="header-section-number">4.7.1</span> <code class="sourceCode python"><span class="bu">open</span></code></h3>
<ul>
<li><p>La función <code class="sourceCode python"><span class="bu">open</span></code> abre un archivo y devuelve un objeto que lo representa. Su signatura es:</p>
<div class="line-block"><code class="sourceCode python"><span class="bu">open</span></code><code>(</code><em>nombre</em><code>:</code> <code class="sourceCode python"><span class="bu">str</span></code> [<code>,</code> <em>modo</em><code>:</code> <code class="sourceCode python"><span class="bu">str</span></code>]<code>)</code></div></li>
<li><p>El <em>nombre</em> es una cadena que contiene el nombre del archivo a abrir.</p></li>
<li><p>El <em>modo</em> es otra cadena que contiene caracteres que describen de qué forma se va a usar el archivo.</p></li>
<li><p>El valor devuelto es un objeto cuyo tipo depende del modo en el que se ha abierto el archivo.</p></li>
<li><p>Los valores posibles de <em>modo</em> se pueden observar en las siguientes tablas.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.1.0.1">

<ul>
<li><p>En modo texto:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Modo</th>
<th style="text-align: left;">Significado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>'r'</code></td>
<td style="text-align: left;">Abre sólo para lectura. El puntero se coloca al principio del archivo (valor predeterminado).</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>'r+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura. El puntero se coloca al principio del archivo.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>'w'</code></td>
<td style="text-align: left;">Abre sólo para escritura. Sobreescribe el archivo si ya existe. Si no existe, lo crea y lo abre para escritura. El puntero se coloca al principio del archivo.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>'w+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura. Sobreescribe el archivo si ya existe. Si no existe, lo crea y lo abre para lectura/escritura. El puntero se coloca al principio del archivo.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>'a'</code></td>
<td style="text-align: left;">Abre para añadir. El puntero se coloca al final del archivo si ya existe. Si no existe, lo crea y lo abre sólo para escritura.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>'a+'</code></td>
<td style="text-align: left;">Abre para lectura/añadir. El puntero se coloca al final del archivo si ya existe. Si no existe, lo crea y lo abre para lectura/escritura.</td>
</tr>
</tbody>
</table></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.1.0.2">

<ul>
<li><p>En modo binario:</p>
<table style="width:98%;">
<colgroup>
<col style="width: 12%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Modo</th>
<th style="text-align: left;">Significado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>'rb'</code></td>
<td style="text-align: left;">Abre sólo para lectura en modo binario. El puntero se coloca al principio del archivo.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>'rb+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura en modo binario. El puntero se coloca al principio del archivo.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>'wb+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura en modo binario. Sobreescribe el archivo si ya existe. Si no existe, lo crea y lo abre para lectura/escritura. El puntero se coloca al principio del archivo.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>'ab'</code></td>
<td style="text-align: left;">Abre para añadir en modo binario. El puntero se coloca al final del archivo si ya existe. Si no existe, lo crea y lo abre sólo para escritura.</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>'ab+'</code></td>
<td style="text-align: left;">Abre para lectura/añadir en modo binario. El puntero se coloca al final del archivo si ya existe. Si no existe, lo crea y lo abre para lectura/escritura.</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>'x'</code></td>
<td style="text-align: left;">Abre el archivo en modo exclusivo. Falla si ya existe.</td>
</tr>
</tbody>
</table></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.1.0.3">

<ul>
<li><p>Si no se pone <code>'b'</code> (modo binario), se entiende que es <code>'t'</code> (modo texto).</p></li>
<li><p>El modo predeterminado es <code>'r'</code> (abrir para lectura en modo texto, sinónimo de <code>'rt'</code>).</p></li>
<li><p>Los modos <code>'w+'</code> y <code>'w+b'</code> abren el archivo y lo borra si ya existe.</p></li>
<li><p>Los modos <code>'r+'</code> y <code>'r+b'</code> abren el archivo sin borrarlo.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.1.0.4">

<ul>
<li><p>Normalmente, los archivos se abren en <strong>modo texto</strong>, lo que significa que se leen y se escriben cadenas (valores de tipo <code class="sourceCode python"><span class="bu">str</span></code>) desde y hacia el archivo, las cuales se codifican según una codificación específica que depende de la plataforma.</p>
<p>Por ejemplo, los saltos de línea se escriben como <code>\n</code> en Unix o <code>\r\n</code> en Windows, y se leen siempre como <code>\n</code>.</p></li>
<li><p>Al añadir una <code>b</code> en el modo se abre el archivo en <strong>modo binario</strong>. En tal caso, los datos se leen y se escriben en forma de objetos de tipo <code class="sourceCode python"><span class="bu">bytes</span></code>.</p>
<p>El modo binario es el que debe usarse cuando se trabaje con archivos que no contengan texto (datos binarios <em>crudos</em>).</p></li>
<li><p>Ejemplo:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;salida.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.1.0.5">

<ul>
<li><p>El tipo de dato que devuelve <code class="sourceCode python"><span class="bu">open</span></code> depende de cómo se ha abierto el archivo:</p>
<ul>
<li><p>Si se ha abierto en <strong>modo texto</strong>, devuelve un <code class="sourceCode python">io.TextIOWrapper</code>.</p></li>
<li><p>Si se ha abierto en <strong>modo binario</strong>, entonces depende:</p>
<ul>
<li><p>En modo <strong>sólo lectura</strong>, devuelve un <code class="sourceCode python">io.BufferedReader</code>.</p></li>
<li><p>En modo <strong>sólo escritura o añadiendo al final</strong>, devuelve un <code class="sourceCode python">io.BufferedWriter</code>.</p></li>
<li><p>En modo <strong>lectura/escritura</strong>, devuelve un <code class="sourceCode python">io.BufferedRandom</code>.</p></li>
</ul></li>
<li><p><code class="sourceCode python">io</code> es el módulo que contiene los elementos básicos para manipular <strong>flujos</strong> (del inglés, <em>streams</em>).</p></li>
</ul></li>
</ul>
</section>

<section id="read" class="title-slide slide level3" data-number="4.7.2">
<h3 data-number="4.7.2"><span class="header-section-number">4.7.2</span> <code class="sourceCode python">read</code></h3>
<ul>
<li><p>Para leer de un archivo, se puede usar el método <code class="sourceCode python">read</code> sobre el objeto que devuelve la función <code class="sourceCode python"><span class="bu">open</span></code>. Su signatura es:</p>
<div class="line-block"><span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.read</code><code>(</code>[<em>tamaño</em><code>:</code> <code class="sourceCode python"><span class="bu">int</span></code>]<code>) -&gt;</code>  <code class="sourceCode python"><span class="bu">str</span></code> | <code class="sourceCode python"><span class="bu">bytes</span></code></div></li>
<li><p>El método devuelve una cadena (tipo <code class="sourceCode python"><span class="bu">str</span></code>) si el archivo se abrió en modo texto, o un objeto de tipo <code class="sourceCode python"><span class="bu">bytes</span></code> si se abrió en modo binario.</p></li>
<li><p>El archivo contiene un <strong>puntero interno</strong> que indica hasta dónde se ha leído en el mismo. Cada vez que se llama al método <code class="sourceCode python">read</code>, se mueve ese puntero para que en posteriores llamadas se continúe leyendo desde ese punto.</p></li>
<li><p>Si se alcanza el final del archivo, se devuelve la cadena vacía (<code class="sourceCode python"><span class="st">&#39;&#39;</span></code>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.2.0.1">

<ul>
<li><p>El parámetro <em>tamaño</em> es opcional:</p>
<ul>
<li><p>Si se omite o es negativo, se devuelve todo lo que hay desde la posición actual del puntero hasta el final del archivo.</p></li>
<li><p>En caso contrario, se leerán y devolverán <em>como mucho</em> tantos caracteres (en modo texto) o bytes (en modo binario) como se haya indicado.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.2.0.2">

<ul>
<li><p>Ejemplos de lectura de todo el archivo:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Este es el contenido del archivo.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span></code></pre></div></li>
<li><p>Ejemplos de lectura del archivo en varios trozos:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Este&#39;</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39; es &#39;</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;el c&#39;</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;ontenido del archivo</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span></code></pre></div></li>
</ul>
</section>

<section id="readline" class="title-slide slide level3" data-number="4.7.3">
<h3 data-number="4.7.3"><span class="header-section-number">4.7.3</span> <code class="sourceCode python">readline</code></h3>
<ul>
<li><p>El método <code class="sourceCode python">readline</code> también sirve para leer de un archivo y también se ejecuta sobre el objeto que devuelve <code class="sourceCode python"><span class="bu">open</span></code>.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.readline</code><code>(</code>[<em>tamaño</em><code>:</code> <code class="sourceCode python"><span class="bu">int</span></code>]<code>) -&gt;</code>  <code class="sourceCode python"><span class="bu">str</span></code> | <code class="sourceCode python"><span class="bu">bytes</span></code></div></li>
<li><p><code class="sourceCode python">readline</code> devuelve una línea del archivo en forma de cadena (si el archivo se abrió en <strong>modo texto</strong>) o un valor de tipo <code class="sourceCode python"><span class="bu">bytes</span></code> (si se abrió en <strong>modo binario</strong>), dejando el carácter de salto de línea (<code>\n</code>) al final.</p></li>
<li><p>El salto de línea sólo se omite cuando es la última línea del archivo y éste no acaba en salto de línea.</p></li>
<li><p>Si devuelve una cadena vacía (<code class="sourceCode python"><span class="st">&#39;&#39;</span></code>), significa que se ha alcanzado el final del archivo.</p></li>
<li><p>Si se devuelve una cadena formada sólo por <code>\n</code>, significa que es una línea en blanco (una línea que sólo contiene un salto de línea).</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.3.0.1">

<ul>
<li><p>El método empieza a leer desde la posición actual del puntero interno del archivo y cambia la posición del mismo.</p></li>
<li><p>El parámetro <em>tamaño</em> es opcional:</p>
<ul>
<li><p>Si se omite o es negativo, se devuelve todo desde la posición actual del puntero hasta el final de la línea.</p></li>
<li><p>En caso contrario, se leerán y devolverán <em>como mucho</em> tantos caracteres (en modo texto) o bytes (en modo binario) como se haya indicado.</p></li>
</ul></li>
</ul>
</section>
<section id="ejemplos" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline(<span class="dv">4</span>)</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta&#39;</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline(<span class="dv">4</span>)</span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a><span class="st">&#39; es &#39;</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span></code></pre></div>
</section>

<section id="readlines" class="title-slide slide level3" data-number="4.7.4">
<h3 data-number="4.7.4"><span class="header-section-number">4.7.4</span> <code class="sourceCode python">readlines</code></h3>
<ul>
<li><p>El método <code class="sourceCode python">readlines</code> (en plural, no confundir con <code class="sourceCode python">readline</code> en singular) también sirve para leer de un archivo y también se ejecuta sobre el objeto que devuelve <code class="sourceCode python"><span class="bu">open</span></code>, pero en lugar de su versión en singular, <strong>lee <em>varias</em> líneas del archivo de una sola vez</strong>.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.readlines</code><code>(</code>[<em>tamaño</em><code>:</code> <code class="sourceCode python"><span class="bu">int</span></code>]<code>) -&gt;</code>  <code class="sourceCode python">List[<span class="bu">str</span><span class="op">|</span><span class="bu">bytes</span>]</code></div></li>
<li><p><code class="sourceCode python">readlines</code> devuelve una lista de cadenas de caracteres o de bytes (según como se haya abierto el archivo, en modo texto o binario).</p></li>
<li><p>El método empieza a leer desde la posición actual del puntero interno del archivo y cambia la posición del mismo.</p></li>
<li><p>Las líneas conservan el carácter de salto de línea (<code>\n</code>) al final. El salto de línea sólo se omite cuando es la última línea del archivo y éste no acaba en salto de línea.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.4.0.1">

<ul>
<li><p>Si devuelve una lista vacía (<code class="sourceCode python">[]</code>), significa que el archivo está vacío.</p></li>
<li><p>Si uno de los elementos está formada sólo por <code>\n</code>, significa que es una línea en blanco (una línea que sólo contiene un salto de línea).</p></li>
<li><p>El parámetro <em>tamaño</em> es opcional, y se puede usar para controlar la cantidad de líneas leídas:</p>
<ul>
<li><p>Si se omite o es negativo, se leerá desde la posición actual del puntero hasta el final del archivo, devolviendo cada línea separada en un elemento de la lista.</p></li>
<li><p>En caso contrario, se leerán y devolverán el menor número de líneas que sean necesarias para leer el número de caracteres (en modo texto) o bytes (en modo binario) indicado, desde la posición actual del puntero.</p></li>
</ul></li>
</ul>
</section>
<section id="ejemplos-1" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb69"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>[]</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines(<span class="dv">5</span>)</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta&#39;</span></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39; es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span></code></pre></div>
</section>

<section id="write" class="title-slide slide level3" data-number="4.7.5">
<h3 data-number="4.7.5"><span class="header-section-number">4.7.5</span> <code class="sourceCode python">write</code></h3>
<ul>
<li><p>El método <code class="sourceCode python">write</code> sirve para escribir en un archivo y se ejecuta sobre el objeto que devuelve <code class="sourceCode python"><span class="bu">open</span></code> (y que representa al archivo abierto).</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.write</code><code>(</code><em>contenido</em><code>:</code> <code class="sourceCode python"><span class="bu">str</span></code> | <code class="sourceCode python"><span class="bu">bytes</span></code><code>) -&gt;</code>  <code class="sourceCode python"><span class="bu">int</span></code></div></li>
<li><p>El método escribe el <em>contenido</em> en el <span style="color:teal">⟨<em>archivo</em>⟩</span>. Ese contenido debe ser una <em>cadena</em> de caracteres si el archivo se abrió en <strong>modo texto</strong>, o un <em>valor de tipo</em> <code class="sourceCode python"><span class="bu">bytes</span></code> si se abrió en <strong>modo binario</strong>.</p></li>
<li><p>Al escribir, modifica el puntero interno del archivo.</p></li>
<li><p>Devuelve el número de caracteres o de bytes que se han escrito, dependiendo de si se abrió en modo texto o en modo binario.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.5.0.1">

<ul>
<li><p>También se puede usar <code class="sourceCode python"><span class="bu">print</span></code> para escribir en un archivo.</p></li>
<li><p>En la práctica, no hay mucha diferencia entre usar <code class="sourceCode python"><span class="bu">print</span></code> y usar <code class="sourceCode python">write</code>.</p></li>
<li><p>Hacer:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Hola Manolo</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<p>equivale a hacer:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;Hola&#39;</span>, <span class="st">&#39;Manolo&#39;</span>, <span class="bu">file</span><span class="op">=</span>f)</span></code></pre></div></li>
<li><p>Hay que tener en cuenta los separadores y los saltos de línea que introduce <code class="sourceCode python"><span class="bu">print</span></code>.</p></li>
<li><p><code class="sourceCode python"><span class="bu">print</span></code> escribe en el flujo <code class="sourceCode python">sys.stdout</code> mientras no se diga lo contrario.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.5.0.2">

<ul>
<li><p>Si el archivo se ha abierto en un modo <code>'a'</code> o <code>'a+'</code>, el puntero empezará estando al <strong>final del archivo</strong> y la escritura <strong>siempre</strong> se realizará a partir de ese punto, aunque previamente hayamos leído algo o hayamos movido el puntero explícitamente mediante <code class="sourceCode python">seek</code>:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Abrimos el archivo para ver su contenido</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que contiene las líneas originales</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;a+&#39;</span>)  <span class="co"># Lo volvemos a abrir en lectura/añadir</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)                      <span class="co"># El puntero está situado al final, y...</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span>                                 <span class="co"># ... si leemos algo, allí no hay nada</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;prueba</span><span class="ch">\n</span><span class="st">&#39;</span>)            <span class="co"># Escribimos siete caracteres al final</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()                      <span class="co"># Cerramos el archivo para guardar los cambios</span></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Volvemos a abrir el archivo</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que se ha escrito al final...</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,    <span class="co"># ... del archivo, y no en la posición 4...</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,          <span class="co"># ... como cabría haber esperado</span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;prueba</span><span class="ch">\n</span><span class="st">&#39;</span>]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.5.0.3">

<ul>
<li><p>Si el archivo se ha abierto en un modo <code>'w'</code>, <code>'w+'</code> o <code>'r+'</code>, el puntero empezará estando al <strong>principio del archivo</strong> y la escritura se realizará en la posición del puntero, pero <strong>si leemos algo del archivo antes de escribir en él, la escritura se hará <em>al final</em></strong> del archivo (como si lo hubiésemos abierto con un modo <code>'a+'</code>) a menos que primero movamos el puntero explícitamente mediante <code class="sourceCode python">seek</code>:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Abrimos el archivo para ver su contenido</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que contiene las líneas originales</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)  <span class="co"># Lo volvemos a abrir en lectura/escritura</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)                      <span class="co"># Leemos cuatro caracteres (desde el principio)</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta&#39;</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;prueba</span><span class="ch">\n</span><span class="st">&#39;</span>)            <span class="co"># Escribimos siete caracteres</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()                      <span class="co"># Cerramos el archivo para guardar los cambios</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Volvemos a abrir el archivo</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que se ha escrito al final...</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,    <span class="co"># ... del archivo, y no en la posición 4...</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,          <span class="co"># ... como cabría haber esperado</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;prueba</span><span class="ch">\n</span><span class="st">&#39;</span>]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.5.0.4">

<ul>
<li><p>También se puede usar <code class="sourceCode python"><span class="bu">print</span></code> para escribir en un archivo.</p></li>
<li><p>En la práctica, no hay mucha diferencia entre usar <code class="sourceCode python"><span class="bu">print</span></code> y usar <code class="sourceCode python">write</code>.</p></li>
<li><p>Hacer:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Hola Manolo</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<p>equivale a hacer:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;Hola&#39;</span>, <span class="st">&#39;Manolo&#39;</span>, <span class="bu">file</span><span class="op">=</span>f)</span></code></pre></div></li>
<li><p>Hay que tener en cuenta los separadores y los saltos de línea que introduce <code class="sourceCode python"><span class="bu">print</span></code>.</p></li>
<li><p><code class="sourceCode python"><span class="bu">print</span></code> escribe en el archivo <code class="sourceCode python">sys.stdout</code> mientras no se diga lo contrario.</p></li>
</ul>
</section>

<section id="writelines" class="title-slide slide level3" data-number="4.7.6">
<h3 data-number="4.7.6"><span class="header-section-number">4.7.6</span> <code class="sourceCode python">writelines</code></h3>
<ul>
<li><p>El método <code class="sourceCode python">writelines</code> escribe una lista de líneas en un archivo, por lo que, en cierta forma, es el contrario de <code class="sourceCode python">readlines</code>.</p></li>
<li><p>Igualmente, se ejecuta sobre el objeto que devuelve <code class="sourceCode python"><span class="bu">open</span></code> (y que representa al archivo abierto).</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.writelines</code><code>(</code><em>lineas</em><code>:</code> <code class="sourceCode python">List[<span class="bu">str</span><span class="op">|</span><span class="bu">bytes</span>]</code><code>) -&gt;</code>  <code class="sourceCode python"><span class="va">None</span></code></div></li>
<li><p>El parámetro <em>lineas</em> es el contenido a escribir en el archivo, y debe ser una lista de <em>cadenas</em> si el archivo se abrió en <strong>modo texto</strong>, o de <em>valores de tipo</em> <code class="sourceCode python"><span class="bu">bytes</span></code> si se abrió en <strong>modo binario</strong>.</p></li>
<li><p>Todo lo comentado anteriormente para el método <code class="sourceCode python">write</code> sobre su comportamiento en función del modo de apertura del archivo, se aplica también a <code class="sourceCode python">writelines</code>.</p></li>
</ul>
</section>
<section id="ejemplos-2" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb76"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.writelines(<span class="st">&#39;</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a><span class="st">[&#39;</span>Esta es la primera línea.<span class="op">\</span>n<span class="st">&#39;]</span></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a><span class="st">&gt;&gt;&gt; f = open(&#39;</span>entrada.txt<span class="st">&#39;, &#39;</span><span class="vs">r&#39;)</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a><span class="vs">&gt;&gt;&gt; f.read(4)</span></span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a><span class="vs">&#39;</span>Esta<span class="st">&#39;</span></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a><span class="st">&gt;&gt;&gt; f.readlines()</span></span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a><span class="st">[&#39;</span> es la primera línea.<span class="op">\</span>n<span class="st">&#39;, &#39;</span>Esta es la segunda.<span class="op">\</span>n<span class="st">&#39;,</span></span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a><span class="st"> &#39;</span>Y esta es la tercera.<span class="op">\</span>n<span class="st">&#39;]</span></span></code></pre></div>
</section>

<section id="seek-y-tell" class="title-slide slide level3" data-number="4.7.7">
<h3 data-number="4.7.7"><span class="header-section-number">4.7.7</span> <code class="sourceCode python">seek</code> y <code class="sourceCode python">tell</code></h3>
<ul>
<li><p>El método <code class="sourceCode python">seek</code> <strong>situa el puntero interno</strong> del archivo en una determinada posición.</p></li>
<li><p>El método <code class="sourceCode python">tell</code> <strong>devuelve la posición actual</strong> del puntero interno.</p></li>
<li><p>Sus signaturas son:</p>
<div class="line-block"><span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.seek</code><code>(</code><em>offset</em><code>:</code> <code class="sourceCode python"><span class="bu">int</span></code><code>) -&gt;</code>  <code class="sourceCode python"><span class="bu">int</span></code><br />
<br />
<span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.tell</code><code>() -&gt;</code>  <code class="sourceCode python"><span class="bu">int</span></code></div></li>
<li><p>El <em>offset</em> es la posición a la que se desea mover el puntero, empezando por 0 desde el comienzo del archivo.</p></li>
<li><p>Además de mover el puntero, el método <code class="sourceCode python">seek</code> devuelve la nueva posición del puntero.</p>
<p>Pero no olvidemos que si el archivo se ha abierto en modo <em>añadir</em> (<code>'a'</code> o <code>'a+'</code>), la escritura se hará siempre al final del archivo, sin importar cuál sea la posición actual del puntero.</p></li>
</ul>
</section>
<section id="ejemplos-3" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)    <span class="co"># Abre en modo lectura/escritura</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero está al principio</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Lee una línea de texto</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># Se ha movido el puntero</span></span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Vuelve a colocarlo al principio</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Por tanto, se lee la misma línea</span></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Vuelve a colocarlo al principio</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Cambiar&#39;</span>)               <span class="co"># Escribe desde el principio</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()</span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)</span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Se ha cambiado la primera línea</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Cambiar la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span></code></pre></div>
</section>
<section class="slide level5" data-number="4.7.7.0.1">

<div class="sourceCode" id="cb78"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;a+&#39;</span>)    <span class="co"># Abre en modo lectura/escritura</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero está al final</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="dv">69</span></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Allí no hay nada</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Movemos el puntero al principio</span></span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero se ha movido</span></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Por tanto, se lee la misma línea</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Vuelve a colocarlo al principio</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;prueba</span><span class="ch">\n</span><span class="st">&#39;</span>)              <span class="co"># Siempre se escribe al final</span></span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero está al final</span></span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a><span class="dv">76</span></span></code></pre></div>
</section>

<section id="close" class="title-slide slide level3" data-number="4.7.8">
<h3 data-number="4.7.8"><span class="header-section-number">4.7.8</span> <code class="sourceCode python">close</code></h3>
<ul>
<li><p>El método <code class="sourceCode python">close</code> cierra un archivo previamente abierto por <code class="sourceCode python"><span class="bu">open</span></code>, finalizando la sesión de trabajo con el mismo.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span style="color:teal">⟨<em>archivo</em>⟩</span><code class="sourceCode python">.close()</code></div></li>
<li><p>Siempre hay que cerrar un archivo previamente abierto, para así asegurarse de que los cambios realizados se vuelquen al archivo a través del sistema operativo y liberar inmediatamente los recursos del sistema que pudiera estar consumiendo.</p></li>
<li><p>Una vez que se ha cerrado el archivo ya no se podrá seguir usando:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a><span class="pp">ValueError</span>: I<span class="op">/</span>O operation on closed <span class="bu">file</span>.</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.7.8.0.1">

<ul>
<li><p>Podemos comprobar si un archivo ya se ha cerrado consultando su atributo <code class="sourceCode python">closed</code>:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.closed</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.closed</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div></li>
<li><p>Observa que no es un método (no lleva paréntesis), sino un atributo que contiene directamente un valor lógico que el propio objeto modifica al cambiar su estado de abierto a cerrado o viceversa.</p></li>
</ul>
</section>

</section>
<section>
<section id="saltos" class="title-slide slide level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Saltos</h1>

</section>
<section id="incondicionales" class="title-slide slide level2" data-number="5.1">
<h2 data-number="5.1"><span class="header-section-number">5.1</span> Incondicionales</h2>
<ul>
<li><p>Un <strong>salto incondicional</strong> es una sentencia que provoca una ruptura abrupta del flujo de control del programa hacia otro punto del mismo.</p></li>
<li><p>Se le llama <em>salto</em> porque el programa «salta» a otra línea del código, normalmente marcada mediante un <em>número de línea</em> o una <em>etiqueta</em>.</p></li>
<li><p>Se llama <em>incondicional</em> porque no depende de ninguna condición, es decir, se lleva a cabo <strong>siempre</strong> que se alcanza la sentencia de salto.</p></li>
<li><p>Históricamente, a esta instrucción se la ha llamado <strong>instrucción <em>GOTO</em></strong>.</p></li>
<li><p>El uso de instrucciones <em>GOTO</em> es considerado, en general, una mala práctica de programación ya que favorece la creación del llamado <strong>código <em>espagueti</em></strong>: programas con una lógica tan complicada de seguir que resultan casi imposibles de leer y de mantener.</p></li>
<li><p>En cambio, usadas controladamente y de manera local, puede ayudar a escribir soluciones sencillas y claras.</p></li>
</ul>
</section>
<section class="slide level5" data-number="5.1.0.0.1">

<div class="columns">
<div class="column">
<ul>
<li><p>Algoritmo imperativo que usa saltos incondicionales con etiquetas:</p>
<div class="line-block"><strong>inicio</strong><br />
<strong>escribir</strong> "Esto se hace"<br />
<strong>saltar</strong> a la etiqueta <em>fin</em><br />
<strong>escribir</strong> "Esto no se hace"<br />
<strong>etiqueta</strong> <em>fin</em><br />
<strong>escribir</strong> "Aquí se acaba"<br />
<strong>fin</strong></div></li>
<li><p>El mismo algoritmo con números de línea:</p>
<div class="line-block">1. <strong>inicio</strong><br />
2. <strong>escribir</strong> "Esto se hace"<br />
3. <strong>saltar</strong> a la línea 5<br />
4. <strong>escribir</strong> "Esto no se hace"<br />
5. <strong>escribir</strong> "Aquí se acaba"<br />
6. <strong>fin</strong></div></li>
</ul>
</div><div class="column">
<ul>
<li>Representado como diagrama de flujo:</li>
</ul>
<div class="centered">
<p><img data-src="images/salto-incondicional.svg" class="plain" style="width:60.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="5.1.0.0.2">

<ul>
<li><p>Python no incluye la instrucción <em>GOTO</em> pero se puede simular usando el módulo <code>with_goto</code> del paquete llamado <code>goto-statement</code>:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode console"><code class="sourceCode console"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="kw">$ </span>sudo apt install python3-pip</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="kw">$ </span>python3 -m pip install goto-statement</span></code></pre></div></li>
</ul>
<p><br></p>
<div class="columns">
<div class="column" style="width:37%;">
<ul>
<li>Sintaxis:</li>
</ul>
<div class="line-block"><span style="color:teal">⟨<em>goto</em>⟩</span> ::= <strong><code>goto</code></strong> <span style="color:teal">⟨<em>etiqueta</em>⟩</span><br />
<span style="color:teal">⟨<em>label</em>⟩</span> ::= <strong><code>label</code></strong> <span style="color:teal">⟨<em>etiqueta</em>⟩</span><br />
<span style="color:teal">⟨<em>etiqueta</em>⟩</span> ::= <strong><code>.</code></strong><span style="color:teal">⟨<em>identificador</em>⟩</span></div>
</div><div class="column" style="width:63%;">
<ul>
<li>Un ejemplo de uso:</li>
</ul>
<div class="sourceCode" id="cb82"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> goto <span class="im">import</span> with_goto</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>CODIGO <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a><span class="st">print(&#39;Esto se hace&#39;)</span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="st">goto .fin</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a><span class="st">print(&#39;Esto se salta&#39;)</span></span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a><span class="st">label .fin</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a><span class="st">print(&#39;Aquí se acaba&#39;)</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;&quot;&quot;</span></span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-11"><a href="#cb82-11" aria-hidden="true" tabindex="-1"></a><span class="bu">exec</span>(with_goto(<span class="bu">compile</span>(CODIGO, <span class="st">&#39;&#39;</span>, <span class="st">&#39;exec&#39;</span>)))</span></code></pre></div>
</div>
</div>
</section>

<section id="condicionales" class="title-slide slide level2" data-number="5.2">
<h2 data-number="5.2"><span class="header-section-number">5.2</span> Condicionales</h2>
<ul>
<li><p>Un <strong>salto condicional</strong> es un salto que se lleva a cabo sólo si se cumple una determinada condición.</p></li>
<li><p>En el caso de que la condición no se cumpla, no se produce el salto y, por tanto, el flujo de control del programa continúa en la siguiente sentencia que aparece en el código fuente.</p></li>
<li><p>En pseudocódigo se puede escribir de la siguiente forma:</p>
<div class="line-block"><strong>si</strong> <span style="color:teal">⟨<em>condición</em>⟩</span> <strong>saltar a</strong> (<span style="color:teal">⟨<em>etiqueta</em>⟩</span>|<span style="color:teal">⟨<em>número_línea</em>⟩</span>)</div></li>
<li><p>En Python, usando el módulo <code>with_goto</code>, podríamos implementarlo de la siguiente forma:</p>
<div class="line-block"><span style="color:teal">⟨<em>salto_condicional</em>⟩</span> ::= <strong><code>if</code></strong> <span style="color:teal">⟨<em>condición</em>⟩</span><strong><code>:</code></strong> <strong><code>goto</code></strong> <span style="color:teal">⟨<em>etiqueta</em>⟩</span></div></li>
</ul>
</section>
<section class="slide level5" data-number="5.2.0.0.1">

<div class="columns">
<div class="column">
<ul>
<li><p>Ejemplo que combina saltos condicionales e incondicionales:</p>
<div class="line-block"><span class="math inline">primero \longleftarrow 2</span><br />
<span class="math inline">ultimo \longleftarrow 25</span><br />
<span class="math inline">i \longleftarrow primero</span><br />
<strong>etiqueta</strong> <em>inicio</em><br />
<strong>si</strong> <span class="math inline">i = ultimo</span> <strong>saltar</strong> a la etiqueta <em>fin</em><br />
<strong>escribir</strong> <span class="math inline">i</span><br />
<span class="math inline">i \longleftarrow i + 1</span><br />
<strong>saltar</strong> a la etiqueta <em>inicio</em><br />
<strong>etiqueta</strong> <em>fin</em></div></li>
</ul>
</div><div class="column">
<div class="centered">
<p><img data-src="images/salto-condicional.svg" class="plain" style="width:50.0%" /></p>
</div>
</div>
</div>
</section>
<section class="slide level5" data-number="5.2.0.0.2">

<ul>
<li><p>Traducción a Python usando el módulo <code>with_goto</code>:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> goto <span class="im">import</span> with_goto</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>CODIGO <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="st">primero = 2</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a><span class="st">ultimo = 25</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a><span class="st">i = primero</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a><span class="st">label .inicio</span></span>
<span id="cb83-10"><a href="#cb83-10" aria-hidden="true" tabindex="-1"></a><span class="st">if i == ultimo: goto .fin</span></span>
<span id="cb83-11"><a href="#cb83-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-12"><a href="#cb83-12" aria-hidden="true" tabindex="-1"></a><span class="st">print(i, end=&#39; &#39;)</span></span>
<span id="cb83-13"><a href="#cb83-13" aria-hidden="true" tabindex="-1"></a><span class="st">i += 1</span></span>
<span id="cb83-14"><a href="#cb83-14" aria-hidden="true" tabindex="-1"></a><span class="st">goto .inicio</span></span>
<span id="cb83-15"><a href="#cb83-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-16"><a href="#cb83-16" aria-hidden="true" tabindex="-1"></a><span class="st">label .fin</span></span>
<span id="cb83-17"><a href="#cb83-17" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;&quot;&quot;</span></span>
<span id="cb83-18"><a href="#cb83-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-19"><a href="#cb83-19" aria-hidden="true" tabindex="-1"></a><span class="bu">exec</span>(with_goto(<span class="bu">compile</span>(CODIGO, <span class="st">&#39;&#39;</span>, <span class="st">&#39;exec&#39;</span>)))</span></code></pre></div></li>
</ul>
</section>
</section>
<section id="bibliografía" class="title-slide slide level1 unnumbered unlisted">
<h1 class="unnumbered unlisted">Bibliografía</h1>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-aguilar_fundamentos_2008" class="csl-entry" role="doc-biblioentry">
Aguilar, Luis Joyanes. 2008. <em>Fundamentos de Programación</em>. Aravaca: McGraw-Hill Interamericana de España.
</div>
<div id="ref-pareja_flores_desarrollo_1997" class="csl-entry" role="doc-biblioentry">
Pareja Flores, Cristóbal, Manuel Ojeda Aciego, Ángel Andeyro Quesada, and Carlos Rossi Jiménez. 1997. <em>Desarrollo de Algoritmos y Técnicas de Programación En <span>Pascal</span></em>. Madrid: Ra-Ma.
</div>
</div>
</section>
    </div>
  </div>

  <script src="./reveal.js/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="./reveal.js/plugin/notes/notes.js"></script>
  <script src="./reveal.js/plugin/search/search.js"></script>
  <script src="./reveal.js/plugin/zoom/zoom.js"></script>
  <script src="./reveal.js/plugin/reveal.js-menu/menu.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,
        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,
        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',
        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',
        // Display a presentation progress bar
        progress: true,
        // Display the page number of the current slide
        slideNumber: true,
        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',
        // Push each slide change to the browser history
        history: true,
        // Enable keyboard shortcuts for navigation
        keyboard: true,
        // Enable the slide overview mode
        overview: true,
        // Vertical centering of slides
        center: true,
        // Enables touch navigation on devices with touch input
        touch: true,
        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',
        // Turns fragments on and off globally
        fragments: true,
        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,
        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,
       // Flags if it should be possible to pause the presentation (blackout)
       pause: true,
        // Global override for autoplaying embedded media (video/audio/iframe)
        // - null: Media will only autoplay if data-autoplay is present
        // - true: All media will autoplay, regardless of individual setting
        // - false: No media will autoplay, regardless of individual setting
        autoPlayMedia: null,
        // Global override for preloading lazy-loaded iframes
        // - null: Iframes with data-src AND data-preload will be loaded when within
        //   the viewDistance, iframes with only data-src will be loaded when visible
        // - true: All iframes with data-src will be loaded when within the viewDistance
        // - false: All iframes with data-src will be loaded only when visible
        preloadIframes: null,
        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,
        // Stop auto-sliding after user input
        autoSlideStoppable: true,
        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,
        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,
        // Hide cursor if inactive
        hideInactiveCursor: true,
        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Transition speed
        transitionSpeed: 'default', // default/fast/slow
        // Transition style for full page slide backgrounds
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
        // Number of slides away from the current that are visible
        viewDistance: 3,
        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,
        height: 1080,
        // The display mode that will be used to show slides
        display: 'block',

        menu: {
          hideMissingTitles: true,
        },

        dependencies: [
          { src: './reveal.js/plugin/reveal.js-quiz/quiz/js/quiz.js', async: true, callback: function() { prepareQuizzes({preventUnanswered: true, checkAnswerText: 'Comprueba la respuesta', nextQuestionText: 'Siguiente &raquo;', backButtonText: '&laquo; Anterior', tryAgainText: 'Prueba de nuevo', preventUnansweredText: 'Selecciona una respuesta', questionCountText: 'Pregunta %current de %total', skipStartButton: true}); } }
        ],

        // reveal.js plugins
        plugins: [
          RevealMenu,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
