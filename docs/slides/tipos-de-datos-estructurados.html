<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Ricardo Pérez López">
  <title>Tipos de datos estructurados</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="./reveal.js/dist/reset.css">
  <link rel="stylesheet" href="./reveal.js/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #268bd2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #cb4b16; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #d33682; } /* BaseN */
    code span.bu { color: #4070a0; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #dc322f; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #93a1a1; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #6c71c4; } /* DataType */
    code span.dv { color: #d33682; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #d33682; } /* Float */
    code span.fu { color: #4070a0; } /* Function */
    code span.im { font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #268bd2; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #a57800; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #2aa198; } /* SpecialString */
    code span.st { color: #2aa198; } /* String */
    code span.va { color: #6c71c4; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="./reveal.js/dist/theme/solarized.css" id="theme">
  <link rel="stylesheet" href="custom.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
   var mathElements = document.getElementsByClassName("math");
   var macros = [];
   for (var i = 0; i < mathElements.length; i++) {
    var texText = mathElements[i].firstChild;
    if (mathElements[i].tagName == "SPAN") {
     katex.render(texText.data, mathElements[i], {
      displayMode: mathElements[i].classList.contains('display'),
      throwOnError: false,
      macros: macros,
      fleqn: false
     });
  }}});
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <style type="text/css">
      #header-left {
          position: absolute;
          font-size: 25%;
          top: 0%;
          left: 0%;
          margin-left: 10px;
          margin-top: 10px;
      }
      #header-right {
          position: absolute;
          font-size: 25%;
          top: 0%;
          right: 0%;
          margin-right: 10px;
          margin-top: 10px;
      }
      #footer-left {
          position: absolute;
          font-size: 25%;
          bottom: 0%;
          left: 0%;
          margin-left: 10px;
          margin-bottom: 10px;
      }
  </style>
</head>
<body>
<div id="hidden" style="display:none;">
    <div id="header">
        <div id="header-left"></div>
        <div id="header-right"></div>
        <div id="footer-left"></div>
    </div>
</div>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(event) {
        var title = document.getElementsByClassName('title')[0];
        title = title != null ? title.innerHTML : '';
        var author = document.getElementsByClassName('author')[0];
        author = author != null ? author.innerHTML : '';
        var date = document.getElementsByClassName('date')[0];
        date = date != null ? date.innerHTML : '';
        document.getElementById('header-left').innerHTML = '<a href="#/title-slide">' + title + '</a>';
        document.getElementById('footer-left').innerHTML = '<a href="https://pro.iesdonana.org">&copy; ' + author + ' (' + date + ')</a>';

        function updateHeader(nd) {
            var hr = document.getElementById('header-right');
            while (hr.children.length > 0) {
                hr.removeChild(hr.lastChild);
            }
            buscar(nd, 3, hr);
            buscar(nd, 2, hr);
            buscar(nd, 1, hr);
            hr.style.fontSize = Math.round(50 * Reveal.getScale()) + '%';
            hr.style.fontSize = Math.max(Number.parseInt(getComputedStyle(hr).fontSize), 12) + 'px';
            var hl = document.getElementById('header-left');
            hl.style.fontSize = hr.style.fontSize;
        }

        function buscar(nd, level, hr) {
            if (!nd.classList.contains('level' + (level - 1))) {
                for (var n = nd; n != null; n = n.previousSibling) {
                    if (n.nodeType == Node.TEXT_NODE) {
                        continue;
                    }
                    var cl = n.classList;
                    if (cl.contains('level' + level)) {
                        var h = n.querySelector('h' + level);
                    } else if (cl.contains('level' + (level - 1))) {
                        break;
                    } else {
                        continue;
                    }
                    if (h == null || Reveal.getCurrentSlide().id == 'title-slide') {
                        hr.innerHTML = '';
                    } else {
                        var el = document.createElement('a');
                        var href = '#/' + n.id;
                        el.href = href;
                        el.innerHTML = h.innerHTML;
                        var a = el.querySelector('a');
                        if (a !== null) {
                            a.href = href;
                        }
                        if (hr.innerHTML != '') {
                            hr.innerHTML = ' &mdash; ' + hr.innerHTML;
                        }
                        hr.insertBefore(el, hr.firstChild);
                    }
                    break;
                }
            }
        }

        // On Reveal.js ready event, copy header/footer <div>
        // into each `.slide-background` <div>
        Reveal.addEventListener('ready', function(event) {
            var header = document.getElementById('header');
            document.querySelector('.reveal').appendChild(header);
            updateHeader(Reveal.getCurrentSlide());
        });

        Reveal.addEventListener('slidechanged', function(event) {
            // event.previousSlide, event.currentSlide, event.indexh, event.indexv
            updateHeader(event.currentSlide);
        });
    });
</script>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Tipos de datos estructurados</h1>
  <p class="author">Ricardo Pérez López</p>
  <p class="date">IES Doñana, curso 2021/2022</p>
</section>
<section id="TOC">
<ul>
<li><a href="#/introducción"><span class="toc-section-number">1</span> Introducción</a></li>
<li><a href="#/secuencias"><span class="toc-section-number">2</span> Secuencias</a></li>
<li><a href="#/estructuras-no-secuenciales"><span class="toc-section-number">3</span> Estructuras no secuenciales</a></li>
</ul>
</section>

<section>
<section id="introducción" class="title-slide slide level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introducción</h1>

</section>
<section id="composición" class="title-slide slide level2" data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span> Composición</h2>
<ul>
<li><p>Hasta ahora, hemos aprendido que:</p>
<ul>
<li><p>Un programa está compuesto por <em>instrucciones</em>.</p></li>
<li><p>Las instrucciones de un programa son las <em>expresiones</em> y las <em>sentencias</em>.</p></li>
</ul></li>
<li><p>Además, hemos visto que podemos crear instrucciones más complejas a partir de otras más simples. Es decir:</p>
<ul>
<li><p>Podemos crear <em>expresiones más complejas</em> combinando entre sí expresiones más simples.</p></li>
<li><p>Podemos crear <em>sentencias compuestas</em> (estructuras de control, como bloques, condicionales, bucles, etc.) combinando entre sí otras sentencias.</p></li>
</ul></li>
<li><p>La propiedad que tienen los lenguajes de programación de crear elementos más complejos combinando otros más simples se denomina <strong>composición</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.1">

<ul>
<li><p>La <strong>abstracción</strong> y la <strong>composición</strong> son dos conceptos relacionados:</p>
<ul>
<li><p><em>Componer</em> consiste en combinar elementos entre sí para formar otros más complejos.</p></li>
<li><p><em>Abstrer</em> consiste en coger un elemento (simple o complejo), darle un nombre y ocultar sus detalles internos dentro de una caja negra.</p></li>
</ul></li>
<li><p>Lo interesante es que la combinación y la abstracción son dos mecanismos <em>recursivos</em>:</p>
<ul>
<li><p>Podemos crear elementos complejos a partir de otros elementos complejos.</p></li>
<li><p>Podemos crear abstracciones a partir de otras abstracciones.</p></li>
</ul></li>
<li><p>Además, por supuesto, podemos crear abstracciones a partir de composiciones y composiciones a partir de abstracciones.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.1.0.0.2">

<ul>
<li><p>Por ahora, esos conceptos (<em>composición</em> y <em>abstracción</em>) sólo los hemos aplicado a las <strong>instrucciones</strong> del programa:</p>
<ul>
<li><p>La <strong>composición de instrucciones</strong> da lugar a las <strong>expresiones compuestas</strong> y a las <strong>sentencias compuestas</strong> (también llamadas <strong>estructuras de control</strong>: <em>secuencia</em>, <em>selección</em> e <em>iteración</em>).</p></li>
<li><p>La <strong>abstracción de instrucciones</strong> da lugar a las <strong>abstracciones funcionales</strong>.</p></li>
</ul></li>
<li><p>Pero también se pueden aplicar a los <strong>datos</strong>:</p>
<ul>
<li><p>La <strong>composición de datos</strong> da lugar a los <strong>datos compuestos</strong> (también llamados <strong>datos estructurados</strong>) y, en consecuencia, a los <strong>tipos de datos compuestos</strong> (también llamados <strong>tipos de datos estructurados</strong>).</p></li>
<li><p>La <strong>abstracción de datos</strong> da lugar a los <strong>datos abstractos</strong> y, en consecuencia, a los <strong>tipos abstractos de datos</strong>.</p></li>
</ul></li>
<li><p>En esta unidad hablaremos de los primeros, y dejaremos los segundos para una unidad posterior.</p></li>
</ul>
</section>

<section id="conceptos-básicos" class="title-slide slide level2" data-number="1.2">
<h2 data-number="1.2"><span class="header-section-number">1.2</span> Conceptos básicos</h2>
<ul>
<li><p>Un <strong>dato estructurado</strong> (también llamado <strong>dato compuesto</strong>, <strong>colección</strong> o <strong>contenedor</strong>) es un dato formado, a su vez, por otros datos llamados <strong>componentes</strong> o <strong>elementos</strong>.</p></li>
<li><p>Un <strong>tipo de dato estructurado</strong>, también llamado <strong>tipo compuesto</strong>, es aquel cuyos valores son datos estructurados.</p></li>
<li><p>Normalmente, se puede <strong>acceder</strong> de manera individual a los elementos que componen un dato estructurado y, a veces, también se pueden <strong>modificar</strong> de manera individual.</p></li>
<li><p>El término <strong>estructura de datos</strong> se suele usar como sinónimo de <strong>tipo de dato estructurado</strong>, aunque nosotros haremos una distinción:</p>
<ul>
<li><p>Usaremos <strong>tipo de dato estructurado</strong> cuando usemos un dato sin conocer sus detalles internos de implementación.</p></li>
<li><p>Usaremos <strong>estructura de datos</strong> cuando nos interesen esos detalles internos.</p></li>
</ul></li>
</ul>
</section>

<section id="clasificación" class="title-slide slide level2" data-number="1.3">
<h2 data-number="1.3"><span class="header-section-number">1.3</span> Clasificación</h2>
<ul>
<li><p>Los <strong>datos estructurados</strong> se pueden clasificar en:</p>
<ul>
<li><p><strong>Secuenciales:</strong> los elementos se pueden acceder directamente según la posición que ocupan dentro de la secuencia.</p></li>
<li><p><strong>No secuenciales:</strong> los elementos no se pueden acceder directamente según la posición que ocupan, normalmente porque esos los elementos no se encuentran en una posición concreta dentro de la secuencia.</p></li>
<li><p><strong>Inmutables:</strong> el dato estructurado no puede cambiar nunca su estado interno a lo largo de su vida.</p></li>
<li><p><strong>Mutables:</strong> el dato estructurado puede cambiar su estado interno a lo largo de su vida sin cambiar su identidad.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.3.0.0.1">

<p><span class="math display">\text{Tipos estructurados} \begin{cases}
    \text{Secuencias} \begin{cases}
        \text{Inmutables} \begin{cases}
            \text{Cadenas (\texttt{str})} \\
            \text{Tuplas (\texttt{tuple})} \\
            \text{Rangos (\texttt{range})}
        \end{cases} \\
        \\
        \text{Mutables} \begin{cases}
            \text{Listas (\texttt{list})}
        \end{cases}
    \end{cases} \\
    \\
    \text{No secuencias} \begin{cases}
        \text{Inmutables} \begin{cases}
            \text{Conjuntos (\texttt{frozenset})}
        \end{cases} \\
        \\
        \text{Mutables} \begin{cases}
            \text{Conjuntos (\texttt{set})} \\
            \text{Diccionarios (\texttt{dict})}
        \end {cases}
    \end{cases}
\end{cases}</span></p>
</section>

<section id="hashables" class="title-slide slide level2" data-number="1.4">
<h2 data-number="1.4"><span class="header-section-number">1.4</span> <em>Hashables</em></h2>
<ul>
<li><p>Un dato es <em>hashable</em> si cumple las siguientes dos condiciones:</p>
<ol>
<li><p>Tiene asociado un valor numérico llamado <strong>hash</strong> que nunca cambia durante su vida.</p>
<p>Si un dato es <em>hashable</em>, se podrá obtener su <em>hash</em> llamando a la función <code class="sourceCode python"><span class="bu">hash</span></code> sobre el valor. En caso contrario, la llamada generará un error <code class="sourceCode python"><span class="pp">TypeError</span></code>.</p></li>
<li><p>Puede compararse con otros datos usando el operador <code>==</code>.</p></li>
</ol></li>
<li><p>Si dos datos <em>hashables</em> son iguales, entonces deben tener el mismo valor de <em>hash</em>:</p>
<div class="caja centered">
<p>Si <span class="math inline">x</span> <code>==</code> <span class="math inline">y</span>, entonces debe cumplirse que <code class="sourceCode python"><span class="bu">hash</span></code><code>(</code><span class="math inline">x</span><code>)</code> <code>==</code> <code class="sourceCode python"><span class="bu">hash</span></code><code>(</code><span class="math inline">y</span><code>)</code>.</p>
</div></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.1">

<ul>
<li><p>La mayoría de los datos inmutables predefinidos en Python son <em>hashables</em>.</p></li>
<li><p>Los <strong>contenedores inmutables</strong> (como las tuplas o los <code class="sourceCode python"><span class="bu">frozenset</span></code>s) sólo son <em>hashables</em> si sus elementos también lo son.</p></li>
<li><p>Los <strong>contenedores mutables</strong> (como las listas o los diccionarios) <strong>NO</strong> son <em>hashables</em>.</p></li>
<li><p>El concepto de <em>hashable</em> es importante en Python ya que existen tipos de datos estructurados que sólo admiten elementos <em>hashables</em>.</p></li>
<li><p>Por ejemplo, los elementos de un conjunto y las claves de un diccionario deben ser <em>hashables</em>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.2">

<ul>
<li><p>El valor <em>hash</em> de un dato se calcula internamente a partir del contenido del dato usando una fórmula que no nos debe preocupar.</p></li>
<li><p>Ese valor se utiliza para acceder directamente al dato dentro de una colección, y por eso es un valor que no puede cambiar nunca.</p></li>
<li><p>Esa es la razón por la que los contenedores mutables no son <em>hashables</em>: al ser mutables, su contenido cambia y, por tanto, su valor <em>hash</em> también.</p></li>
<li><p>Ejemplos:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1466824599200729805</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>(<span class="dv">5</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>((<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="dv">529344067295497451</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">hash</span>([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: unhashable <span class="bu">type</span>: <span class="st">&#39;list&#39;</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="1.4.0.0.3">

<p>No se debe confundir el <code class="sourceCode python"><span class="bu">id</span></code> de un dato con el <code class="sourceCode python"><span class="bu">hash</span></code> de un dato:</p>
<table>
<colgroup>
<col style="width: 48%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;"><code>id</code></th>
<th style="text-align: center;"><code>hash</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><ul>
<li>El <code>id</code> devuelve la identidad de un dato.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>El <code>hash</code> devuelve el <em>hash</em> de un dato, si es <em>hashable</em>.</li>
</ul></td>
</tr>
<tr class="even">
<td style="text-align: center;"><ul>
<li>Todos los datos tienen identidad.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>No todos los datos son <em>hashables</em>.</li>
</ul></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><ul>
<li>Puede haber datos iguales pero no idénticos.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>Si dos datos son iguales, sus <em>hash</em> también deben serlo.</li>
</ul></td>
</tr>
<tr class="even">
<td style="text-align: center;"><ul>
<li>Su valor es independiente de la información concreta que contenga el dato.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>Su valor se obtiene a partir de la información que contiene el dato, usando una fórmula matemática.</li>
</ul></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><ul>
<li>Por tanto, no cambia si se modifica el dato.</li>
</ul></td>
<td style="text-align: center;"><ul>
<li>Por tanto, un dato mutable no puede ser <em>hashable</em>.</li>
</ul></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="1.4.0.0.4">

<ul>
<li><p>El <em>hash</em> de un dato es un número que representa al dato y a todo su contenido de una manera bien definida según una fórmula.</p></li>
<li><p>En cierto modo, ese número <em>resume</em> el contenido del dato en un simple número entero.</p></li>
<li><p>Gracias a ello, el intérprete puede utilizar técnicas que permiten localizar directamente a un dato dentro de una colección, de forma casi inmediata y sin importar el tamaño de la colección.</p></li>
<li><p>De lo contrario, el intérprete tendría que buscar secuencialmente el dato dentro de la colección desde el principio hasta el final, lo que resultaría mucho más lento y consumiría un tiempo proporcional al tamaño de la colección (cuanto más grande sea la colección, más tardará).</p></li>
<li><p>En definitiva, los <em>hash</em> permiten el acceso directo a un dato dentro de una colección.</p></li>
</ul>
</section>

<section id="iterables" class="title-slide slide level2" data-number="1.5">
<h2 data-number="1.5"><span class="header-section-number">1.5</span> Iterables</h2>
<ul>
<li><p>Un <strong>iterable</strong> es un dato compuesto que se puede recorrer o visitar elemento a elemento, es decir, que se puede <em>iterar</em> por sus elementos uno a uno.</p></li>
<li><p>Como iterables tenemos:</p>
<ul>
<li><p>Todas las secuencias: listas, cadenas, tuplas y rangos</p></li>
<li><p>Estructuras no secuenciales: diccionarios y conjuntos</p></li>
</ul></li>
<li><p>No representa un tipo concreto, sino más bien una <em>familia</em> de tipos que comparten la misma propiedad.</p></li>
<li><p>Muchas funciones, como <code class="sourceCode python"><span class="bu">map</span></code> y <code class="sourceCode python"><span class="bu">filter</span></code>, actúan sobre iterables en general, en lugar de hacerlo sobre un tipo concreto.</p></li>
<li><p>La forma básica de recorrer un dato iterable es usando un <strong>iterador</strong>.</p>
<p>De hecho, un <em>iterable</em> es cualquier dato que lleva asociado, al menos, un <em>iterador</em>.</p></li>
</ul>
</section>

<section id="iteradores" class="title-slide slide level2" data-number="1.6">
<h2 data-number="1.6"><span class="header-section-number">1.6</span> Iteradores</h2>
<ul>
<li><p>Un <strong>iterador</strong> representa un flujo de datos <em>perezoso</em> (no se entregan todos de una vez, sino de uno en uno).</p></li>
<li><p>Cuando se llama repetidamente a la función <code class="sourceCode python"><span class="bu">next</span></code> aplicada a un iterador, se van obteniendo los sucesivos elementos del flujo.</p></li>
<li><p>Cuando ya no hay más elementos disponibles, se levanta una excepción de tipo <code class="sourceCode python"><span class="pp">StopIteration</span></code>.</p>
<p>Eso indica que el iterador se ha agotado, por lo que si se sigue llamando a la función <code class="sourceCode python"><span class="bu">next</span></code> se seguirá levantando esa excepción.</p></li>
<li><p>Se puede obtener un iterador a partir de cualquier dato iterable aplicando la función <code class="sourceCode python"><span class="bu">iter</span></code> al iterable.</p></li>
<li><p>Si se le pasa un dato no iterable, levanta una excepción <code class="sourceCode python"><span class="pp">TypeError</span></code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.6.0.0.1">

<ul>
<li><p>Ejemplo:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lista <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it <span class="op">=</span> <span class="bu">iter</span>(lista)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="pp">StopIteration</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="1.6.0.0.2">

<ul>
<li><p>También se suele decir que <strong>los iteradores son iterables perezosos de un solo uso</strong>:</p>
<ul>
<li><p>Son <strong>perezosos</strong> porque calculan sus elementos a medida que los vas recorriendo.</p></li>
<li><p>Son <strong>de un solo uso</strong> porque, una vez que se ha consumido un elemento, ya no vuelve a aparecer.</p></li>
</ul></li>
<li><p>Se dice que un iterador está <strong>agotado</strong> si se ha consumido completamente, es decir, si se han consumido todos sus elementos.</p></li>
</ul>
</section>
<section class="slide level5" data-number="1.6.0.0.3">

<ul>
<li><p>Funciones como <code class="sourceCode python"><span class="bu">map</span></code> y <code class="sourceCode python"><span class="bu">filter</span></code> devuelven iteradores porque, al ser perezosos, son más eficiente en memoria que devolver toda una lista o tupla.</p>
<p>Por ejemplo: ¿qué ocurre si sólo necesitamos los primeros elementos del resultado de un <code class="sourceCode python"><span class="bu">map</span></code>?</p></li>
<li><p>Los iteradores se pueden convertir en listas o tuplas usando las funciones <code class="sourceCode python"><span class="bu">list</span></code> y <code class="sourceCode python"><span class="bu">tuple</span></code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> l <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> iterador <span class="op">=</span> <span class="bu">iter</span>(l)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> <span class="bu">tuple</span>(iterador)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> t</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="1.6.0.0.4">

<ul>
<li><p>Las <strong>expresiones generadoras</strong>, ya conocidas por nosotros, también son expresiones que <strong>devuelven un iterador</strong>:</p>
<div class="line-block"><span style="color:teal">⟨<em>expr_gen</em>⟩</span> ::= <strong><code>(</code></strong><span style="color:teal">⟨<em>expresión</em>⟩</span> (<strong><code>for</code></strong> <span style="color:teal">⟨<em>identificador</em>⟩</span> <strong><code>in</code></strong> <span style="color:teal">⟨<em>secuencia</em>⟩</span> [<strong><code>if</code></strong> <span style="color:teal">⟨<em>condición</em>⟩</span>])+<strong><code>)</code></strong></div></li>
<li><p>Ejemplo:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cuadrados <span class="op">=</span> (x <span class="op">**</span> <span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">10</span>))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> cuadrados</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>generator <span class="bu">object</span> <span class="op">&lt;</span>genexpr<span class="op">&gt;</span> at <span class="bn">0x7f6a0fc7db48</span><span class="op">&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(cuadrados)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(cuadrados)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(cuadrados)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="1.6.0.0.5">

<ul>
<li><p>Los iteradores también son iterables que actúan como sus propios iteradores.</p></li>
<li><p>Por tanto, cuando llamamos a <code class="sourceCode python"><span class="bu">iter</span></code> pasándole un iterador, se devuelve el mismo iterador:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lista <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it <span class="op">=</span> <span class="bu">iter</span>(lista)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>list_iterator <span class="bu">object</span> at <span class="bn">0x7f3c49aa9080</span><span class="op">&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it2 <span class="op">=</span> <span class="bu">iter</span>(it)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it2</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>list_iterator <span class="bu">object</span> at <span class="bn">0x7f3c49aa9080</span><span class="op">&gt;</span></span></code></pre></div></li>
<li><p>Por tanto, también podemos usar un iterador en cualquier sitio donde se espere un iterable.</p></li>
</ul>
</section>
<section id="el-bucle-for" class="title-slide slide level3" data-number="1.6.1">
<h3 data-number="1.6.1"><span class="header-section-number">1.6.1</span> El bucle <code class="sourceCode python"><span class="cf">for</span></code></h3>
<ul>
<li><p>Probablemente, la mejor forma de recorrer los elementos que devuelve un iterador es mediante una <strong>estructura de control</strong> llamada <strong>bucle <code class="sourceCode python"><span class="cf">for</span></code></strong>.</p></li>
<li><p>Su sintaxis es:</p>
<div class="line-block"><strong><code>for</code></strong> <span style="color:teal">⟨<em>variable</em>⟩</span>(<strong><code>,</code></strong> <span style="color:teal">⟨<em>variable</em>⟩</span>)* <strong><code>in</code></strong> <span style="color:teal">⟨<em>iterable</em>⟩</span><strong><code>:</code></strong><br />
      <span style="color:teal">⟨<em>sentencia</em>⟩</span></div>
<p>que no es más que azúcar sintáctico para el siguiente código equivalente:</p>
<div class="line-block">iterador = iter(<span style="color:teal">⟨<em>iterable</em>⟩</span>)<br />
fin = <strong><code>False</code></strong><br />
<strong><code>while</code></strong> <strong><code>not</code></strong> fin:<br />
      <strong><code>try</code></strong>:<br />
            <span style="color:teal">⟨<em>variable</em>⟩</span>(<strong><code>,</code></strong> <span style="color:teal">⟨<em>variable</em>⟩</span>)* = next(iterador)<br />
      <strong><code>except</code></strong> StopIteration:<br />
            fin = <strong><code>True</code></strong><br />
      <strong><code>else</code></strong>:<br />
            <span style="color:teal">⟨<em>sentencia</em>⟩</span></div></li>
</ul>
</section>
<section class="slide level5" data-number="1.6.1.0.1">

<ul>
<li>Ejemplos:</li>
</ul>
<div class="columns">
<div class="column">
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">4</span>):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(i)</span></code></pre></div>
<p>devuelve:</p>
<pre><code>0
1
2
3</code></pre>
</div><div class="column">
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> [<span class="st">&#39;hola&#39;</span>, <span class="fl">23.5</span>, <span class="dv">10</span>, [<span class="dv">1</span>, <span class="dv">2</span>]]:</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x <span class="op">*</span> <span class="dv">2</span>)</span></code></pre></div>
<p>devuelve:</p>
<pre><code>&#39;holahola&#39;
47.0
20
[1, 2, 1, 2]</code></pre>
</div>
</div>
</section>
<section class="slide level5" data-number="1.6.1.0.2">

<ul>
<li><p>Al recorrer la lista, la variable va almacenando en cada paso el valor del elemento que en ese momento se está visitando.</p></li>
<li><p>Si necesitáramos recuperar también el índice del elemento, podemos usar la función <code class="sourceCode python"><span class="bu">enumerate</span></code>.</p></li>
<li><p>Esta función devuelve un iterador que va generando tuplas que contienen, además del elemento, un valor numérico que representa un contador.</p></li>
<li><p>Las tuplas que devuelve el iterador llevan el contador en la primera posición y el elemento de la lista en la segunda posición.</p></li>
<li><p>Ese contador, por defecto, empieza desde <code class="sourceCode python"><span class="dv">0</span></code> y se va incrementando de uno en uno, por lo que coincide con el índice del elemento en la lista:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> i, e <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>]):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(<span class="st">&#39;El elemento en la posición &#39;</span> <span class="op">+</span> <span class="bu">str</span>(i) <span class="op">+</span> <span class="st">&#39; es &#39;</span> <span class="op">+</span> <span class="bu">str</span>(e))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>El elemento en la posición <span class="dv">0</span> es a</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>El elemento en la posición <span class="dv">1</span> es b</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>El elemento en la posición <span class="dv">2</span> es c</span></code></pre></div></li>
</ul>
</section>

<section id="el-módulo-itertools" class="title-slide slide level3" data-number="1.6.2">
<h3 data-number="1.6.2"><span class="header-section-number">1.6.2</span> El módulo <code class="sourceCode python">itertools</code></h3>
<ul>
<li><p>El módulo <code class="sourceCode python">itertools</code> contiene una variedad de iteradores de uso frecuente así como funciones que combinan varios iteradores.</p></li>
<li><p><code class="sourceCode python">itertools.count</code><code>(</code>[<span style="color:teal">⟨<em>inicio</em>⟩</span>[<code>,</code> <span style="color:teal">⟨<em>paso</em>⟩</span>]]<code>)</code> devuelve un flujo infinito de valores separados uniformemente. Se puede indicar opcionalmente un valor de comienzo (que por defecto es <code class="sourceCode python"><span class="dv">0</span></code>) y el intervalo entre números (que por defecto es <code class="sourceCode python"><span class="dv">1</span></code>):</p>
<ul>
<li><p><code class="sourceCode python">itertools.count()</code> <span class="math inline">\Rightarrow</span> 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, …</p></li>
<li><p><code class="sourceCode python">itertools.count(<span class="dv">10</span>)</code> <span class="math inline">\Rightarrow</span> 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, …</p></li>
<li><p><code class="sourceCode python">itertools.count(<span class="dv">10</span>, <span class="dv">5</span>)</code> <span class="math inline">\Rightarrow</span> 10, 15, 20, 25, 30, 35, 40, 45, …</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="1.6.2.0.1">

<ul>
<li><p><code class="sourceCode python">itertools.cycle</code><code>(</code><span style="color:teal">⟨<em>iterador</em>⟩</span><code>)</code> devuelve un nuevo iterador que va generando sus elementos del primero al último, repitiéndolos indefinidamente:</p>
<ul>
<li><code class="sourceCode python">itertools.cycle([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</code> <span class="math inline">\Rightarrow</span> 1, 2, 3, 4, 1, 2, 3, 4, …</li>
</ul></li>
<li><p><code class="sourceCode python">itertools.repeat</code><code>(</code><span style="color:teal">⟨<em>elem</em>⟩</span>[<code>,</code> <span style="color:teal">⟨<em>n</em>⟩</span>]<code>)</code> devuelve <span style="color:teal">⟨<em>n</em>⟩</span> veces el elemento <span style="color:teal">⟨<em>elem</em>⟩</span>, o lo devuelve indefinidamente si no se indica <span style="color:teal">⟨<em>n</em>⟩</span>:</p>
<ul>
<li><p><code class="sourceCode python">itertools.repeat(<span class="st">&#39;abc&#39;</span>)</code> <span class="math inline">\Rightarrow</span> abc, abc, abc, abc, abc, abc, abc, …</p></li>
<li><p><code class="sourceCode python">itertools.repeat(<span class="st">&#39;abc&#39;</span>, <span class="dv">5</span>)</code> <span class="math inline">\Rightarrow</span> abc, abc, abc, abc, abc</p></li>
</ul></li>
</ul>
</section>

</section>
<section>
<section id="secuencias" class="title-slide slide level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Secuencias</h1>

</section>
<section id="concepto-de-secuencia" class="title-slide slide level2" data-number="2.1">
<h2 data-number="2.1"><span class="header-section-number">2.1</span> Concepto de secuencia</h2>
<ul>
<li><p>Una <strong>secuencia</strong> <span class="math inline">\underline{s}</span> es un dato estructurado que cumple lo siguiente:</p>
<ul>
<li><p>Se le puede calcular su longitud (la cantidad de elementos que contiene) mediante la función <code class="sourceCode python"><span class="bu">len</span></code>.</p></li>
<li><p>Cada elemento que contiene lleva asociado un número entero llamado <strong>índice</strong>, comprendido entre <code class="sourceCode python"><span class="dv">0</span></code> y <code class="sourceCode python"><span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)</code> <code class="sourceCode python"><span class="op">-</span> <span class="dv">1</span></code>.</p></li>
<li><p>Permite el acceso eficiente a cada uno de sus elementos mediante indexación <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>]</code>, siendo <span class="math inline">i</span> el índice del elemento.</p></li>
</ul></li>
<li><p>Las secuencias se dividen en:</p>
<ul>
<li><p><strong>Inmutables</strong>: cadenas (<code class="sourceCode python"><span class="bu">str</span></code>), tuplas (<code class="sourceCode python"><span class="bu">tuple</span></code>) y rangos (<code class="sourceCode python"><span class="bu">range</span></code>).</p></li>
<li><p><strong>Mutables</strong>: listas (<code class="sourceCode python"><span class="bu">list</span></code>)</p></li>
</ul></li>
</ul>
</section>

<section id="operaciones-comunes" class="title-slide slide level2" data-number="2.2">
<h2 data-number="2.2"><span class="header-section-number">2.2</span> Operaciones comunes</h2>
<ul>
<li><p>Todas las secuencias (ya sean cadenas, listas, tuplas o rangos) comparten un conjunto de <strong>operaciones comunes</strong>.</p></li>
<li><p>Los rangos son una excepción, ya que sus elementos se crean a partir de una fórmula y, por eso, no admiten ni la concatenación ni la repetición.</p></li>
<li><p>La siguiente tabla recoge las operaciones comunes sobre secuencias, ordenadas por prioridad ascendente. <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{t}</span> son secuencias del mismo tipo, <span class="math inline">\underline{n}</span>, <span class="math inline">\underline{i}</span>, <span class="math inline">\underline{j}</span> y <span class="math inline">\underline{k}</span> son enteros y <span class="math inline">\underline{x}</span> es un dato cualquiera que cumple con las restricciones que impone <span class="math inline">\underline{s}</span>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.1">

<table>
<colgroup>
<col style="width: 34%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">x\ </span> <code class="sourceCode python"><span class="kw">in</span></code> <span class="math inline">\ s</span></td>
<td style="text-align: left;"><code class="sourceCode python"><span class="va">True</span></code> si algún elemento de <span class="math inline">\underline{s}</span> es igual a <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">x\ </span> <code class="sourceCode python"><span class="kw">not</span> <span class="kw">in</span></code> <span class="math inline">\ s</span></td>
<td style="text-align: left;"><code class="sourceCode python"><span class="va">False</span></code> si algún elemento de <span class="math inline">\underline{s}</span> es igual a <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span> <code>+</code> <span class="math inline">t</span></td>
<td style="text-align: left;">La concatenación de <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{t}</span> (no va con rangos)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span> <code>*</code> <span class="math inline">n</span><br />
<span class="math inline">n</span> <code>*</code> <span class="math inline">s</span></td>
<td style="text-align: left;">(<em>Repetición</em>) Equivale a concatenar <span class="math inline">\underline{s}</span> consigo misma <span class="math inline">\underline{n}</span> veces (no va con rangos)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>]</code></td>
<td style="text-align: left;">El <span class="math inline">\underline{i}</span>-ésimo elemento de <span class="math inline">\underline{s}</span>, empezando por 0</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code></td>
<td style="text-align: left;">Rodaja de <span class="math inline">\underline{s}</span> desde <span class="math inline">\underline{i}</span> hasta <span class="math inline">\underline{j}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code></td>
<td style="text-align: left;">Rodaja de <span class="math inline">\underline{s}</span> desde <span class="math inline">\underline{i}</span> hasta <span class="math inline">\underline{j}</span> con paso <span class="math inline">\underline{k}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)</code></td>
<td style="text-align: left;">Longitud de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="bu">min</span></code><code>(</code><span class="math inline">s</span><code>)</code></td>
<td style="text-align: left;">El elemento más pequeño de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="bu">max</span></code><code>(</code><span class="math inline">s</span><code>)</code></td>
<td style="text-align: left;">El elemento más grande de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.index</code><code>(</code><span class="math inline">x</span> [<code>,</code> <span class="math inline">i</span> [<code>,</code> <span class="math inline">j</span> ] ]<code>)</code></td>
<td style="text-align: left;">El índice de la primera aparición de <span class="math inline">\underline{x}</span> en <span class="math inline">\underline{s}</span> (desde el índice <span class="math inline">\underline{i}</span> inclusive y antes del <span class="math inline">\underline{j}</span>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.count</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Número total de apariciones de <span class="math inline">\underline{x}</span> en <span class="math inline">\underline{s}</span></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="2.2.0.0.2">

<ul>
<li><p>Además de estas operaciones, las secuencias admiten <strong>comparaciones</strong> con los operadores <code>==</code>, <code>!=</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code> y <code>&gt;=</code>.</p></li>
<li><p>Dos secuencias <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{t}</span> son iguales (<span class="math inline">\underline{s}</span> <code>==</code> <span class="math inline">\underline{t}</span>) si:</p>
<ul>
<li><p>Son del mismo tipo (<code class="sourceCode python"><span class="bu">type</span></code><code>(</code><span class="math inline">s</span><code>)</code> <code>==</code> <code class="sourceCode python"><span class="bu">type</span></code><code>(</code><span class="math inline">t</span><code>)</code>).</p></li>
<li><p>Tienen la misma longitud (<code class="sourceCode python"><span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)</code> <code>==</code> <code class="sourceCode python"><span class="bu">len</span></code><code>(</code><span class="math inline">t</span><code>)</code>).</p></li>
<li><p>Contienen los mismos elementos en el mismo orden<br />
(<span class="math inline">s</span><code class="sourceCode python">[<span class="dv">0</span>]</code> <code>==</code> <span class="math inline">t</span><code class="sourceCode python">[<span class="dv">0</span>]</code>, <span class="math inline">s</span><code class="sourceCode python">[<span class="dv">1</span>]</code> <code>==</code> <span class="math inline">t</span><code class="sourceCode python">[<span class="dv">1</span>]</code>, etcétera).</p></li>
</ul></li>
<li><p>Por supuesto, las dos secuencias son distintas (<span class="math inline">\underline{s}</span> <code>!=</code> <span class="math inline">\underline{t}</span>) si no son iguales.</p></li>
<li><p>Se pueden comparar dos secuencias con los operadores <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code> y <code>&gt;=</code> para comprobar si una es menor (o igual) o mayor (o igual) que la otra si:</p>
<ul>
<li><p>Son del mismo tipo (si no son del mismo tipo, lanza una excepción).</p></li>
<li><p>No son rangos.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.3">

<ul>
<li><p>Las comparaciones <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code> y <code>&gt;=</code> se hacen lexicográficamente elemento a elemento, como en un diccionario.</p></li>
<li><p>Por ejemplo, <code class="sourceCode python"><span class="st">&#39;adios&#39;</span></code> <code>&lt;</code> <code class="sourceCode python"><span class="st">&#39;hola&#39;</span></code> porque <code>adios</code> aparece antes que <code>hola</code> en el diccionario.</p></li>
<li><p>Con el resto de las secuencias se actúa igual que con las cadenas.</p>
<p>Dadas dos secuencias <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{t}</span>, para ver si <span class="math inline">\underline{s}</span> <code>&lt;</code> <span class="math inline">\underline{t}</span> se procede así:</p>
<ul>
<li><p>Se empieza comparando el primer elemento de <span class="math inline">\underline{s}</span> con el primero de <span class="math inline">\underline{t}</span>.</p></li>
<li><p>Si son iguales, se pasa al siguiente hasta encontrar algún elemento de <span class="math inline">\underline{s}</span> que sea distinto a su correspondiente de <span class="math inline">\underline{t}</span>.</p></li>
<li><p>Si llegamos al final de <span class="math inline">\underline{s}</span> sin haber encontrado ningún elemento distinto a su correspondiente en <span class="math inline">\underline{t}</span>, es porque <span class="math inline">\underline{s}</span> <code>==</code> <span class="math inline">\underline{t}</span>.</p></li>
<li><p>En cuanto se encuentre un elemento de <span class="math inline">\underline{s}</span> que no es igual a su correspondiente de <span class="math inline">\underline{s}</span>, se comparan esos elementos y se devuelve el resultado de esa comparación.</p></li>
</ul></li>
<li><p>Los rangos no se pueden comparar con <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code> o <code>&gt;=</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.4">

<ul>
<li><p>Ejemplos:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">!=</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> (<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">&lt;</span> (<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">&lt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="op">&lt;</span> (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;hola&#39;</span> <span class="op">&lt;</span> <span class="st">&#39;adios&#39;</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">3</span>) <span class="op">&lt;</span> <span class="bu">range</span>(<span class="dv">3</span>, <span class="dv">6</span>)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="pp">TypeError</span>: <span class="st">&#39;&lt;&#39;</span> <span class="kw">not</span> supported between instances of <span class="st">&#39;range&#39;</span> <span class="kw">and</span> <span class="st">&#39;range&#39;</span></span></code></pre></div></li>
</ul>
</section>

<section id="inmutables" class="title-slide slide level2" data-number="2.3">
<h2 data-number="2.3"><span class="header-section-number">2.3</span> Inmutables</h2>

</section>
<section id="cadenas-str" class="title-slide slide level3" data-number="2.3.1">
<h3 data-number="2.3.1"><span class="header-section-number">2.3.1</span> Cadenas (<code class="sourceCode python"><span class="bu">str</span></code>)</h3>
<ul>
<li><p>Las <strong>cadenas</strong> son secuencias inmutables y <em>hashables</em> de caracteres.</p></li>
<li><p>No olvidemos que en Python no existe el tipo <em>carácter</em>. En Python, un carácter es una cadena de longitud 1.</p></li>
<li><p>Las cadenas literales se pueden crear:</p>
<ul>
<li><p>Con comillas simples (<code class="sourceCode python"><span class="st">&#39;</span></code>) o dobles (<code class="sourceCode python"><span class="st">&quot;</span></code>):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;hola&#39;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;hola&#39;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;hola&quot;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;hola&#39;</span></span></code></pre></div></li>
<li><p>Con triples comillas (<code class="sourceCode python"><span class="st">&#39;&#39;&#39;</span></code> o <code class="sourceCode python"><span class="st">&quot;&quot;&quot;</span></code>):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;&quot;&quot;hola</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="st">... qué tal&quot;&quot;&quot;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;hola</span><span class="ch">\n</span><span class="st">qué tal&#39;</span></span></code></pre></div></li>
</ul></li>
<li><p>Las cadenas implementan todas las operaciones de las secuencias, además de los métodos que se pueden consultar en <a href="https://docs.python.org/3/library/stdtypes.html#string-methods">https://docs.python.org/3/library/stdtypes.html#string-methods</a></p></li>
</ul>
</section>
<section id="formateado-de-cadenas" class="title-slide slide level4" data-number="2.3.1.1">
<h4 data-number="2.3.1.1"><span class="header-section-number">2.3.1.1</span> Formateado de cadenas</h4>
<ul>
<li><p>Una <strong>cadena formateada</strong> (también llamada <strong><em>f-string</em></strong>) es una cadena literal que lleva un prefijo <code>f</code> o <code>F</code>.</p></li>
<li><p>Estas cadenas contienen <strong>campos de sustitución</strong>, que son expresiones encerradas entre llaves.</p></li>
<li><p>En realidad, las cadenas formateadas son expresiones evaluadas en tiempo de ejecución.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.1.1">

<ul>
<li><p>Sintaxis:</p>
<div class="line-block"><span style="color:teal">⟨<em>f_string</em>⟩</span> ::= (<span style="color:teal">⟨<em>carácter_literal</em>⟩</span> | <strong><code>{{</code></strong> | <strong><code>}}</code></strong> | <span style="color:teal">⟨<em>sustitución</em>⟩</span>)*<br />
<span style="color:teal">⟨<em>sustitución</em>⟩</span> ::= <strong><code>{</code></strong><span style="color:teal">⟨<em>expresión</em>⟩</span> [<strong><code>!</code></strong><span style="color:teal">⟨<em>conversión</em>⟩</span>] [<strong><code>:</code></strong><span style="color:teal">⟨<em>especif</em>⟩</span>]<strong><code>}</code></strong><br />
<span style="color:teal">⟨<em>conversión</em>⟩</span> ::= <strong><code>s</code></strong> | <strong><code>r</code></strong> | <strong><code>a</code></strong><br />
<span style="color:teal">⟨<em>especif</em>⟩</span> ::= (<span style="color:teal">⟨<em>carácter_literal</em>⟩</span> | <strong><code>NULL</code></strong> | <span style="color:teal">⟨<em>sustitución</em>⟩</span>)*<br />
<span style="color:teal">⟨<em>carácter_literal</em>⟩</span> ::= <span style="color:teal">⟨<em>cualquier carácter Unicode excepto <strong><code>{</code></strong>, <strong><code>}</code></strong> o <strong><code>NULL</code></strong></em>⟩</span></div></li>
<li><p>Las partes de la cadena que van fuera de las llaves se tratan literalmente, excepto las dobles llaves <code>{{</code> y <code>}}</code>, que son sustituidas por una sola llave.</p></li>
<li><p>Una <code>{</code> marca el comienzo de un <strong>campo de sustitución</strong> (<span style="color:teal">⟨<em>sustitución</em>⟩</span>), que empieza con una expresión.</p></li>
<li><p>Tras la expresión puede venir un <strong>conversión</strong> (<span style="color:teal">⟨<em>conversión</em>⟩</span>), introducida por una exclamación <code>!</code>.</p></li>
<li><p>También puede añadirse un <strong>especificador de formato</strong> (<span style="color:teal">⟨<em>especif</em>⟩</span>) después de dos puntos <code>:</code>.</p></li>
<li><p>El campo de sustitución termina con una <code>}</code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.1.2">

<ul>
<li><p>Las expresiones en un literal de cadena formateada son tratadas como cualquier otra expresión Python encerrada entre paréntesis, con algunas excepciones:</p>
<ul>
<li><p>No se permiten expresiones vacías.</p></li>
<li><p>Las expresiones lambda deben ir entre paréntesis.</p></li>
</ul></li>
<li><p>Los campos de sustitución pueden contener saltos de línea pero no comentarios.</p></li>
<li><p>Si se indica una conversión, el resultado de evaluar la expresión se convierte antes de aplicar el formateado.</p>
<p>La conversión <code>!s</code> llama a la función <code class="sourceCode python"><span class="bu">str</span></code> sobre el resultado, <code>!r</code> llama a <code class="sourceCode python"><span class="bu">repr</span></code> y <code>!a</code> llama a <code class="sourceCode python"><span class="bu">ascii</span></code>.</p></li>
<li><p>A continuación, el resultado es formateado usando la función <code class="sourceCode python"><span class="bu">format</span></code>.</p></li>
<li><p>Finalmente, el resultado del formateado es incluido en el valor final de la cadena completa.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.1.3">

<ul>
<li><p>La sintaxis general de un especificador de formato es:</p>
<div class="line-block"><span style="color:teal">⟨<em>especif</em>⟩</span> ::= [[<span style="color:teal">⟨<em>relleno</em>⟩</span>]<span style="color:teal">⟨<em>alig</em>⟩</span>][<span style="color:teal">⟨<em>signo</em>⟩</span>][<strong><code>#</code></strong>][<strong><code>0</code></strong>][<span style="color:teal">⟨<em>ancho</em>⟩</span>][<span style="color:teal">⟨<em>grupos</em>⟩</span>][<strong><code>.</code></strong><span style="color:teal">⟨<em>precision</em>⟩</span>][<span style="color:teal">⟨<em>tipo</em>⟩</span>]<br />
<span style="color:teal">⟨<em>relleno</em>⟩</span> ::= <span style="color:teal">⟨<em>cualquier carácter</em>⟩</span><br />
<span style="color:teal">⟨<em>alig</em>⟩</span> ::= <strong><code>&lt;</code></strong> | <strong><code>&gt;</code></strong> | <strong><code>=</code></strong> | <strong><code>^</code></strong><br />
<span style="color:teal">⟨<em>signo</em>⟩</span> ::= <strong><code>+</code></strong> | <strong><code>-</code></strong> | <span style="color:teal">⟨<em>espacio</em>⟩</span><br />
<span style="color:teal">⟨<em>ancho</em>⟩</span> ::= <span style="color:teal">⟨<em>dígito</em>⟩</span>+<br />
<span style="color:teal">⟨<em>grupos</em>⟩</span> ::= <strong><code>_</code></strong> | <strong><code>,</code></strong><br />
<span style="color:teal">⟨<em>precision</em>⟩</span> ::= <span style="color:teal">⟨<em>dígito</em>⟩</span>+<br />
<span style="color:teal">⟨<em>tipo</em>⟩</span> ::= <strong><code>b</code></strong> | <strong><code>c</code></strong> | <strong><code>d</code></strong> | <strong><code>e</code></strong> | <strong><code>E</code></strong> | <strong><code>f</code></strong> | <strong><code>F</code></strong> | <strong><code>g</code></strong> | <strong><code>G</code></strong> | <strong><code>n</code></strong> | <strong><code>o</code></strong> | <strong><code>s</code></strong> | <strong><code>x</code></strong> | <strong><code>X</code></strong> | <strong><code>%</code></strong></div></li>
<li><p>Los especificadores de formato de nivel superior pueden incluir campos de sustitución anidados.</p></li>
<li><p>Estos campos anidados pueden incluir, a su vez, sus propios campos de conversión y sus propios especificadores de formato, pero no pueden incluir más campos de sustitución anidados.</p></li>
<li><p>Para más información, consultar <a href="https://docs.python.org/3.7/library/string.html#format-specification-mini-language">https://docs.python.org/3.7/library/string.html#format-specification-mini-language</a></p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.1.4">

<ul>
<li><p>Algunos ejemplos de cadenas formateadas:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> nombre <span class="op">=</span> <span class="st">&quot;Fred&quot;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ss">f&quot;Dice que su nombre es </span><span class="sc">{</span>nombre<span class="sc">!r}</span><span class="ss">.&quot;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Dice que su nombre es &#39;Fred&#39;.&quot;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ss">f&quot;Dice que su nombre es </span><span class="sc">{</span><span class="bu">repr</span>(nombre)<span class="sc">}</span><span class="ss">.&quot;</span>  <span class="co"># repr es equivalente a !r</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;Dice que su nombre es &#39;Fred&#39;.&quot;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ancho <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> precision <span class="op">=</span> <span class="dv">4</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> value <span class="op">=</span> decimal.Decimal(<span class="st">&quot;12.34567&quot;</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ss">f&quot;result: </span><span class="sc">{</span>value<span class="sc">:</span>{ancho}<span class="sc">.</span>{precision}<span class="sc">}</span><span class="ss">&quot;</span>  <span class="co"># campos anidados</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;result:      12.35&#39;</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> datetime</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> hoy <span class="op">=</span> datetime.datetime(year<span class="op">=</span><span class="dv">2017</span>, month<span class="op">=</span><span class="dv">1</span>, day<span class="op">=</span><span class="dv">27</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ss">f&quot;</span><span class="sc">{</span>hoy<span class="sc">:</span><span class="op">%</span><span class="sc">B</span> <span class="op">%</span><span class="sc">d,</span> <span class="op">%</span><span class="sc">Y}</span><span class="ss">&quot;</span>  <span class="co"># usando especificador de formato de fecha</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;January 27, 2017&#39;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> numero <span class="op">=</span> <span class="dv">1024</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="ss">f&quot;</span><span class="sc">{</span>numero<span class="sc">:#0x}</span><span class="ss">&quot;</span>  <span class="co"># usando especificador de formato de enteros</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;0x400&#39;</span></span></code></pre></div></li>
</ul>
</section>

<section id="expresiones-regulares" class="title-slide slide level4" data-number="2.3.1.2">
<h4 data-number="2.3.1.2"><span class="header-section-number">2.3.1.2</span> Expresiones regulares</h4>
<ul>
<li><p>Las <strong>expresiones regulares</strong> (también llamados <em>regex</em>) constituyen un pequeño lenguaje muy especializado incrustado dentro de Python y disponible a través del módulo <code>re</code>.</p></li>
<li><p>Usando este pequeño lenguaje es posible especificar <strong>reglas sintácticas</strong> de una forma distinta pero parecida a las <em>gramáticas EBNF</em> (aunque con menos poder expresivo).</p></li>
<li><p>Esas reglas sintácticas se pueden usar luego para <strong>comprobar si una cadena <em>se ajusta</em> a un patrón</strong>.</p></li>
<li><p>Este patrón puede ser frases en español, o direcciones de correo electrónico o cualquier otra cosa.</p></li>
<li><p>A continuación, se pueden hacer preguntas del tipo: <em>«¿Esta cadena se ajusta al patrón?»</em> o <em>«¿Hay algo que se ajuste al patrón en alguna parte de esta cadena?»</em>.</p></li>
<li><p>También se pueden usar las <em>regexes</em> para <strong>modificar</strong> una cadena o <strong>dividirla en partes</strong> según el patrón indicado.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.2.1">

<ul>
<li><p>El lenguaje de las expresiones regulares es relativamente pequeño y restringido, por lo que no es posible usarlo para realizar cualquier tipo de procesamiento de cadenas.</p></li>
<li><p>Además, hay procesamientos que se pueden realizar con <em>regexes</em> pero las expresiones que resultan se vuelven muy complicadas.</p></li>
<li><p>En estos casos, es mejor escribir directamente código Python ya que, aunque el código resultante pueda resultar más lento, probablemente resulte más fácil de leer.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.1.2.2">

<ul>
<li><p>Para más información sobre cómo crear y usar expresiones regulares, consultar:</p>
<ul>
<li><p>Tutorial de introducción en <a href="https://docs.python.org/3/howto/regex.html">https://docs.python.org/3/howto/regex.html</a></p></li>
<li><p>Documentación del módulo <code>re</code> en <a href="https://docs.python.org/3/library/re.html">https://docs.python.org/3/library/re.html</a></p></li>
</ul></li>
</ul>
</section>


<section id="tuplas" class="title-slide slide level3" data-number="2.3.2">
<h3 data-number="2.3.2"><span class="header-section-number">2.3.2</span> Tuplas</h3>
<ul>
<li><p>Las <strong>tuplas</strong> (<code class="sourceCode python"><span class="bu">tuple</span></code>) son secuencias inmutables, usadas frecuentemente para representar colecciones de datos heterogéneos (es decir, de tipos distintos).</p></li>
<li><p>También se usan en aquellos casos en los que se necesita una secuencia inmutable de datos homogéneos (por ejemplo, para almacenar datos en un conjunto o un diccionario).</p></li>
<li><p>Las tuplas se pueden crear así:</p>
<ul>
<li><p>Si es una tupla vacía, con paréntesis vacíos: <code class="sourceCode python">()</code></p></li>
<li><p>Si sólo tiene un elemento, se pone una coma detrás:</p>
<div class="columns">
<div class="column">
<p><span class="math inline">a</span><code>,</code></p>
</div><div class="column">
<p><code>(</code><span class="math inline">a</span><code>,)</code></p>
</div>
</div></li>
<li><p>Si tiene más de un elemento, se separan con comas:</p>
<div class="columns">
<div class="column">
<p><span class="math inline">a</span><code>,</code> <span class="math inline">b</span><code>,</code> <span class="math inline">c</span></p>
</div><div class="column">
<p><code>(</code><span class="math inline">a</span><code>,</code> <span class="math inline">b</span><code>,</code> <span class="math inline">c</span><code>)</code></p>
</div>
</div></li>
<li><p>Usando la función <code class="sourceCode python"><span class="bu">tuple</span></code><code>(</code><span style="color:teal">⟨<em>iterable</em>⟩</span><code>)</code>.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.2.0.1">

<ul>
<li><p>Observar que lo que construye la tupla es realmente la coma, no los paréntesis.</p></li>
<li><p>Los paréntesis son opcionales, excepto en dos casos:</p>
<ul>
<li><p>La tupla vacía: <code class="sourceCode python">()</code></p></li>
<li><p>Cuando son necesarios para evitar ambigüedad.</p>
<p>Por ejemplo, <code>f(</code><span class="math inline">a</span><code>,</code> <span class="math inline">b</span><code>,</code> <span class="math inline">c</span><code>)</code> es una llamada a una función con tres argumentos, mientras que <code>f((</code><span class="math inline">a</span><code>,</code> <span class="math inline">b</span><code>,</code> <span class="math inline">c</span><code>))</code> es una llamada a una función con un único argumento que es una tupla de tres elementos.</p></li>
</ul></li>
<li><p>Las tuplas implementan todas las operaciones comunes de las secuencias.</p></li>
<li><p>En general, las tuplas se pueden considerar como la versión inmutable de las listas.</p></li>
<li><p>Además, las tuplas son <em>hashables</em> si sus elementos también lo son.</p></li>
</ul>
</section>

<section id="rangos" class="title-slide slide level3" data-number="2.3.3">
<h3 data-number="2.3.3"><span class="header-section-number">2.3.3</span> Rangos</h3>
<ul>
<li><p>Los <strong>rangos</strong> (<code class="sourceCode python"><span class="bu">range</span></code>) representan secuencias inmutables y <em>hashables</em> de números enteros y se usan frecuentemente para hacer bucles que se repitan un determinado número de veces.</p></li>
<li><p>Los rangos se crean con la función <code class="sourceCode python"><span class="bu">range</span></code>:</p>
<div class="caja">
<p><code>range(</code>[<em>start</em><code>: int,</code>] <em>stop</em><code>: int</code> [<code>,</code> <em>step</em><code>: int</code>]<code>) -&gt; range</code></p>
</div></li>
<li><p>Cuando se omite <em>start</em>, se entiende que es <code class="sourceCode python"><span class="dv">0</span></code>.</p></li>
<li><p>Cuando se omite <em>step</em>, se entiende que es <code class="sourceCode python"><span class="dv">1</span></code>.</p></li>
<li><p>El valor de <em>stop</em> no se alcanza nunca.</p></li>
<li><p>Cuando <em>start</em> y <em>stop</em> son iguales, representa el <em>rango vacío</em>.</p></li>
<li><p><em>step</em> debe ser siempre distinto de cero.</p></li>
<li><p>Cuando <em>start</em> es mayor que <em>stop</em>, el valor de <em>step</em> debería ser negativo. En caso contrario, también representaría el rango vacío.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.1">

<ul>
<li><p>El <strong>contenido</strong> de un rango <span class="math inline">r</span> vendrá determinado por la fórmula: <span class="math display">r[i] =
start + step \cdot i</span> donde <span class="math inline">i \geq 0</span>. Además:</p>
<ul>
<li><p>Si <span class="math inline">step &gt; 0</span>, se impone también la restricción <span class="math inline">r[i] &lt; \text{\textit{stop}}</span>.</p></li>
<li><p>Si <span class="math inline">step &lt; 0</span>, se impone también la restricción <span class="math inline">r[i] &gt; \text{\textit{stop}}</span>.</p></li>
</ul></li>
<li><p>Un rango es <strong>vacío</strong> cuando <span class="math inline">r[0]</span> no satisface las restricciones anteriores.</p></li>
<li><p>Los rangos admiten <strong>índices negativos</strong>, pero se interpretan como si se indexara desde el final de la secuencia usando índices positivos.</p></li>
<li><p>Los rangos implementan <strong>todas las operaciones de las secuencias, <em>excepto</em> la concatenación y la repetición</strong>.</p>
<p>Esto es debido a que los rangos sólo pueden representar secuencias que siguen un patrón muy estricto, y las repeticiones y las concatenaciones a menudo violan ese patrón.</p></li>
<li><p><strong>Los rangos son perezosos</strong> y además ocupan mucha menos memoria que las listas o las tuplas (sólo hay que almacenar <em>start</em>, <em>stop</em> y <em>step</em>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.2">

<ul>
<li><p>La <strong>forma normal</strong> de un rango es una expresión en la que se llama a la función <code class="sourceCode python"><span class="bu">range</span></code> con los argumentos necesarios para construir el rango:</p>
<div class="columns">
<div class="column" style="width:48%;">
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">10</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">1</span>)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>)</span></code></pre></div>
</div><div class="column" style="width:4%;">

</div><div class="column" style="width:48%;">
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">5</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">5</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="op">-</span><span class="dv">10</span>, <span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">0</span>, <span class="op">-</span><span class="dv">10</span>, <span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">4</span>, <span class="op">-</span><span class="dv">5</span>, <span class="op">-</span><span class="dv">2</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">4</span>, <span class="op">-</span><span class="dv">5</span>, <span class="op">-</span><span class="dv">2</span>)</span></code></pre></div>
</div>
</div></li>
<li><p>Para ver con claridad todos los elementos de un rango, podemos convertirlo en una tupla o una lista. Por ejemplo:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">10</span>))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>]</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">5</span>))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>[<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>]</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">3</span>))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">9</span>]</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="op">-</span><span class="dv">10</span>, <span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>[<span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="op">-</span><span class="dv">3</span>, <span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">5</span>, <span class="op">-</span><span class="dv">6</span>, <span class="op">-</span><span class="dv">7</span>, <span class="op">-</span><span class="dv">8</span>, <span class="op">-</span><span class="dv">9</span>]</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>))</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>[]</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>[]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.3">

<ul>
<li><p>Dos rangos son considerados <strong>iguales</strong> si representan la misma secuencia de valores, sin importar si tienen distintos valores de <em>start</em>, <em>stop</em> o <em>step</em>.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">20</span>) <span class="op">==</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">20</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">20</span>) <span class="op">==</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">2</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">2</span>) <span class="op">==</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">0</span>) <span class="op">==</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.3.0.4">

<ul>
<li><p>El <strong>rango vacío</strong> es un valor que no tiene expresión canónica, ya que cualquiera de las siguientes expresiones representan al rango vacío tan bien como cualquier otra:</p>
<ul>
<li><p><code class="sourceCode python"><span class="bu">range</span>(<span class="dv">0</span>)</code>.</p></li>
<li><p><code class="sourceCode python"><span class="bu">range</span></code><code>(</code><span class="math inline">a</span><code>,</code><span class="math inline">\;a</span><code>)</code>, donde <em>a</em> es cualquier entero.</p></li>
<li><p><code class="sourceCode python"><span class="bu">range</span></code><code>(</code><span class="math inline">a</span><code>,</code><span class="math inline">\;b</span><code>,</code><span class="math inline">\;c</span><code>)</code>, donde <span class="math inline">a \geq b</span> y <span class="math inline">c &gt; 0</span>.</p></li>
<li><p><code class="sourceCode python"><span class="bu">range</span></code><code>(</code><span class="math inline">a</span><code>,</code><span class="math inline">\;b</span><code>,</code><span class="math inline">\;c</span><code>)</code>, donde <span class="math inline">a \leq b</span> y <span class="math inline">c &lt; 0</span>.</p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">3</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="bu">range</span>(<span class="dv">4</span>, <span class="dv">4</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">range</span>(<span class="dv">4</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="bu">range</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div>
</section>


<section id="mutables" class="title-slide slide level2" data-number="2.4">
<h2 data-number="2.4"><span class="header-section-number">2.4</span> Mutables</h2>

</section>
<section id="listas" class="title-slide slide level3" data-number="2.4.1">
<h3 data-number="2.4.1"><span class="header-section-number">2.4.1</span> Listas</h3>
<ul>
<li><p>Las <strong>listas</strong> son secuencias <em>mutables</em>, usadas frecuentemente para representar colecciones de elementos heterogéneos.</p></li>
<li><p>Al ser mutables, las listas <strong>no</strong> son <em>hashables</em>.</p></li>
<li><p>Se pueden construir de varias maneras:</p>
<ul>
<li><p>Usando corchetes vacíos para representar la lista vacía: <code class="sourceCode python">[]</code>.</p></li>
<li><p>Usando corchetes y separando los elementos con comas:</p>
<p><code>[</code><span class="math inline">a</span><code>]</code></p>
<p><code>[</code><span class="math inline">a</span><code>,</code> <span class="math inline">b</span><code>,</code> <span class="math inline">c</span><code>]</code></p></li>
<li><p>Usando la función <code class="sourceCode python"><span class="bu">list</span></code> con las sintaxis <code class="sourceCode python"><span class="bu">list</span>()</code> o <code class="sourceCode python"><span class="bu">list</span></code><code>(</code><span style="color:teal">⟨<em>iterable</em>⟩</span><code>)</code>.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.4.1.0.1">

<ul>
<li><p>La función <code class="sourceCode python"><span class="bu">list</span></code> construye una lista cuyos elementos son los mismos (y están en el mismo orden) que los elementos de <span style="color:teal">⟨<em>iterable</em>⟩</span>.</p></li>
<li><p><span style="color:teal">⟨<em>iterable</em>⟩</span> puede ser:</p>
<ul>
<li><p>una secuencia,</p></li>
<li><p>un contenedor sobre el que se pueda iterar, o</p></li>
<li><p>un iterador.</p></li>
</ul></li>
<li><p>Si se llama sin argumentos, devuelve una lista vacía.</p></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="st">&#39;hola&#39;</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;h&#39;</span>, <span class="st">&#39;o&#39;</span>, <span class="st">&#39;l&#39;</span>, <span class="st">&#39;a&#39;</span>]</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>((<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span></code></pre></div></li>
</ul>
</section>
<section id="listas-por-comprensión" class="title-slide slide level4" data-number="2.4.1.1">
<h4 data-number="2.4.1.1"><span class="header-section-number">2.4.1.1</span> Listas por comprensión</h4>
<ul>
<li><p>También se pueden crear <strong>listas por comprensión</strong> usando la misma sintaxis de las <strong>expresiones generadoras</strong> pero encerrando la expresión entre corchetes en lugar de entre paréntesis:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> [x <span class="op">**</span> <span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>]</span></code></pre></div></li>
<li><p>Como se ve, el resultado es directamente una lista, no un iterador.</p></li>
<li><p>Por tanto, a diferencia de lo que pasa con las expresiones generadoras, <strong>el resultado de una lista por comprensión no es perezoso</strong>, cosa que habrá que tener en cuenta para evitar consumir más memoria de la necesaria o generar elementos que al final no sean necesarios.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.4.1.1.1">

<ul>
<li><p>Por ejemplo, la siguiente expresión generadora:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>res_gen <span class="op">=</span> (x <span class="op">**</span> <span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10000000000000</span>))</span></code></pre></div>
<p>es mucho más eficiente en tiempo y espacio que la lista por comprensión:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>res_list <span class="op">=</span> [x <span class="op">**</span> <span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10000000000000</span>)]</span></code></pre></div>
<p>ya que la expresión generadora devuelve un <strong>iterador</strong> que irá generando los valores de uno en uno a medida que los vayamos recorriendo con <code class="sourceCode python"><span class="bu">next</span>(res_gen)</code>.</p>
<p>En cambio, la lista por comprensión genera todos los valores de la lista a la vez y los almacena todos juntos en la memoria.</p></li>
<li><p>A cambio, la ventaja de tener una lista frente a tener un iterador es que podemos acceder directamente a cualquier elemento de la lista mediante la indexación.</p></li>
</ul>
</section>


<section id="operaciones-mutadoras" class="title-slide slide level3" data-number="2.4.2">
<h3 data-number="2.4.2"><span class="header-section-number">2.4.2</span> Operaciones mutadoras</h3>
<ul>
<li>En la siguiente tabla, <span class="math inline">\underline{s}</span> es una instancia de un tipo de secuencia mutable (por ejemplo, una lista), <span class="math inline">\underline{t}</span> es cualquier dato iterable y <span class="math inline">\underline{x}</span> es un dato cualquiera que cumple con las restricciones que impone <span class="math inline">\underline{s}</span>:</li>
</ul>
<p><br></p>
<table>
<colgroup>
<col style="width: 32%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>]</code> <code>=</code> <span class="math inline">x</span></td>
<td style="text-align: left;">El elemento <span class="math inline">i</span>-ésimo de <span class="math inline">\underline{s}</span> se sustituye por <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code> <code>=</code> <span class="math inline">t</span></td>
<td style="text-align: left;">La rodaja de <span class="math inline">\underline{s}</span> desde <span class="math inline">\underline{i}</span> hasta <span class="math inline">\underline{j}</span> se sustituye por <span class="math inline">\underline{t}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code> <code>=</code> <span class="math inline">t</span></td>
<td style="text-align: left;">Los elementos de <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code> se sustituyen por <span class="math inline">\underline{t}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ s</span><code>[</code><span class="math inline">i</span><code>]</code></td>
<td style="text-align: left;">Elimina el elemento <span class="math inline">i</span>-ésimo de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code></td>
<td style="text-align: left;">Elimina los elementos de <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code><br />
Equivale a hacer <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>]</code> <code>=</code> <code>[]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code></td>
<td style="text-align: left;">Elimina los elementos de <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">j</span><code>:</code><span class="math inline">k</span><code>]</code></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="2.4.2.0.1">

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.append</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Añade <span class="math inline">\underline{x}</span> al final de <span class="math inline">\underline{s}</span>; es igual que<br />
<span class="math inline">s</span><code class="sourceCode python">[<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code class="sourceCode python">):<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)]</code> <code>=</code> <code>[</code><span class="math inline">x</span><code>]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.clear()</code></td>
<td style="text-align: left;">Elimina todos los elementos de <span class="math inline">\underline{s}</span>; es igual que<br />
<code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ s</span><code class="sourceCode python">[:]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.copy()</code></td>
<td style="text-align: left;">Crea una copia <em>superficial</em> de <span class="math inline">\underline{s}</span>; es igual que <span class="math inline">s</span><code class="sourceCode python">[:]</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.extend</code><code>(</code><span class="math inline">t</span><code>)</code><br />
<span class="math inline">s</span> <code>+=</code> <span class="math inline">t</span></td>
<td style="text-align: left;">Extiende <span class="math inline">\underline{s}</span> con el contenido de <span class="math inline">\underline{t}</span>; es igual que<br />
<span class="math inline">s</span><code class="sourceCode python">[<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code class="sourceCode python">):<span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)]</code> <code>=</code> <span class="math inline">t</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span> <code>*=</code> <span class="math inline">n</span></td>
<td style="text-align: left;">Modifica <span class="math inline">\underline{s}</span> repitiendo su contenido <span class="math inline">\underline{n}</span> veces</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.insert</code><code>(</code><span class="math inline">i</span><code>,</code> <span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Inserta <span class="math inline">\underline{x}</span> en <span class="math inline">\underline{s}</span> en el índice <span class="math inline">\underline{i}</span>; es igual que <span class="math inline">s</span><code>[</code><span class="math inline">i</span><code>:</code><span class="math inline">i</span><code>]</code> <code>=</code> <code>[</code><span class="math inline">x</span><code>]</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.pop</code><code>(</code>[ <span class="math inline">i</span> ]<code>)</code></td>
<td style="text-align: left;">Extrae el elemento <span class="math inline">\underline{i}</span> de <span class="math inline">\underline{s}</span> y lo devuelve<br />
(por defecto, <span class="math inline">i</span> vale <code class="sourceCode python"><span class="op">-</span><span class="dv">1</span></code>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.remove</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Quita el primer elemento de <span class="math inline">\underline{s}</span> que sea igual a <span class="math inline">\underline{x}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.reverse()</code></td>
<td style="text-align: left;">Invierte los elementos de <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.sort()</code></td>
<td style="text-align: left;">Ordena los elementos de <span class="math inline">\underline{s}</span></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="2.4.2.0.2">

<ul>
<li><p>La <strong>copia superficial</strong> (a diferencia de la <strong><em>copia profunda</em></strong>) significa que sólo se copia el objeto sobre el que se aplica la copia, <strong>no sus elementos</strong>.</p></li>
<li><p>Por tanto, al crear la copia superficial, se crea sólo un nuevo objeto, donde se copiarán las referencias de los elementos del objeto original.</p></li>
<li><p>Esto influye, sobre todo, cuando los elementos de una colección mutable también son objetos mutables.</p></li>
<li><p>Por ejemplo, si tenemos listas dentro de otra lista, y copiamos ésta última con <code class="sourceCode python">.copy()</code>, la nueva lista compartirá elementos con la lista original:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">2</span>], [<span class="dv">3</span>, <span class="dv">4</span>]]   <span class="co"># los elementos de «x» también son listas</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> x.copy()           <span class="co"># «y» es una copia de «x»</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="kw">is</span> y</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="va">False</span>                      <span class="co"># no son la misma lista</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x[<span class="dv">0</span>] <span class="kw">is</span> y[<span class="dv">0</span>]</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="va">True</span>                       <span class="co"># sus elementos no se han copiado,</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x[<span class="dv">0</span>].append(<span class="dv">9</span>)         <span class="co"># sino que están compartidos por «x» e «y»</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">99</span>], [<span class="dv">3</span>, <span class="dv">4</span>]]</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> y</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>[[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">99</span>], [<span class="dv">3</span>, <span class="dv">4</span>]]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.4.2.0.3">

<ul>
<li><p>El método <code class="sourceCode python">sort</code> permite ordenar los elementos de la secuencia de forma ascendente o descendente:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">9</span>, <span class="dv">1</span>, <span class="dv">4</span>]</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.sort()</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">9</span>]</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x.sort(reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">9</span>, <span class="dv">6</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>]</span></code></pre></div></li>
</ul>
</section>

</section>
<section>
<section id="estructuras-no-secuenciales" class="title-slide slide level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Estructuras no secuenciales</h1>

</section>
<section id="conjuntos-set-y-frozenset" class="title-slide slide level2" data-number="3.1">
<h2 data-number="3.1"><span class="header-section-number">3.1</span> Conjuntos (<code class="sourceCode python"><span class="bu">set</span></code> y <code class="sourceCode python"><span class="bu">frozenset</span></code>)</h2>
<ul>
<li><p>Un conjunto es una colección <strong>no ordenada</strong> de elementos <em>hashables</em>.</p></li>
<li><p>Se usan frecuentemente para comprobar si un elemento pertenece a un grupo, para eliminar duplicados en una secuencia y para realizar operaciones matemáticas como la <em>unión</em>, la <em>intersección</em> y la <em>diferencia simétrica</em>.</p></li>
<li><p>Como cualquier otra colección, los conjuntos permiten el uso de:</p>
<ul>
<li><p><span class="math inline">x\ </span> <code class="sourceCode python"><span class="kw">in</span></code> <span class="math inline">\ c</span></p></li>
<li><p><code class="sourceCode python"><span class="bu">len</span></code><code>(</code><span class="math inline">c</span><code>)</code></p></li>
<li><p><code class="sourceCode python"><span class="cf">for</span></code> <span class="math inline">\ x\ </span> <code class="sourceCode python"><span class="kw">in</span></code> <span class="math inline">\ c</span></p></li>
</ul></li>
<li><p>Como son colecciones no ordenadas, los conjuntos <strong>no almacenan la posición</strong> de los elementos o el <strong>orden</strong> en el que se insertaron.</p></li>
<li><p>Por tanto, tampoco admiten la indexación, las rodajas ni cualquier otro comportamiento propio de las secuencias.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.1">

<ul>
<li><p>Cuando decimos que <strong>un conjunto no está ordenado</strong>, queremos decir que los elementos que contiene no se encuentran situados en una posición concreta.</p>
<ul>
<li>Es lo contrario de lo que ocurre con las sencuencias, donde cada elemento se encuentra en una posición indicada por su <em>índice</em> y podemos acceder a él usando la indexación.</li>
</ul></li>
<li><p>Además, en un conjunto <strong>no puede haber elementos repetidos</strong> (un elemento concreto sólo puede estar <em>una vez</em> dentro de un conjunto, es decir, o está una vez o no está).</p></li>
<li><p>En resumen:</p>
<div class="caja">
<p><strong>En un conjunto:</strong></p>
<p>Un elemento concreto, o está una vez, o no está.</p>
<p>Si está, no podemos saber en qué posición (no tiene sentido preguntárselo).</p>
</div></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.2">

<ul>
<li><p>Existen dos tipos predefinidos de conjuntos: <code class="sourceCode python"><span class="bu">set</span></code> y <code class="sourceCode python"><span class="bu">frozenset</span></code>.</p></li>
<li><p>El tipo <code class="sourceCode python"><span class="bu">set</span></code> es <strong>mutable</strong>, es decir, que su contenido puede cambiar usando métodos como <code class="sourceCode python">add</code> y <code class="sourceCode python">remove</code>.</p>
<ul>
<li>Como es mutable, <strong>no es <em>hashable</em></strong> y, por tanto, no puede usarse como clave de un diccionario o como elemento de otro conjunto.</li>
</ul></li>
<li><p>El tipo <code class="sourceCode python"><span class="bu">frozenset</span></code> es <strong>inmutable</strong> y <em>hashable</em>. Por tanto, su contenido no se puede cambiar una vez creado y puede usarse como clave de un diccionario o como elemento de otro conjunto.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.3">

<ul>
<li><p>Los dos tipos de conjuntos se crean con las funciones <code class="sourceCode python"><span class="bu">set</span></code><code>(</code>[<span style="color:teal">⟨<em>iterable</em>⟩</span>]<code>)</code> y <code class="sourceCode python"><span class="bu">frozenset</span></code><code>(</code>[<span style="color:teal">⟨<em>iterable</em>⟩</span>]<code>)</code>.</p>
<ul>
<li><p>Si se llaman <em>sin argumentos</em>, devuelven un conjunto <strong>vacío</strong>:</p>
<ul>
<li><p><code class="sourceCode python"><span class="bu">set</span>()</code> devuelve un conjunto vacío de tipo <code class="sourceCode python"><span class="bu">set</span></code>.</p></li>
<li><p><code class="sourceCode python"><span class="bu">frozenset</span>()</code> devuelve un conjunto vacío de tipo <code class="sourceCode python"><span class="bu">frozenset</span></code>.</p></li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">set</span>()</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span>()</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">frozenset</span>()</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="bu">frozenset</span>()</span></code></pre></div>
<p>Como se ve, esas son, precisamente, las <strong>formas normales</strong> de un conjunto vacío de tipo <code class="sourceCode python"><span class="bu">set</span></code> y <code class="sourceCode python"><span class="bu">frozenset</span></code>.</p></li>
<li><p>Si se les pasa un <em>iterable</em> (como por ejemplo, una lista), devuelve un conjunto formado por los elementos del iterable:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">set</span>([<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>])</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>{<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>}</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">frozenset</span>([<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>])</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="bu">frozenset</span>({<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>})</span></code></pre></div></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.4">

<ul>
<li><p>Además, existe una <em>sintaxis especial</em> para escribir <strong>literales de conjuntos no vacíos de tipo <code class="sourceCode python"><span class="bu">set</span></code></strong>, que consiste en encerrar sus elementos entre llaves y separados por comas: <code class="sourceCode python">{<span class="st">&#39;pepe&#39;</span>, <span class="st">&#39;juan&#39;</span>}</code>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> {<span class="st">&#39;pepe&#39;</span>, <span class="st">&#39;juan&#39;</span>}  <span class="co"># un literal de tipo set, como set([&#39;pepe&#39;, &#39;juan&#39;])</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> x</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;pepe&#39;</span>, <span class="st">&#39;juan&#39;</span>}</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(x)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;set&#39;</span><span class="op">&gt;</span></span></code></pre></div>
<p>Esa es, precisamente, la <strong>forma normal</strong> de un conjunto no vacío y, por tanto, la que se usa cuando se visualiza desde el intérprete o se imprime con <code class="sourceCode python"><span class="bu">print</span></code>.</p></li>
<li><p>Por tanto, para crear conjuntos congelados usando <code class="sourceCode python"><span class="bu">frozenset</span></code> podemos usar esa sintaxis en lugar de usar listas como hicimos antes:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">frozenset</span>({<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>})</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="bu">frozenset</span>({<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>})</span></code></pre></div></li>
<li><p>También podría usarse con la función <code class="sourceCode python"><span class="bu">set</span></code>, pero sería innecesario y no tendría sentido, ya que devolvería el mismo conjunto:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">set</span>({<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">4</span>})  <span class="co"># equivale a poner simplemente {4, 3, 2, 2, 4}</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>{<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>}</span></code></pre></div></li>
</ul>
</section>
<section id="conjuntos-por-comprensión" class="title-slide slide level4" data-number="3.1.0.1">
<h4 data-number="3.1.0.1"><span class="header-section-number">3.1.0.1</span> Conjuntos por comprensión</h4>
<ul>
<li><p>También se pueden crear <strong>conjuntos por comprensión</strong> usando la misma sintaxis de las <strong>expresiones generadoras</strong> pero encerrando la expresión entre llaves en lugar de entre paréntesis:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> {x <span class="op">**</span> <span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]}</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>{<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>}</span></code></pre></div></li>
<li><p>El resultado es directamente un valor de tipo <code class="sourceCode python"><span class="bu">set</span></code>, no un iterador.</p></li>
</ul>
</section>

<section id="operaciones" class="title-slide slide level3" data-number="3.1.1">
<h3 data-number="3.1.1"><span class="header-section-number">3.1.1</span> Operaciones</h3>
<ul>
<li><span class="math inline">\underline{s}</span> y <span class="math inline">\underline{o}</span> son conjuntos, y <span class="math inline">\underline{x}</span> es un valor cualquiera:</li>
</ul>
<p>V——————————————————————————————————— Operación Resultado ———————————— ——————————————————————– <code class="sourceCode python"><span class="bu">len</span></code><code>(</code><span class="math inline">s</span><code>)</code> Número de elementos de <span class="math inline">\underline{s}</span> (su cardinalidad)</p>
<p><span class="math inline">x\ </span> <code class="sourceCode python"><span class="kw">in</span></code> <span class="math inline">\ s</span> <code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{x}</span> pertenece a <span class="math inline">\underline{s}</span></p>
<p><span class="math inline">x\ </span> <code class="sourceCode python"><span class="kw">not</span> <span class="kw">in</span></code> <span class="math inline">\ s</span> <code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{x}</span> no pertenece a <span class="math inline">\underline{s}</span></p>
<p><span class="math inline">s</span><code class="sourceCode python">.isdisjoint</code><code>(</code><span class="math inline">o</span><code>)</code> <code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{s}</span> no tiene ningún elemento en común con <span class="math inline">\underline{o}</span></p>
<p><span class="math inline">s</span><code class="sourceCode python">.issubset</code><code>(</code><span class="math inline">o</span><code>)</code>   <code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{s}</span> es un subconjunto de <span class="math inline">\underline{o}</span> <span class="math inline">s</span> <code>&lt;=</code> <span class="math inline">o</span></p>
<p><span class="math inline">s</span> <code>&lt;</code> <span class="math inline">o</span> <code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{s}</span> es un subconjunto propio de <span class="math inline">\underline{o}</span></p>
<p><span class="math inline">s</span><code class="sourceCode python">.issuperset</code><code>(</code><span class="math inline">o</span><code>)</code>   <code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{s}</span> es un superconjunto de <span class="math inline">\underline{o}</span> <span class="math inline">s</span> <code>&gt;=</code> <span class="math inline">o</span></p>
<p><span class="math inline">s</span> <code>&gt;</code> <span class="math inline">o</span> <code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{s}</span> es un superconjunto propio de <span class="math inline">\underline{o}</span> -y——————————————————————————————————–</p>
</section>
<section class="slide level5" data-number="3.1.1.0.1">

<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.union</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>|</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Unión de <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{o}</span> (<span class="math inline">s \cup o</span>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.intersection</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>&amp;</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Intersección de <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{o}</span> (<span class="math inline">s \cap o</span>)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.difference</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>-</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Diferencia de <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{o}</span> (<span class="math inline">s \setminus o</span>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.symmetric_difference</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>^</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Diferencia simétrica de <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{o}</span> (<span class="math inline">s \vartriangle o</span>)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.copy()</code></td>
<td style="text-align: left;">Devuelve una copia superficial de <span class="math inline">\underline{s}</span></td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="3.1.1.0.2">

<ul>
<li><p>Tanto <code class="sourceCode python"><span class="bu">set</span></code> como <code class="sourceCode python"><span class="bu">frozenset</span></code> admiten <strong>comparaciones entre conjuntos</strong>.</p></li>
<li><p>Suponiendo que <code>a</code> y <code>b</code> son conjuntos:</p>
<ul>
<li><p><code>a == b</code> si y sólo si cada elemento de <code>a</code> pertenece también a <code>b</code>, y viceversa; es decir, si cada uno es un subconjunto del otro.</p></li>
<li><p><code>a &lt;= b</code> si y sólo si <code>a</code> es un <em>subconjunto</em> de <code>b</code> (es decir, si cada elemento de <code>a</code> está también en <code>b</code>).</p></li>
<li><p><code>a &lt; b</code> si y sólo si <code>a</code> es un <em>subconjunto propio</em> de <code>b</code> (es decir, si <code>a</code> es un subconjunto de <code>b</code>, pero no es igual a <code>b</code>).</p></li>
<li><p><code>a &gt;= b</code> si y sólo si <code>a</code> es un <em>superconjunto</em> de <code>b</code> (es decir, si cada elemento de <code>b</code> está también en <code>a</code>).</p></li>
<li><p><code>a &gt; b</code> si y sólo si <code>a</code> es un <em>superconjunto propio</em> de <code>b</code> (es decir, si <code>a</code> es un superconjunto de <code>b</code>, pero no es igual a <code>b</code>).</p></li>
</ul></li>
</ul>
</section>

<section id="operaciones-sobre-conjuntos-mutables" class="title-slide slide level3" data-number="3.1.2">
<h3 data-number="3.1.2"><span class="header-section-number">3.1.2</span> Operaciones sobre conjuntos mutables</h3>
<ul>
<li>Estas tablas sólo se aplica a conjuntos mutables (o sea, al tipo <code class="sourceCode python"><span class="bu">set</span></code> y no al <code class="sourceCode python"><span class="bu">frozenset</span></code>):</li>
</ul>
<table>
<colgroup>
<col style="width: 59%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.update</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>|=</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Actualiza <span class="math inline">\underline{s}</span> añadiendo los elementos de <span class="math inline">\underline{o}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.intersection_update</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>&amp;=</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Actualiza <span class="math inline">\underline{s}</span> manteniendo sólo los elementos que están en <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{o}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.difference_update</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>-=</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Actualiza <span class="math inline">\underline{s}</span> eliminando los elementos que están en <span class="math inline">\underline{o}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.symmetric_difference_update</code><code>(</code><span class="math inline">o</span><code>)</code><br />
<span class="math inline">s</span> <code>^=</code> <span class="math inline">o</span></td>
<td style="text-align: left;">Actualiza <span class="math inline">\underline{s}</span> manteniendo sólo los elementos que están en <span class="math inline">\underline{s}</span> y <span class="math inline">\underline{o}</span> pero no en ambos</td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="3.1.2.0.1">

<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.add</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Añade <span class="math inline">\underline{x}</span> a <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.remove</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Elimina <span class="math inline">\underline{x}</span> de <span class="math inline">\underline{s}</span> (produce <code class="sourceCode python"><span class="pp">KeyError</span></code> si <span class="math inline">\underline{x}</span> no está en <span class="math inline">\underline{s}</span>)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.discard</code><code>(</code><span class="math inline">x</span><code>)</code></td>
<td style="text-align: left;">Elimina <span class="math inline">\underline{x}</span> de <span class="math inline">\underline{s}</span> si está en <span class="math inline">\underline{s}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.pop()</code></td>
<td style="text-align: left;">Elimina y devuelve un valor cualquiera de <span class="math inline">\underline{s}</span> (produce <code class="sourceCode python"><span class="pp">KeyError</span></code> si <span class="math inline">\underline{s}</span> está vacío)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">s</span><code class="sourceCode python">.clear()</code></td>
<td style="text-align: left;">Elimina todos los elementos de <span class="math inline">\underline{s}</span></td>
</tr>
</tbody>
</table>
</section>


<section id="diccionarios-dict" class="title-slide slide level2" data-number="3.2">
<h2 data-number="3.2"><span class="header-section-number">3.2</span> Diccionarios (<code class="sourceCode python"><span class="bu">dict</span></code>)</h2>
<ul>
<li><p>Un <strong>diccionario</strong> es una colección que almacena <em>correspondencias</em> (o <em>asociaciones</em>) entre valores.</p></li>
<li><p>Por tanto, <strong>los elementos de un diccionario son parejas de valores llamados <em>clave</em> y <em>valor</em></strong>, y lo que hace el diccionario es almacenar las <em>claves</em> y el <em>valor</em> que le corresponde a cada clave.</p></li>
<li><p>Una restricción importante es que, en un diccionario dado, <strong>cada clave sólo puede asociarse con un único valor</strong>.</p></li>
<li><p>Por tanto, <strong>en un diccionario no puede haber claves repetidas</strong>, es decir, que no puede haber dos elementos distintos con la misma clave.</p></li>
<li><p>En la práctica, eso nos sirve para identificar cada elemento del diccionario por su clave.</p></li>
<li><p>Además, los elementos de un diccionario son datos mutables y, por tanto, los diccionarios también son <strong>mutables</strong>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.1">

<ul>
<li><p>Los diccionarios se pueden crear:</p>
<ul>
<li><p>Con una pareja de llaves <code class="sourceCode python">{}</code>, que representan el <strong>diccionario vacío</strong>.</p></li>
<li><p>Encerrando entre llaves una lista de parejas <span style="color:teal">⟨<em>clave</em>⟩</span><strong><code>:</code></strong><span style="color:teal">⟨<em>valor</em>⟩</span> separadas por comas: <code class="sourceCode python">{<span class="st">&#39;juan&#39;</span>: <span class="dv">4098</span>, <span class="st">&#39;pepe&#39;</span>: <span class="dv">4127</span>}</code></p>
<p>Esa es precisamente la <strong>forma normal</strong> de un diccionario y, por tanto, la que se usa cuando se visualiza desde el intérprete o se imprime con <code class="sourceCode python"><span class="bu">print</span></code>.</p></li>
<li><p>Usando la función <code class="sourceCode python"><span class="bu">dict</span></code>.</p></li>
</ul></li>
<li><p>Por ejemplo:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> v1 <span class="op">=</span> {}                                          <span class="co"># diccionario vacío</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> v2 <span class="op">=</span> <span class="bu">dict</span>()                                      <span class="co"># también diccionario vacío</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> v1 <span class="op">=</span> v2</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> {<span class="st">&#39;uno&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;dos&#39;</span>: <span class="dv">2</span>, <span class="st">&#39;tres&#39;</span>: <span class="dv">3</span>}              <span class="co"># literal</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> b <span class="op">=</span> <span class="bu">dict</span>(uno<span class="op">=</span><span class="dv">1</span>, dos<span class="op">=</span><span class="dv">2</span>, tres<span class="op">=</span><span class="dv">3</span>)                   <span class="co"># argumentos con nombre</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> c <span class="op">=</span> <span class="bu">dict</span>([(<span class="st">&#39;dos&#39;</span>, <span class="dv">2</span>), (<span class="st">&#39;uno&#39;</span>, <span class="dv">1</span>), (<span class="st">&#39;tres&#39;</span>, <span class="dv">3</span>)])  <span class="co"># lista de tuplas</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> <span class="bu">dict</span>({<span class="st">&#39;tres&#39;</span>: <span class="dv">3</span>, <span class="st">&#39;uno&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;dos&#39;</span>: <span class="dv">2</span>})        <span class="co"># innecesario</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> e <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>([<span class="st">&#39;uno&#39;</span>, <span class="st">&#39;dos&#39;</span>, <span class="st">&#39;tres&#39;</span>], [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>])) <span class="co"># con dos iterables</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a <span class="op">==</span> b <span class="kw">and</span> b <span class="op">==</span> c <span class="kw">and</span> c <span class="op">==</span> d <span class="kw">and</span> d <span class="op">==</span> e          <span class="co"># todos son iguales</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.2">

<ul>
<li><p>Si se intenta crear un diccionario con claves repetidas, sólo se almacenará uno de los elementos que tengan la misma clave (los demás se ignoran):</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> {<span class="st">&#39;perro&#39;</span>: <span class="st">&#39;dog&#39;</span>, <span class="st">&#39;gato&#39;</span>: <span class="st">&#39;cat&#39;</span>, <span class="st">&#39;perro&#39;</span>: <span class="st">&#39;doggy&#39;</span>}</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;perro&#39;</span>: <span class="st">&#39;doggy&#39;</span>, <span class="st">&#39;gato&#39;</span>: <span class="st">&#39;cat&#39;</span>}</span></code></pre></div>
<p>Como se ve, la clave <code class="sourceCode python"><span class="st">&#39;perro&#39;</span></code> está repetida y, por tanto, sólo se almacena uno de los dos elementos con clave repetida, que siempre es el último que aparece en el diccionario. En este caso, se almacena el elemento <code class="sourceCode python"><span class="st">&#39;perro&#39;</span>: <span class="st">&#39;doggy&#39;</span></code> y se ignora el <code class="sourceCode python"><span class="st">&#39;perro&#39;</span>: <span class="st">&#39;dog&#39;</span></code>.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.3">

<ul>
<li><p>Las claves de un diccionario deben ser datos <em>hashables</em>.</p></li>
<li><p>Por tanto, no se pueden usar como clave una lista, un diccionario, un conjunto <code class="sourceCode python"><span class="bu">set</span></code> o cualquier otro tipo mutable.</p></li>
<li><p>Los tipos numéricos que se usen como claves obedecen las reglas normales de comparación numérica.</p>
<ul>
<li>Por tanto, si dos números son considerados iguales (como <code class="sourceCode python"><span class="dv">1</span></code> y <code class="sourceCode python"><span class="fl">1.0</span></code>) entonces se consideran la misma clave en el diccionario.</li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.4">

<ul>
<li><p>Para <strong>acceder a un elemento</strong> del diccionario se usa una sintaxis idéntica a la de la <strong>indexación</strong>, salvo que, en este caso, en lugar de usar el índice o posición del elemento, se usa la clave:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> {<span class="st">&#39;perro&#39;</span>: <span class="st">&#39;dog&#39;</span>, <span class="st">&#39;gato&#39;</span>: <span class="st">&#39;cat&#39;</span>}</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a[<span class="st">&#39;perro&#39;</span>]</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;dog&#39;</span></span></code></pre></div></li>
<li><p>Si se intenta acceder a un elemento usando una clave que no existe, se lanza una excepción de tipo <code class="sourceCode python"><span class="pp">KeyError</span></code>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a[<span class="st">&#39;caballo&#39;</span>]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="pp">KeyError</span>: <span class="st">&#39;caballo&#39;</span></span></code></pre></div></li>
</ul>
</section>
<section id="operaciones-1" class="title-slide slide level3" data-number="3.2.1">
<h3 data-number="3.2.1"><span class="header-section-number">3.2.1</span> Operaciones</h3>
<ul>
<li><span class="math inline">\underline{d}</span> y <span class="math inline">\underline{o}</span> son diccionarios, <span class="math inline">\underline{c}</span> es una clave válida y <span class="math inline">\underline{v}</span> es un valor cualquiera:</li>
</ul>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">d</span><code>[</code><span class="math inline">c</span><code>]</code> <code>=</code> <span class="math inline">v</span></td>
<td style="text-align: left;">Asigna a <span class="math inline">d</span><code>[</code><span class="math inline">c</span><code>]</code> el valor <span class="math inline">\underline{v}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code class="sourceCode python"><span class="kw">del</span></code> <span class="math inline">\ d</span><code>[</code><span class="math inline">c</span><code>]</code></td>
<td style="text-align: left;">Elimina <span class="math inline">d</span><code>[</code><span class="math inline">c</span><code>]</code> de <span class="math inline">\underline{d}</span> (produce <code class="sourceCode python"><span class="pp">KeyError</span></code> si <span class="math inline">\underline{c}</span> no está en <span class="math inline">\underline{d}</span>)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">c\ </span> <code class="sourceCode python"><span class="kw">in</span></code> <span class="math inline">\ d</span></td>
<td style="text-align: left;"><code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{d}</span> contiene una clave <span class="math inline">\underline{c}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">c\ </span> <code class="sourceCode python"><span class="kw">not</span> <span class="kw">in</span></code> <span class="math inline">\ d</span></td>
<td style="text-align: left;"><code class="sourceCode python"><span class="va">True</span></code> si <span class="math inline">\underline{d}</span> no contiene una clave <span class="math inline">\underline{c}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">d</span><code class="sourceCode python">.clear()</code></td>
<td style="text-align: left;">Elimina todos los elementos de <span class="math inline">\underline{d}</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">d</span><code class="sourceCode python">.copy()</code></td>
<td style="text-align: left;">Devuelve una copia superficial de <span class="math inline">\underline{d}</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">d</span><code class="sourceCode python">.get</code><code>(</code><span class="math inline">c</span>[<code>,</code> <span class="math inline">def</span>]<code>)</code></td>
<td style="text-align: left;">Devuelve el valor de <span class="math inline">\underline{c}</span> si <span class="math inline">\underline{c}</span> está en <span class="math inline">\underline{d}</span>; en caso contrario, devuelve <span class="math inline">\underline{def}</span> (por defecto, <span class="math inline">\underline{def}</span> vale <code class="sourceCode python"><span class="va">None</span></code>)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">d</span><code class="sourceCode python">.pop</code><code>(</code><span class="math inline">c</span>[<code>,</code> <span class="math inline">def</span>]<code>)</code></td>
<td style="text-align: left;">Elimina y devuelve el valor de <span class="math inline">\underline{c}</span> si <span class="math inline">\underline{c}</span> está en <span class="math inline">\underline{d}</span>; en caso contrario, devuelve <span class="math inline">\underline{def}</span> (si no se pasa <span class="math inline">\underline{def}</span> y <span class="math inline">\underline{c}</span> no está en <span class="math inline">\underline{d}</span>, produce un <code class="sourceCode python"><span class="pp">KeyError</span></code>)</td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="3.2.1.0.1">

<table>
<colgroup>
<col style="width: 38%" />
<col style="width: 61%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Operación</th>
<th style="text-align: left;">Resultado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">d</span><code class="sourceCode python">.popitem()</code></td>
<td style="text-align: left;">Elimina y devuelve una pareja (<span class="math inline">clave</span>, <span class="math inline">valor</span>) del diccionario siguiendo un orden LIFO (produce un <code class="sourceCode python"><span class="pp">KeyError</span></code> si <span class="math inline">\underline{d}</span> está vacío)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">d</span><code class="sourceCode python">.setdefault</code><code>(</code><span class="math inline">c</span>[<code>,</code> <span class="math inline">def</span>]<code>)</code></td>
<td style="text-align: left;">Si <span class="math inline">\underline{c}</span> está en <span class="math inline">\underline{d}</span>, devuelve su valor; si no, inserta <span class="math inline">\underline{c}</span> en <span class="math inline">\underline{d}</span> con el valor <span class="math inline">\underline{def}</span> y devuelve <span class="math inline">\underline{def}</span> (por defecto, <span class="math inline">\underline{def}</span> vale <code class="sourceCode python"><span class="va">None</span></code>)</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">d</span><code class="sourceCode python">.update</code><code>(</code><span class="math inline">o</span><code>)</code></td>
<td style="text-align: left;">Actualiza <span class="math inline">\underline{d}</span> con las parejas (<span class="math inline">clave</span>, <span class="math inline">valor</span>) de <span class="math inline">\underline{o}</span>, sobreescribiendo las claves ya existentes, y devuelve <code class="sourceCode python"><span class="va">None</span></code></td>
</tr>
</tbody>
</table>
</section>

<section id="recorrido-de-diccionarios" class="title-slide slide level3" data-number="3.2.2">
<h3 data-number="3.2.2"><span class="header-section-number">3.2.2</span> Recorrido de diccionarios</h3>
<ul>
<li><p>Como cualquier otro dato iterable, los diccionarios se pueden recorrer usando iteradores.</p></li>
<li><p>Los iteradores creados sobre un diccionario, en realidad, recorren sus <strong>claves</strong>:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> d</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;a&#39;</span>: <span class="dv">1</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">2</span>}</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> it <span class="op">=</span> <span class="bu">iter</span>(d)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;a&#39;</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">next</span>(it)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;b&#39;</span></span></code></pre></div></li>
<li><p>Lo mismo ocurre con un bucle <code class="sourceCode python"><span class="cf">for</span></code>:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> k <span class="kw">in</span> d:</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(k)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.2.0.1">

<ul>
<li><p>Si necesitamos acceder también a los valores de un diccionario mientras lo recorremos con un bucle <code class="sourceCode python"><span class="cf">for</span></code>, tenemos dos opciones:</p>
<ul>
<li><p>Acceder al valor a partir de la clave usando <strong>indexación</strong>:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> k <span class="kw">in</span> d:</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(k, d[k])</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>a <span class="dv">1</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>b <span class="dv">2</span></span></code></pre></div></li>
<li><p>Usar el método <code class="sourceCode python">items</code> sobre el diccionario, que devuelve una lista de tuplas <strong><code>(</code></strong><span style="color:teal">⟨<em>clave</em>⟩</span><strong><code>,</code></strong> <span style="color:teal">⟨<em>valor</em>⟩</span><strong><code>)</code></strong>, combinándolo con el <strong>desempaquetado de tuplas</strong>:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> d.items()</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>dict_items([(<span class="st">&#39;a&#39;</span>, <span class="dv">1</span>), (<span class="st">&#39;b&#39;</span>, <span class="dv">2</span>)]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> k, v <span class="kw">in</span> d.items():</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(k, v)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>a <span class="dv">1</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>b <span class="dv">2</span></span></code></pre></div></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.2.0.2">

<ul>
<li>Otros métodos útiles para recorrer un diccionario son <code class="sourceCode python">keys</code> y <code class="sourceCode python">values</code>.</li>
</ul>
<div class="columns">
<div class="column">
<ul>
<li><p><code class="sourceCode python">keys</code> devuelve un <strong>iterador</strong> que recorre las <strong>claves</strong> del diccionario sobre el que se invoca:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> d.keys()</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>dict_keys([<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>])</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> k <span class="kw">in</span> d.keys():</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(k)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div></li>
</ul>
</div><div class="column">
<ul>
<li><p><code class="sourceCode python">values</code> devuelve un <strong>iterador</strong> que recorre los <strong>valores</strong> del diccionario sobre el que se invoca:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> d.values()</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>dict_values([<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> v <span class="kw">in</span> d.values():</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(v)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span></code></pre></div></li>
</ul>
</div>
</div>
<ul>
<li><p>En la práctica, no resulta muy útil usar <code class="sourceCode python">keys</code>, ya que se puede hacer lo mismo recorriendo directamente el propio diccionario, como ya sabemos:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> k <span class="kw">in</span> d:</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(k)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>a</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.2.0.3">

<ul>
<li><p>¿En qué orden se almacenan los elementos de un diccionario? Y, lo más importante: ¿en qué orden se van visitando los elementos de un diccionario cuando se recorre con un iterador?</p>
<ul>
<li><p>Antes de la versión 3.7 de Python, no estaba determinado en qué orden se almacenaban los elementos en un diccionario. Por tanto, al recorrer un diccionario con un iterador, no se sabía de antemano en qué orden se iban a visitar sus elementos.</p></li>
<li><p>A partir de la versión 3.7, se decidió que los elementos se almacenarían en el orden en el que se van insertando dentro del diccionario.</p></li>
</ul></li>
<li><p>Por tanto:</p>
<div class="caja">
<p>A partir de Python 3.7, al recorrer un diccionario, un iterador devolverá siempre sus elementos <strong>en el orden en el que se han ido insertando</strong> dentro del diccionario.</p>
</div></li>
</ul>
</section>


<section id="documentos-xml" class="title-slide slide level2" data-number="3.3">
<h2 data-number="3.3"><span class="header-section-number">3.3</span> Documentos XML</h2>

</section>
<section id="acceso" class="title-slide slide level3" data-number="3.3.1">
<h3 data-number="3.3.1"><span class="header-section-number">3.3.1</span> Acceso</h3>
<ul>
<li><p>Los documentos XML se pueden considerar datos estructurados en forma de árbol (es decir, con una estructura jerárquica y, por tanto, no secuencial).</p></li>
<li><p>El módulo <code>xml.etree.ElementTree</code> implementa una interfaz sencilla y eficiente para interpretar y crear datos XML.</p></li>
<li><p>Para importar los datos de un archivo XML, podemos hacer:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> xml.etree.ElementTree <span class="im">as</span> ET</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>tree <span class="op">=</span> ET.parse(<span class="st">&#39;archivo.xml&#39;</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>root <span class="op">=</span> tree.getroot()</span></code></pre></div></li>
<li><p>Si los datos XML se encuentran ya en una cadena, se puede hacer directamente:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>root <span class="op">=</span> ET.fromstring(datos_en_una_cadena)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.1">

<ul>
<li><p>En ambos casos, <code>root</code> es un objeto de tipo <code>Element</code> que dispone de ciertos atributos y que responde a ciertos métodos. Ese objeto representa el nodo raíz del árbol XML.</p></li>
<li><p>Por tanto, como cualquier objeto de tipo <code>Element</code>, el objeto <code>root</code> tiene una etiqueta (<code>tag</code>) y un diccionario de atributos (<code>attrib</code>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.2">

<ul>
<li><p>Por ejemplo, supongamos que el <code>archivo.xml</code> tiene el siguiente contenido:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">data</span>&gt;</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Liechtenstein&quot;</span>&gt;</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span>&gt;1&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2008&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;141100&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Austria&quot;</span><span class="ot"> direction=</span><span class="st">&quot;E&quot;</span>/&gt;</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Switzerland&quot;</span><span class="ot"> direction=</span><span class="st">&quot;W&quot;</span>/&gt;</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Singapore&quot;</span>&gt;</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span>&gt;4&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2011&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;59900&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Malaysia&quot;</span><span class="ot"> direction=</span><span class="st">&quot;N&quot;</span>/&gt;</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Panama&quot;</span>&gt;</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span>&gt;68&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2011&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;13600&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Costa Rica&quot;</span><span class="ot"> direction=</span><span class="st">&quot;W&quot;</span>/&gt;</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Colombia&quot;</span><span class="ot"> direction=</span><span class="st">&quot;E&quot;</span>/&gt;</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">data</span>&gt;</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.3">

<ul>
<li><p>Tendríamos lo siguiente:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> root.tag</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;data&#39;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> root.attrib</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>{}</span></code></pre></div></li>
<li><p>El objeto <code>root</code> también tiene nodos hijos sobre los cuales se puede iterar:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> child <span class="kw">in</span> root:</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(child.tag, child.attrib)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>country {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Liechtenstein&#39;</span>}</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>country {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Singapore&#39;</span>}</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>country {<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Panama&#39;</span>}</span></code></pre></div></li>
<li><p>Los hijos están anidados, y podemos acceder a nodos concretos a través de su índice:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> root[<span class="dv">0</span>][<span class="dv">1</span>].text</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;2008&#39;</span></span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.4">

<ul>
<li><p>Los objetos de tipo <code>Element</code> disponen de métodos útiles para iterar recursivamente sobre todos los subárboles situados debajo de él (sus hijos, los hijos de sus hijos, y así sucesivamente).</p></li>
<li><p>Por ejemplo, el método <code>iter</code>:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> neighbor <span class="kw">in</span> root.<span class="bu">iter</span>(<span class="st">&#39;neighbor&#39;</span>):</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(neighbor.attrib)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Austria&#39;</span>, <span class="st">&#39;direction&#39;</span>: <span class="st">&#39;E&#39;</span>}</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Switzerland&#39;</span>, <span class="st">&#39;direction&#39;</span>: <span class="st">&#39;W&#39;</span>}</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Malaysia&#39;</span>, <span class="st">&#39;direction&#39;</span>: <span class="st">&#39;N&#39;</span>}</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Costa Rica&#39;</span>, <span class="st">&#39;direction&#39;</span>: <span class="st">&#39;W&#39;</span>}</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>{<span class="st">&#39;name&#39;</span>: <span class="st">&#39;Colombia&#39;</span>, <span class="st">&#39;direction&#39;</span>: <span class="st">&#39;E&#39;</span>}</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.5">

<ul>
<li><p>El método <code>findall</code> devuelve los elementos que tengan una cierta etiqueta y que sean hijos directos del elemento actual.</p></li>
<li><p>El método <code>find</code> devuelve el primer hijo que tenga una cierta etiqueta.</p></li>
<li><p>El atributo <code>text</code> devuelve el contenido del elemento en forma de texto.</p></li>
<li><p>El método <code>get</code> devuelve los atributos del elemento:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> country <span class="kw">in</span> root.findall(<span class="st">&#39;country&#39;</span>):</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>...     rank <span class="op">=</span> country.find(<span class="st">&#39;rank&#39;</span>).text</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>...     name <span class="op">=</span> country.get(<span class="st">&#39;name&#39;</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>...     <span class="bu">print</span>(name, rank)</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>Liechtenstein <span class="dv">1</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>Singapore <span class="dv">4</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>Panama <span class="dv">68</span></span></code></pre></div></li>
<li><p>También disponemos de la función <code>dump</code> que devuelve la cadena correspondiente al nodo que se le pase como argumento.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.6">

<ul>
<li><p>Para una especificación más sofisticada de los elementos a encontrar, se pueden usar las expresiones <code>XPath</code>:</p>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Sintaxis</th>
<th style="text-align: left;">Significado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong><em>etiqueta</em></strong></td>
<td style="text-align: left;">Selecciona todos los nodos hijo con la etiqueta <strong><em>etiqueta</em></strong>. Por ejemplo, <code>pepe</code> selecciona todos los nodos hijo llamados <code>pepe</code>, y <code>pepe/juan</code> selecciona todos los nietos llamados <code>juan</code> en todos los hijos llamados <code>pepe</code>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>*</code></td>
<td style="text-align: left;">Selecciona todos los nodos hijo inmediatos. Por ejemplo, <code>*/pepe</code> selecciona todos los nietos llamados <code>pepe</code>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>.</code></td>
<td style="text-align: left;">Selecciona el nodo actual. Se usa, sobre todo, al principio de la ruta para indicar que es una ruta relativa.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>//</code></td>
<td style="text-align: left;">Selecciona todos los subelementos en cualquier nivel por debajo del nodo actual. Por ejemplo, <code>.//pepe</code> selecciona todos los elementos <code>pepe</code> que haya en todo el árbol.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>..</code></td>
<td style="text-align: left;">Selecciona el elemento padre. Devuelve <code>None</code> si se intenta acceder a un ancestro del elemento de inicio (aquel sobre el que se ha llamado al método <code>find</code>).</td>
</tr>
</tbody>
</table></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.7">

<ul>
<li><p>Continuación de las expresiones <code>XPath</code>:</p>
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Sintaxis</th>
<th style="text-align: left;">Significado</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>[@</code><strong><em>atrib</em></strong><code>]</code></td>
<td style="text-align: left;">Selecciona todos los elementos que tienen el atributo <strong><em>atrib</em></strong>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>[@</code><strong><em>atrib</em></strong><code>='</code><strong><em>valor</em></strong><code>']</code></td>
<td style="text-align: left;">Selecciona todos los elementos que tienen el valor <strong><em>valor</em></strong> en el atributo <strong><em>atrib</em></strong>. El valor no puede contener apóstrofes.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>[@</code><strong><em>atrib</em></strong><code>!='</code><strong><em>valor</em></strong><code>']</code></td>
<td style="text-align: left;">Selecciona todos los elementos que tienen el valor <strong><em>valor</em></strong> en el atributo <strong><em>atrib</em></strong>. El valor no puede contener apóstrofes.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>[</code><strong><em>etiqueta</em></strong><code>]</code></td>
<td style="text-align: left;">Selecciona todos los elementos que tienen un hijo inmediato llamado <strong><em>etiqueta</em></strong>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>[</code><strong><em>posición</em></strong><code>]</code></td>
<td style="text-align: left;">Selecciona todos los elementos situados en cierta <strong><em>posición</em></strong>. Ésta puede ser un entero (<code>1</code> es la primera posición), la expresión <code>last()</code> (la última posición) o una posición relativa a la última posición (por ejemplo, <code>last() - 1</code>).</td>
</tr>
</tbody>
</table></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.1.0.8">

<ul>
<li><p>Ejemplos:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Los elementos de nivel más alto:</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>root.findall(<span class="st">&quot;.&quot;</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Todos los nietos &#39;neighbor&#39; de los hijos &#39;country&#39; de los elementos</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co"># de nivel más alto:</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>root.findall(<span class="st">&quot;./country/neighbor&quot;</span>)</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Los nodos con name=&#39;Singapore&#39; que tienen un hijo &#39;year&#39;:</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>root.findall(<span class="st">&quot;.//year/..[@name=&#39;Singapore&#39;]&quot;</span>)</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Los nodos &#39;year&#39; que son hijos de los nodos con name=&#39;Singapore&#39;:</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>root.findall(<span class="st">&quot;.//*[@name=&#39;Singapore&#39;]/year&quot;</span>)</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Todos los nodos &#39;neighbor&#39; que son hijos segundos de sus padres:</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>root.findall(<span class="st">&quot;.//neighbor[2]&quot;</span>)</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Todos los nodos &#39;country&#39; hijos directos del actual que tienen un hijo &#39;year&#39;:</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>root.findall(<span class="st">&quot;country[year]&#39;)</span></span></code></pre></div></li>
</ul>
</section>

<section id="modificación" class="title-slide slide level3" data-number="3.3.2">
<h3 data-number="3.3.2"><span class="header-section-number">3.3.2</span> Modificación</h3>
<ul>
<li><p><code>ElementTree</code> proporciona una forma sencilla de crear documentos XML y escribirlos en archivos.</p></li>
<li><p>Para ello, usamos el método <code>write</code>.</p></li>
<li><p>Una vez creado, un objeto <code>Element</code> puede manipularse directamente cambiando sus atributos (como <code>text</code>), añadiendo y modificando atributos (con el método <code>set</code>) o añadiendo nuevos hijos (por ejemplo, con el método <code>append</code>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.2.0.1">

<ul>
<li><p>Por ejemplo, supongamos que queremos sumarle 1 al <code>rank</code> de cada país y añadir un atributo <code>updated</code> al elemento <code>rank</code>:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> rank <span class="kw">in</span> root.<span class="bu">iter</span>(<span class="st">&#39;rank&#39;</span>):</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>...     new_rank <span class="op">=</span> <span class="bu">int</span>(rank.text) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>...     rank.text <span class="op">=</span> <span class="bu">str</span>(new_rank)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>...     rank.<span class="bu">set</span>(<span class="st">&#39;updated&#39;</span>, <span class="st">&#39;yes&#39;</span>)</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> tree.write(<span class="st">&#39;output.xml&#39;</span>)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.2.0.2">

<ul>
<li><p>Nuestro XML tendría ahora el siguiente aspecto:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">data</span>&gt;</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Liechtenstein&quot;</span>&gt;</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span><span class="ot"> updated=</span><span class="st">&quot;yes&quot;</span>&gt;2&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2008&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;141100&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Austria&quot;</span><span class="ot"> direction=</span><span class="st">&quot;E&quot;</span>/&gt;</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Switzerland&quot;</span><span class="ot"> direction=</span><span class="st">&quot;W&quot;</span>/&gt;</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Singapore&quot;</span>&gt;</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span><span class="ot"> updated=</span><span class="st">&quot;yes&quot;</span>&gt;5&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2011&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;59900&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Malaysia&quot;</span><span class="ot"> direction=</span><span class="st">&quot;N&quot;</span>/&gt;</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Panama&quot;</span>&gt;</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span><span class="ot"> updated=</span><span class="st">&quot;yes&quot;</span>&gt;69&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2011&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;13600&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Costa Rica&quot;</span><span class="ot"> direction=</span><span class="st">&quot;W&quot;</span>/&gt;</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Colombia&quot;</span><span class="ot"> direction=</span><span class="st">&quot;E&quot;</span>/&gt;</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">data</span>&gt;</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.2.0.3">

<ul>
<li><p>Podemos eliminar elementos con el método <code>remove</code>.</p></li>
<li><p>Supongamos que queremos eliminar todos los países con un <code>rank</code> superior a 50:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> country <span class="kw">in</span> root.findall(<span class="st">&#39;country&#39;</span>):</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>...     <span class="co"># using root.findall() to avoid removal during traversal</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>...     rank <span class="op">=</span> <span class="bu">int</span>(country.find(<span class="st">&#39;rank&#39;</span>).text)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>...     <span class="cf">if</span> rank <span class="op">&gt;</span> <span class="dv">50</span>:</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>...         root.remove(country)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> tree.write(<span class="st">&#39;output.xml&#39;</span>)</span></code></pre></div></li>
<li><p>Tener en cuenta que la modificación concurrente mientras se hace una iteración puede dar problemas, lo mismo que ocurre cuando se modifican listas o diccionarios mientras se itera sobre ellos. Por tanto, el ejemplo primero recoge todos los elementos con <code>findall</code> y sólo entonces itera sobre la lista que devuelve.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.2.0.4">

<ul>
<li><p>Nuestro XML tendría ahora el siguiente aspecto:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">&lt;?xml</span><span class="ot"> version=</span><span class="st">&quot;1.0&quot;</span><span class="fu">?&gt;</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">data</span>&gt;</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Liechtenstein&quot;</span>&gt;</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span><span class="ot"> updated=</span><span class="st">&quot;yes&quot;</span>&gt;2&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2008&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;141100&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Austria&quot;</span><span class="ot"> direction=</span><span class="st">&quot;E&quot;</span>/&gt;</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Switzerland&quot;</span><span class="ot"> direction=</span><span class="st">&quot;W&quot;</span>/&gt;</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">country</span><span class="ot"> name=</span><span class="st">&quot;Singapore&quot;</span>&gt;</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">rank</span><span class="ot"> updated=</span><span class="st">&quot;yes&quot;</span>&gt;5&lt;/<span class="kw">rank</span>&gt;</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">year</span>&gt;2011&lt;/<span class="kw">year</span>&gt;</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">gdppc</span>&gt;59900&lt;/<span class="kw">gdppc</span>&gt;</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>        &lt;<span class="kw">neighbor</span><span class="ot"> name=</span><span class="st">&quot;Malaysia&quot;</span><span class="ot"> direction=</span><span class="st">&quot;N&quot;</span>/&gt;</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>    &lt;/<span class="kw">country</span>&gt;</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">data</span>&gt;</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.2.0.5">

<ul>
<li><p>Las funciones <code>Element</code> y <code>SubElement</code> también proporcionan una forma muy conveniente de crear sub-elementos de un elemento dado:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> ET.Element(<span class="st">&#39;a&#39;</span>)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> b <span class="op">=</span> ET.SubElement(a, <span class="st">&#39;b&#39;</span>)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> c <span class="op">=</span> ET.SubElement(a, <span class="st">&#39;c&#39;</span>)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> ET.SubElement(c, <span class="st">&#39;d&#39;</span>)</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> ET.dump(a)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span>a<span class="op">&gt;&lt;</span>b <span class="op">/&gt;&lt;</span>c<span class="op">&gt;&lt;</span>d <span class="op">/&gt;&lt;/</span>c<span class="op">&gt;&lt;/</span>a<span class="op">&gt;</span></span></code></pre></div></li>
</ul>
</section>

</section>
<section id="bibliografía" class="title-slide slide level1 unnumbered unlisted">
<h1 class="unnumbered unlisted">Bibliografía</h1>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-python_software_foundation_sitio_nodate" class="csl-entry" role="doc-biblioentry">
Python Software Foundation. n.d. <span>“Sitio Web de Documentación de <span>Python</span>.”</span> <a href="https://docs.python.org/3">https://docs.python.org/3</a>.
</div>
</div>
</section>
    </div>
  </div>

  <script src="./reveal.js/dist/reveal.js"></script>

  // reveal.js plugins
  <script src="./reveal.js/plugin/notes/notes.js"></script>
  <script src="./reveal.js/plugin/search/search.js"></script>
  <script src="./reveal.js/plugin/zoom/zoom.js"></script>
  <script src="./reveal.js/plugin/reveal.js-menu/menu.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,
        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,
        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',
        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',
        // Display a presentation progress bar
        progress: true,
        // Display the page number of the current slide
        slideNumber: true,
        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',
        // Push each slide change to the browser history
        history: true,
        // Enable keyboard shortcuts for navigation
        keyboard: true,
        // Enable the slide overview mode
        overview: true,
        // Vertical centering of slides
        center: true,
        // Enables touch navigation on devices with touch input
        touch: true,
        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',
        // Turns fragments on and off globally
        fragments: true,
        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,
        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,
       // Flags if it should be possible to pause the presentation (blackout)
       pause: true,
        // Global override for autoplaying embedded media (video/audio/iframe)
        // - null: Media will only autoplay if data-autoplay is present
        // - true: All media will autoplay, regardless of individual setting
        // - false: No media will autoplay, regardless of individual setting
        autoPlayMedia: null,
        // Global override for preloading lazy-loaded iframes
        // - null: Iframes with data-src AND data-preload will be loaded when within
        //   the viewDistance, iframes with only data-src will be loaded when visible
        // - true: All iframes with data-src will be loaded when within the viewDistance
        // - false: All iframes with data-src will be loaded only when visible
        preloadIframes: null,
        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,
        // Stop auto-sliding after user input
        autoSlideStoppable: true,
        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,
        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,
        // Hide cursor if inactive
        hideInactiveCursor: true,
        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,
        // Transition style
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        // Transition speed
        transitionSpeed: 'default', // default/fast/slow
        // Transition style for full page slide backgrounds
        backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom
        // Number of slides away from the current that are visible
        viewDistance: 3,
        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,
        height: 1080,
        // The display mode that will be used to show slides
        display: 'block',

        menu: {
          hideMissingTitles: true,
        },

        dependencies: [
          { src: './reveal.js/plugin/reveal.js-quiz/quiz/js/quiz.js', async: true, callback: function() { prepareQuizzes({preventUnanswered: true, checkAnswerText: 'Comprueba la respuesta', nextQuestionText: 'Siguiente &raquo;', backButtonText: '&laquo; Anterior', tryAgainText: 'Prueba de nuevo', preventUnansweredText: 'Selecciona una respuesta', questionCountText: 'Pregunta %current de %total', skipStartButton: true}); } }
        ],

        // reveal.js plugins
        plugins: [
          RevealMenu,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
