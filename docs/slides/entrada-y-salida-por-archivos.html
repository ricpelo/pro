<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Ricardo Pérez López">
  <title>Entrada y salida por archivos</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="./reveal.js/dist/reset.css">
  <link rel="stylesheet" href="./reveal.js/dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #268bd2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #cb4b16; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #d33682; } /* BaseN */
    code span.bu { color: #4070a0; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #dc322f; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #93a1a1; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #6c71c4; } /* DataType */
    code span.dv { color: #d33682; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #d33682; } /* Float */
    code span.fu { color: #4070a0; } /* Function */
    code span.im { font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #268bd2; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #a57800; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #2aa198; } /* SpecialString */
    code span.st { color: #2aa198; } /* String */
    code span.va { color: #6c71c4; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="./reveal.js/dist/theme/solarized.css" id="theme">
  <link rel="stylesheet" href="custom.css"/>
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <style type="text/css">
      #header-left {
          position: absolute;
          font-size: 25%;
          top: 0%;
          left: 0%;
          margin-left: 10px;
          margin-top: 10px;
      }
      #header-right {
          position: absolute;
          font-size: 25%;
          top: 0%;
          right: 0%;
          margin-right: 10px;
          margin-top: 10px;
      }
      #footer-left {
          position: absolute;
          font-size: 25%;
          bottom: 0%;
          left: 0%;
          margin-left: 10px;
          margin-bottom: 10px;
      }
  </style>
</head>
<body>
<div id="hidden" style="display:none;">
    <div id="header">
        <div id="header-left"></div>
        <div id="header-right"></div>
        <div id="footer-left"></div>
    </div>
</div>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Entrada y salida por archivos</h1>
  <p class="author">Ricardo Pérez López</p>
  <p class="date">IES Doñana, curso 2025/2026</p>
</section>
<section id="TOC">
<nav role="doc-toc"> 
<ul>
<li><a href="#/introducción" id="/toc-introducción"><span
class="toc-section-number">1</span> Introducción</a></li>
<li><a href="#/operaciones-de-apertura-y-cierre"
id="/toc-operaciones-de-apertura-y-cierre"><span
class="toc-section-number">2</span> Operaciones de apertura y
cierre</a></li>
<li><a href="#/operaciones-de-lectura"
id="/toc-operaciones-de-lectura"><span
class="toc-section-number">3</span> Operaciones de lectura</a></li>
<li><a href="#/operaciones-de-escritura"
id="/toc-operaciones-de-escritura"><span
class="toc-section-number">4</span> Operaciones de escritura</a></li>
<li><a href="#/otras-operaciones" id="/toc-otras-operaciones"><span
class="toc-section-number">5</span> Otras operaciones</a></li>
</ul>
</nav>
</section>

<section>
<section id="introducción" class="title-slide slide level1"
data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span>
Introducción</h1>

</section>
<section id="introducción-1" class="title-slide slide level2"
data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span>
Introducción</h2>
<ul>
<li><p>Como ya sabemos, toda la comunicación con el exterior se lleva a
cabo a través de <strong>flujos</strong>, que son secuencias de bytes o
caracteres.</p></li>
<li><p>Por tanto, cuando queramos leer y/o escribir datos en un archivo,
lo haremos también a través de un flujo de bytes o de
caracteres.</p></li>
<li><p>Para ello, deberemos seguir los siguientes pasos, en este
orden:</p>
<ol>
<li><p>Abrir el archivo en el modo adecuado con <code
class="sourceCode python"><span class="bu">open</span></code>.</p></li>
<li><p>Realizar las operaciones deseadas sobre el archivo.</p></li>
<li><p>Cerrar el archivo con <code
class="sourceCode python">close</code>.</p></li>
</ol></li>
<li><p>Mientras el archivo está abierto, disponemos de un
<strong>puntero</strong> que <em>apunta</em> a la posición actual de
lectura o escritura, es decir, a la posición donde se hará la siguiente
operación de lectura o escritura con el archivo.</p></li>
<li><p>Ese puntero indica la posición actual dentro del flujo de
caracteres o bytes a través del cual accedemos al archivo.</p></li>
</ul>
</section>
</section>
<section>
<section id="operaciones-de-apertura-y-cierre"
class="title-slide slide level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span>
Operaciones de apertura y cierre</h1>

</section>
<section id="open" class="title-slide slide level2" data-number="2.1">
<h2 data-number="2.1"><span class="header-section-number">2.1</span>
<code class="sourceCode python"><span class="bu">open</span></code></h2>
<ul>
<li><p>La función <code
class="sourceCode python"><span class="bu">open</span></code> abre un
archivo y devuelve un objeto que lo representa.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><code
class="sourceCode python"><span class="bu">open</span></code><code>(</code><em>nombre</em><code>:</code>
<code class="sourceCode python"><span class="bu">str</span></code>
[<code>,</code> <em>modo</em><code>:</code> <code
class="sourceCode python"><span class="bu">str</span></code>]<code>)</code>
<code>-&gt;</code> <em>archivo</em></div></li>
<li><p>El <em>nombre</em> es una cadena que contiene el nombre del
archivo a abrir.</p></li>
<li><p>El <em>modo</em> es otra cadena que contiene caracteres que
describen de qué forma se va a usar el archivo.</p></li>
<li><p>El valor devuelto es un objeto que representa al archivo abierto
y cuyo tipo depende del modo en el que se ha abierto el
archivo.</p></li>
<li><p>Hay dos modos principales de abrir un archivo: en <strong>modo
texto</strong> (en el que se leen y escriben <em>cadenas</em>) y en
<strong>modo binario</strong> (en el que se leen y escriben
<em>bytes</em>) y luego existen modos secundarios en función de lo que
se vaya a hacer con el archivo.</p></li>
<li><p>Los valores posibles de <em>modo</em> aparecen en las siguientes
tablas.</p></li>
</ul>
</section>
<section id="modo-texto" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Modo texto</h5>
<table style="width:100%;">
<colgroup>
<col style="width: 7%" />
<col style="width: 63%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;">Modo</th>
<th style="text-align: left;">Significado</th>
<th style="text-align: left;">El puntero se coloca…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>'r'</code></td>
<td style="text-align: left;">Abre sólo para lectura de texto.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'r+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura de texto.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'w'</code></td>
<td style="text-align: left;">Abre sólo para escritura de texto. Vacía y
sobreescribe el archivo si ya existe. Si no existe, lo crea y lo abre
sólo para escritura.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'w+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura de texto.
Vacía y sobreescribe el archivo si ya existe. Si no existe, lo crea y lo
abre para lectura/escritura.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'a'</code></td>
<td style="text-align: left;">Abre para añadir texto. Si el archivo no
existe, lo crea y lo abre sólo para escritura.</td>
<td style="text-align: left;">Al final si el archivo ya existe.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'a+'</code></td>
<td style="text-align: left;">Abre para lectura/añadir en modo texto. Si
el archivo no existe, lo crea y lo abre para lectura/escritura.</td>
<td style="text-align: left;">Al final si el archivo ya existe.</td>
</tr>
</tbody>
</table>
</section>
<section id="modo-binario" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Modo binario</h5>
<table style="width:100%;">
<colgroup>
<col style="width: 7%" />
<col style="width: 63%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;">Modo</th>
<th style="text-align: left;">Significado</th>
<th style="text-align: left;">El puntero se coloca…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><code>'rb'</code></td>
<td style="text-align: left;">Abre sólo para lectura en binario.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'rb+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura en
binario.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'wb'</code></td>
<td style="text-align: left;">Abre sólo para escritura en binario. Vacía
y sobreescribe el archivo si ya existe. Si no existe, lo crea y lo abre
sólo para escritura.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'wb+'</code></td>
<td style="text-align: left;">Abre para lectura/escritura en binario.
Vacía y sobreescribe el archivo si ya existe. Si no existe, lo crea y lo
abre para lectura/escritura.</td>
<td style="text-align: left;">Al principio.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'ab'</code></td>
<td style="text-align: left;">Abre para añadir en binario. Si el archivo
no existe, lo crea y lo abre sólo para escritura.</td>
<td style="text-align: left;">Al final si el archivo ya existe.</td>
</tr>
<tr>
<td style="text-align: center;"><code>'ab+'</code></td>
<td style="text-align: left;">Abre para lectura/añadir en binario. Si el
archivo no existe, lo crea y lo abre para lectura/escritura.</td>
<td style="text-align: left;">Al final si el archivo ya existe.</td>
</tr>
</tbody>
</table>
</section>
<section class="slide level5" data-number="2.1.0.0.1">

<ul>
<li><p>Resumen básico:</p>
<ul>
<li><p>Si no se pone <code>'b'</code> (modo binario), se entiende que es
<code>'t'</code> (modo texto).</p></li>
<li><p>El modo predeterminado es <code>'r'</code> (abrir para lectura en
modo texto, sinónimo de <code>'rt'</code>).</p></li>
<li><p>Los modos <code>'a'</code>, <code>'ab'</code>, <code>'a+'</code>
y <code>'a+b'</code> abren el archivo si ya existía previamente, o lo
crean nuevo si no existía.</p></li>
<li><p>Los modos <code>'w'</code>, <code>'wb'</code>, <code>'w+'</code>
y <code>'w+b'</code> abren el archivo y lo vacía (borra su contenido) si
ya existía previamente, o lo crean nuevo si no existía.</p></li>
<li><p>Los modos <code>'r+'</code> y <code>'r+b'</code> abren el archivo
sin borrarlo.</p></li>
<li><p>El modo <code>'x'</code> abre el archivo en modo exclusivo,
produciendo un error si el archivo ya existía.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.2">

<ul>
<li><p>Normalmente, los archivos se abren en <strong>modo
texto</strong>, lo que significa que se leen y se escriben cadenas
(valores de tipo <code
class="sourceCode python"><span class="bu">str</span></code>) desde y
hacia el archivo, las cuales se codifican según una codificación
específica que depende de la plataforma.</p>
<p>Por ejemplo, los saltos de línea se escriben como <code>\n</code> en
Unix o <code>\r\n</code> en Windows, y se leen siempre como
<code>\n</code>.</p></li>
<li><p>Al añadir una <code>b</code> en el modo se abre el archivo en
<strong>modo binario</strong>. En tal caso, los datos se leen y se
escriben en forma de objetos de tipo <code
class="sourceCode python"><span class="bu">bytes</span></code>.</p>
<p>El modo binario es el que debe usarse cuando se trabaje con archivos
que no contengan texto (datos binarios <em>crudos</em>).</p></li>
<li><p>Ejemplo:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;salida.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.1.0.0.3">

<ul>
<li><p>El tipo de dato que devuelve <code
class="sourceCode python"><span class="bu">open</span></code> depende de
cómo se ha abierto el archivo:</p>
<ul>
<li><p>Si se ha abierto en <strong>modo texto</strong>, devuelve un
<code class="sourceCode python">io.TextIOWrapper</code>.</p></li>
<li><p>Si se ha abierto en <strong>modo binario</strong>, entonces
depende:</p>
<ul>
<li><p>En modo <strong>sólo lectura</strong>, devuelve un <code
class="sourceCode python">io.BufferedReader</code>.</p></li>
<li><p>En modo <strong>sólo escritura o añadiendo al final</strong>,
devuelve un <code
class="sourceCode python">io.BufferedWriter</code>.</p></li>
<li><p>En modo <strong>lectura/escritura</strong>, devuelve un <code
class="sourceCode python">io.BufferedRandom</code>.</p></li>
</ul></li>
</ul></li>
<li><p><code class="sourceCode python">io</code> es el módulo que
contiene los elementos básicos para manipular flujos.</p></li>
</ul>
</section>

<section id="close" class="title-slide slide level2" data-number="2.2">
<h2 data-number="2.2"><span class="header-section-number">2.2</span>
<code class="sourceCode python">close</code></h2>
<ul>
<li><p>El método <code class="sourceCode python">close</code> cierra un
archivo previamente abierto por <code
class="sourceCode python"><span class="bu">open</span></code>,
finalizando la sesión de trabajo con el mismo.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.close()</code></div></li>
<li><p>Siempre hay que cerrar un archivo previamente abierto para:</p>
<ul>
<li><p>asegurarse de que los cambios realizados se vuelcan al archivo a
través del sistema operativo, y</p></li>
<li><p>liberar inmediatamente los recursos del sistema que pudiera estar
consumiendo.</p></li>
</ul></li>
<li><p>Una vez que se ha cerrado el archivo ya no se podrá seguir
usando:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="pp">ValueError</span>: I<span class="op">/</span>O operation on closed <span class="bu">file</span>.</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.2.0.0.1">

<ul>
<li><p>Podemos comprobar si un archivo ya se ha cerrado consultando su
atributo <code class="sourceCode python">closed</code>:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.closed</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="va">False</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.closed</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="va">True</span></span></code></pre></div></li>
<li><p>Observa que <strong>no es un método</strong> (no lleva
paréntesis), <strong>sino un <em>atributo</em></strong> que contiene un
valor lógico que el propio objeto modifica al cambiar su estado de
abierto a cerrado o viceversa.</p></li>
</ul>
</section>

<section id="gestores-de-contexto" class="title-slide slide level2"
data-number="2.3">
<h2 data-number="2.3"><span class="header-section-number">2.3</span>
Gestores de contexto</h2>
<ul>
<li><p>A veces un programa necesita trabajar con recursos externos:</p>
<ul>
<li><p>Archivos locales.</p></li>
<li><p>Conexiones a bases de datos.</p></li>
<li><p>Conexiones de red.</p></li>
</ul></li>
<li><p>Trabajar con esos recursos siempre implica los siguientes
pasos:</p>
<ol>
<li><p>Abrir el recurso (solicitar la apertura o la conexión al sistema
operativo).</p></li>
<li><p>Usar el recurso.</p></li>
<li><p>Cerrar el recurso (solicitar su cierre o su desconexión al
sistema operativo).</p></li>
</ol></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.0.0.1">

<ul>
<li><p>Por ejemplo, al trabajar con archivos hay que:</p>
<ol>
<li><p>Abrir el archivo con <code
class="sourceCode python">f <span class="op">=</span> <span class="bu">open</span>(...)</code>.</p></li>
<li><p>Usar el archivo con <code
class="sourceCode python">f.read(...)</code>, <code
class="sourceCode python">f.write(...)</code>, etc.</p></li>
<li><p>Cerrar el archivo con <code
class="sourceCode python">f.close()</code>.</p></li>
</ol></li>
<li><p>La <strong>cantidad de recursos abiertos</strong> al mismo tiempo
está <strong>limitada</strong> por el sistema operativo o el
intérprete.</p>
<p>Por ejemplo, si intentamos abrir demasiados archivos a la vez, el
intérprete nos devolverá el error:
<code>OSError: [Errno 24] Too many open files</code>.</p></li>
<li><p>Además, cada recurso abierto consume, a su vez, recursos del
sistema operativo o del intérprete (memoria, descriptores internos,
etcétera).</p></li>
<li><p>Por ello, es importante <strong>acordarse de cerrar el
recurso</strong> una vez hayamos terminado de trabajar con él, para que
el sistema operativo o el intérprete pueda liberar los recursos que está
consumiendo y éstos se puedan reutilizar.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.0.0.2">

<ul>
<li><p>Para ello, se puede usar un <code
class="sourceCode python"><span class="cf">try</span> ... <span class="cf">finally</span></code>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;hola.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    f.write(<span class="st">&#39;¡Hola, mundo!&#39;</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="cf">finally</span>:</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    f.close()</span></code></pre></div>
<p>Esto garantiza que el archivo se cerrará aunque el <code
class="sourceCode python">f.write(...)</code> levante una
excepción.</p></li>
<li><p>Los gestores de contexto son un mecanismo más cómodo y elegante
para trabajar con recursos y asegurarse de que se cierran al
final.</p></li>
<li><p>Para ello, se usa la sentencia <code
class="sourceCode python"><span class="cf">with</span> ... <span class="im">as</span></code>,
cuya sintaxis es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>gestor_contexto</em>⟩</span> ::=<br />
      <strong><code>with</code></strong> <span
style="color:teal">⟨<em>expresión</em>⟩</span>
[<strong><code>as</code></strong> <span
style="color:teal">⟨<em>identificador</em>⟩</span>]<strong><code>:</code></strong><br />
            <span
style="color:teal">⟨<em>sentencia</em>⟩</span></div></li>
<li><p>El siguiente código es equivalente al anterior:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;hola.txt&#39;</span>, <span class="st">&#39;w&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    f.write(<span class="st">&#39;¡Hola, mundo!&#39;</span>)</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.0.0.3">

<ul>
<li><p>La sentencia <code
class="sourceCode python"><span class="cf">with</span> ... <span class="im">as</span></code>
es una estructura de control que hace lo siguiente:</p>
<ol>
<li><p>Evalúa la <span style="color:teal">⟨<em>expresión</em>⟩</span>,
que deberá devolver un <strong>gestor de recursos</strong>.</p>
<p>Los gestores de recursos son objetos que responden a los métodos
<code class="sourceCode python"><span class="fu">__enter__</span></code>
y <code
class="sourceCode python"><span class="fu">__exit__</span></code>.</p></li>
<li><p>Llama al método <code
class="sourceCode python"><span class="fu">__enter__</span></code> sobre
el objeto, el cual debe abrir y devolver el recurso.</p></li>
<li><p>Ese recurso se asigna a la variable del <code
class="sourceCode python">identificador</code>.</p></li>
<li><p>Ejecuta la <code class="sourceCode python">sentencia</code> que,
por supuesto, puede ser simple o compuesta.</p></li>
<li><p>Cuando termina de ejecutar la sentencia, llama al método <code
class="sourceCode python"><span class="fu">__exit__</span></code> sobre
el objeto inicial, el cual se encargará de cerrar el recurso.</p></li>
</ol></li>
<li><p>Por tanto, al salir de la estructura de control <code
class="sourceCode python"><span class="cf">with</span> ... <span class="im">as</span></code>,
se garantiza que el recurso asignado a <code
class="sourceCode python">f</code> está cerrado.</p></li>
</ul>
</section>
<section class="slide level5" data-number="2.3.0.0.4">

<ul>
<li><p>Eso significa que, en el siguiente código, la última llamada al
método <code class="sourceCode python">write</code> fallará al no estar
abierto el recurso:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;hola.txt&#39;</span>, <span class="st">&#39;w&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>...    f.write(<span class="st">&#39;¡Hola, mundo!&#39;</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>...</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Esto fallará&#39;</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="pp">ValueError</span>: I<span class="op">/</span>O operation on closed <span class="bu">file</span>.</span></code></pre></div></li>
</ul>
</section>
</section>
<section>
<section id="operaciones-de-lectura" class="title-slide slide level1"
data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span>
Operaciones de lectura</h1>

</section>
<section id="read" class="title-slide slide level2" data-number="3.1">
<h2 data-number="3.1"><span class="header-section-number">3.1</span>
<code class="sourceCode python">read</code></h2>
<ul>
<li><p>Para leer de un archivo, se puede usar el método <code
class="sourceCode python">read</code> sobre el objeto que devuelve la
función <code
class="sourceCode python"><span class="bu">open</span></code>.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.read</code><code>(</code>[<em>tamaño</em><code>:</code>
<code
class="sourceCode python"><span class="bu">int</span></code>]<code>) -&gt;</code> 
<code class="sourceCode python"><span class="bu">str</span></code> |
<code
class="sourceCode python"><span class="bu">bytes</span></code></div></li>
<li><p>El método devuelve una cadena (tipo <code
class="sourceCode python"><span class="bu">str</span></code>) si el
archivo se abrió en modo texto, o un objeto de tipo <code
class="sourceCode python"><span class="bu">bytes</span></code> si se
abrió en modo binario.</p></li>
<li><p>El archivo contiene un <strong>puntero interno</strong> que
indica hasta dónde se ha leído en el mismo.</p></li>
<li><p>Cada vez que se llama al método <code
class="sourceCode python">read</code>, se mueve ese puntero para que en
posteriores llamadas se continúe leyendo desde ese punto.</p></li>
<li><p>Si se alcanza el final del archivo, se devuelve la cadena vacía
(<code
class="sourceCode python"><span class="st">&#39;&#39;</span></code>).</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.1">

<ul>
<li><p>El parámetro <em>tamaño</em> es opcional:</p>
<ul>
<li><p>Si se omite o es negativo, se devuelve todo lo que hay desde la
posición actual del puntero hasta el final del archivo.</p></li>
<li><p>En caso contrario, se leerán y devolverán <em>como mucho</em>
tantos caracteres (en modo texto) o bytes (en modo binario) como se haya
indicado.</p></li>
</ul></li>
</ul>
</section>
<section class="slide level5" data-number="3.1.0.0.2">

<ul>
<li><p>Ejemplos de lectura de todo el archivo:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Este es el contenido del archivo.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span></code></pre></div></li>
<li><p>Ejemplos de lectura del archivo en varios trozos:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Este&#39;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39; es &#39;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;el c&#39;</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;ontenido del archivo</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read()</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span></code></pre></div></li>
</ul>
</section>

<section id="readline" class="title-slide slide level2"
data-number="3.2">
<h2 data-number="3.2"><span class="header-section-number">3.2</span>
<code class="sourceCode python">readline</code></h2>
<ul>
<li><p>El método <code class="sourceCode python">readline</code> también
sirve para leer de un archivo y también se ejecuta sobre el objeto que
devuelve <code
class="sourceCode python"><span class="bu">open</span></code>.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.readline</code><code>(</code>[<em>tamaño</em><code>:</code>
<code
class="sourceCode python"><span class="bu">int</span></code>]<code>) -&gt;</code> 
<code class="sourceCode python"><span class="bu">str</span></code> |
<code
class="sourceCode python"><span class="bu">bytes</span></code></div></li>
<li><p><code class="sourceCode python">readline</code> devuelve una
línea del archivo en forma de cadena (si el archivo se abrió en
<strong>modo texto</strong>) o un valor de tipo <code
class="sourceCode python"><span class="bu">bytes</span></code> (si se
abrió en <strong>modo binario</strong>), dejando el carácter de salto de
línea (<code>\n</code>) al final.</p></li>
<li><p>El salto de línea sólo se omite cuando es la última línea del
archivo y éste no acaba en salto de línea.</p></li>
<li><p>Si devuelve una cadena vacía (<code
class="sourceCode python"><span class="st">&#39;&#39;</span></code>),
significa que se ha alcanzado el final del archivo.</p></li>
<li><p>Si se devuelve una cadena formada sólo por <code>\n</code>,
significa que es una línea en blanco (una línea que sólo contiene un
salto de línea).</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.2.0.0.1">

<ul>
<li><p>El método empieza a leer desde la posición actual del puntero
interno del archivo y cambia la posición del mismo.</p></li>
<li><p>El parámetro <em>tamaño</em> es opcional:</p>
<ul>
<li><p>Si se omite o es negativo, se devuelve todo desde la posición
actual del puntero hasta el final de la línea.</p></li>
<li><p>En caso contrario, se leerán y devolverán <em>como mucho</em>
tantos caracteres (en modo texto) o bytes (en modo binario) como se haya
indicado.</p></li>
</ul></li>
</ul>
</section>
<section id="ejemplos" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline(<span class="dv">4</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta&#39;</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline(<span class="dv">4</span>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="st">&#39; es &#39;</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span></code></pre></div>
</section>

<section id="readlines" class="title-slide slide level2"
data-number="3.3">
<h2 data-number="3.3"><span class="header-section-number">3.3</span>
<code class="sourceCode python">readlines</code></h2>
<ul>
<li><p>El método <code class="sourceCode python">readlines</code> (en
plural, no confundir con <code class="sourceCode python">readline</code>
en singular) también sirve para leer de un archivo y también se ejecuta
sobre el objeto que devuelve <code
class="sourceCode python"><span class="bu">open</span></code>, pero en
lugar de su versión en singular, <strong>lee <em>varias</em> líneas del
archivo de una sola vez</strong>.</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.readlines</code><code>(</code>[<em>tamaño</em><code>:</code>
<code
class="sourceCode python"><span class="bu">int</span></code>]<code>)</code>
<code>-&gt;</code> <code
class="sourceCode python"><span class="bu">list</span>[<span class="bu">str</span><span class="op">|</span><span class="bu">bytes</span>]</code></div></li>
<li><p><code class="sourceCode python">readlines</code> devuelve una
lista de cadenas de caracteres o de bytes (según como se haya abierto el
archivo, en modo texto o binario).</p></li>
<li><p>El método empieza a leer desde la posición actual del puntero
interno del archivo y cambia la posición del mismo.</p></li>
<li><p>Las líneas conservan el carácter de salto de línea
(<code>\n</code>) al final. El salto de línea sólo se omite cuando es la
última línea del archivo y éste no acaba en salto de línea.</p></li>
</ul>
</section>
<section class="slide level5" data-number="3.3.0.0.1">

<ul>
<li><p>Si devuelve una lista vacía (<code
class="sourceCode python">[]</code>), significa que el archivo está
vacío.</p></li>
<li><p>Si uno de los elementos está formada sólo por <code>\n</code>,
significa que es una línea en blanco (una línea que sólo contiene un
salto de línea).</p></li>
<li><p>El parámetro <em>tamaño</em> es opcional, y se puede usar para
controlar la cantidad de líneas leídas:</p>
<ul>
<li><p>Si se omite o es negativo, se leerá desde la posición actual del
puntero hasta el final del archivo, devolviendo cada línea separada en
un elemento de la lista.</p></li>
<li><p>En caso contrario, se leerán y devolverán el menor número de
líneas que sean necesarias para leer el número de caracteres (en modo
texto) o bytes (en modo binario) indicado, desde la posición actual del
puntero.</p></li>
</ul></li>
</ul>
</section>
<section id="ejemplos-1" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>[]</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines(<span class="dv">5</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta&#39;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39; es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span></code></pre></div>
</section>

<section id="archivos-como-iterables" class="title-slide slide level2"
data-number="3.4">
<h2 data-number="3.4"><span class="header-section-number">3.4</span>
Archivos como iterables</h2>
<ul>
<li><p>Existen iterables e iteradores incluso donde uno menos se lo
podría esperar.</p></li>
<li><p>Por ejemplo, <strong>los archivos abiertos también son
iterables</strong>, ya que se pueden recorrer línea a línea usando un
iterador:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> linea <span class="kw">in</span> f:</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(linea)</span></code></pre></div></li>
<li><p>Esta forma de recorrer los archivos, además de resultar simple y
elegante, también resulta muy eficiente, ya que se va recuperando cada
línea de una en una en lugar de todas a la vez.</p></li>
</ul>
</section>
</section>
<section>
<section id="operaciones-de-escritura" class="title-slide slide level1"
data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span>
Operaciones de escritura</h1>

</section>
<section id="write" class="title-slide slide level2" data-number="4.1">
<h2 data-number="4.1"><span class="header-section-number">4.1</span>
<code class="sourceCode python">write</code></h2>
<ul>
<li><p>El método <code class="sourceCode python">write</code> sirve para
escribir en un archivo y se ejecuta sobre el objeto que devuelve <code
class="sourceCode python"><span class="bu">open</span></code> (y que
representa al archivo abierto).</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.write</code><code>(</code><em>contenido</em><code>:</code>
<code class="sourceCode python"><span class="bu">str</span></code> |
<code
class="sourceCode python"><span class="bu">bytes</span></code><code>)</code>
<code>-&gt;</code> <code
class="sourceCode python"><span class="bu">int</span></code></div></li>
<li><p>El método escribe el <em>contenido</em> en el <span
style="color:teal">⟨<em>archivo</em>⟩</span>. Ese contenido debe ser una
<em>cadena</em> de caracteres si el archivo se abrió en <strong>modo
texto</strong>, o un <em>valor de tipo</em> <code
class="sourceCode python"><span class="bu">bytes</span></code> si se
abrió en <strong>modo binario</strong>.</p></li>
<li><p>Al escribir, modifica el puntero interno del archivo.</p></li>
<li><p>Devuelve el número de caracteres o de bytes que se han escrito,
dependiendo de si se abrió en modo texto o en modo binario.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.1.0.0.1">

<ul>
<li><p>También se puede usar <code
class="sourceCode python"><span class="bu">print</span></code> para
escribir en un archivo.</p></li>
<li><p>En la práctica, no hay mucha diferencia entre usar <code
class="sourceCode python"><span class="bu">print</span></code> y usar
<code class="sourceCode python">write</code>.</p></li>
<li><p>Hacer:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Hola Manolo</span><span class="ch">\n</span><span class="st">&#39;</span>)</span></code></pre></div>
<p>equivale a hacer:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;archivo.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;Hola&#39;</span>, <span class="st">&#39;Manolo&#39;</span>, <span class="bu">file</span><span class="op">=</span>f)</span></code></pre></div></li>
<li><p>Hay que tener en cuenta los separadores y los saltos de línea que
introduce <code
class="sourceCode python"><span class="bu">print</span></code>.</p></li>
<li><p><code class="sourceCode python">write</code> NO escribe el
carácter de salto de línea al final, cosa que sí hace <code
class="sourceCode python"><span class="bu">print</span></code> (salvo
que le digamos lo contrario).</p></li>
<li><p><code
class="sourceCode python"><span class="bu">print</span></code> escribe
en el flujo <code class="sourceCode python">sys.stdout</code> mientras
no se diga lo contrario.</p></li>
</ul>
</section>
<section class="slide level5" data-number="4.1.0.0.2">

<ul>
<li><p>Si el archivo se ha abierto en un modo <code>'a'</code> o
<code>'a+'</code>, el puntero empezará estando al <strong>final del
archivo</strong> y la escritura <strong>siempre</strong> se realizará a
partir de ese punto, aunque previamente hayamos leído algo o hayamos
movido el puntero explícitamente mediante <code
class="sourceCode python">seek</code>:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Abrimos el archivo para ver su contenido</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que contiene las líneas originales</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;a+&#39;</span>)  <span class="co"># Lo volvemos a abrir en lectura/añadir</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)                      <span class="co"># El puntero está situado al final, y...</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span>                                 <span class="co"># ... si leemos algo, allí no hay nada</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Prueba</span><span class="ch">\n</span><span class="st">&#39;</span>)            <span class="co"># Escribimos siete caracteres al final</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()                      <span class="co"># Cerramos el archivo para guardar los cambios</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Volvemos a abrir el archivo</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que se ha escrito al final...</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,    <span class="co"># ... del archivo, y no en la posición 4...</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,          <span class="co"># ... como cabría haber esperado</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Prueba</span><span class="ch">\n</span><span class="st">&#39;</span>]</span></code></pre></div></li>
</ul>
</section>
<section class="slide level5" data-number="4.1.0.0.3">

<ul>
<li><p>Si el archivo se ha abierto en un modo <code>'w'</code>,
<code>'w+'</code> o <code>'r+'</code>, el puntero empezará estando al
<strong>principio del archivo</strong> y la escritura se realizará en la
posición del puntero.</p></li>
<li><p>Pero <strong>si leemos algo del archivo antes de escribir en él,
la escritura se hará <em>al final</em></strong> del archivo (como si lo
hubiésemos abierto con un modo <code>'a+'</code>) a menos que primero
movamos el puntero explícitamente mediante <code
class="sourceCode python">seek</code>:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Abrimos el archivo para ver su contenido</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que contiene las líneas originales</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)  <span class="co"># Lo volvemos a abrir en lectura/escritura</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.read(<span class="dv">4</span>)                      <span class="co"># Leemos cuatro caracteres (desde el principio)</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta&#39;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Prueba</span><span class="ch">\n</span><span class="st">&#39;</span>)            <span class="co"># Escribimos siete caracteres</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()                      <span class="co"># Cerramos el archivo para guardar los cambios</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)   <span class="co"># Volvemos a abrir el archivo</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                  <span class="co"># Comprobamos que se ha escrito al final...</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,    <span class="co"># ... del archivo, y no en la posición 4...</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,          <span class="co"># ... como cabría haber esperado</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Prueba</span><span class="ch">\n</span><span class="st">&#39;</span>]</span></code></pre></div></li>
</ul>
</section>

<section id="writelines" class="title-slide slide level2"
data-number="4.2">
<h2 data-number="4.2"><span class="header-section-number">4.2</span>
<code class="sourceCode python">writelines</code></h2>
<ul>
<li><p>El método <code class="sourceCode python">writelines</code>
escribe una lista de líneas en un archivo, por lo que, en cierta forma,
es el contrario de <code
class="sourceCode python">readlines</code>.</p></li>
<li><p>Igualmente, se ejecuta sobre el objeto que devuelve <code
class="sourceCode python"><span class="bu">open</span></code> (y que
representa al archivo abierto).</p></li>
<li><p>Su signatura es:</p>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.writelines</code><code>(</code><em>lineas</em><code>:</code>
<code
class="sourceCode python"><span class="bu">list</span>[<span class="bu">str</span><span class="op">|</span><span class="bu">bytes</span>]</code><code>)</code>
<code>-&gt;</code> <code
class="sourceCode python"><span class="va">None</span></code></div></li>
<li><p>El parámetro <em>lineas</em> es el contenido a escribir en el
archivo, y debe ser una lista de <em>cadenas</em> si el archivo se abrió
en <strong>modo texto</strong>, o de <em>valores de tipo</em> <code
class="sourceCode python"><span class="bu">bytes</span></code> si se
abrió en <strong>modo binario</strong>.</p></li>
<li><p>Todo lo comentado anteriormente para el método <code
class="sourceCode python">write</code> sobre su comportamiento en
función del modo de apertura del archivo, se aplica también a <code
class="sourceCode python">writelines</code>.</p></li>
</ul>
</section>
<section id="ejemplos-2" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;salida.txt&#39;</span>, <span class="st">&#39;w&#39;</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.writelines([<span class="st">&#39;Primera línea de salida.txt.</span><span class="ch">\n</span><span class="st">&#39;</span>,<span class="st">&#39;Segunda línea.</span><span class="ch">\n</span><span class="st">&#39;</span>])</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.close()</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;salida.txt&#39;</span>, <span class="st">&#39;r&#39;</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Primera línea de salida.txt.</span><span class="ch">\n</span><span class="st">&#39;</span>,<span class="st">&#39;Segunda línea.</span><span class="ch">\n</span><span class="st">&#39;</span>]</span></code></pre></div>
<ul>
<li>Al igual que <code class="sourceCode python">write</code>, el método
<code class="sourceCode python">writelines</code> NO escribe el
<strong>salto de línea</strong> al final de cada cadena, así que
tendremos que introducirlo nosotros mismos.</li>
</ul>
</section>
</section>
<section>
<section id="otras-operaciones" class="title-slide slide level1"
data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Otras
operaciones</h1>

</section>
<section id="seek-y-tell" class="title-slide slide level2"
data-number="5.1">
<h2 data-number="5.1"><span class="header-section-number">5.1</span>
<code class="sourceCode python">seek</code> y <code
class="sourceCode python">tell</code></h2>
<ul>
<li><p>El método <code class="sourceCode python">seek</code>
<strong>sitúa el puntero interno</strong> del archivo en una determinada
posición.</p></li>
<li><p>El método <code class="sourceCode python">tell</code>
<strong>devuelve la posición actual</strong> del puntero
interno.</p></li>
<li><p>Sus signaturas son:</p>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.seek</code><code>(</code><em>offset</em><code>:</code>
<code
class="sourceCode python"><span class="bu">int</span></code><code>)</code>
<code>-&gt;</code> <code
class="sourceCode python"><span class="bu">int</span></code></div>
<div class="line-block"><span
style="color:teal">⟨<em>archivo</em>⟩</span><code
class="sourceCode python">.tell</code><code>()</code> <code>-&gt;</code>
<code
class="sourceCode python"><span class="bu">int</span></code></div></li>
<li><p>El <em>offset</em> es la posición a la que se desea mover el
puntero, empezando por 0 desde el comienzo del archivo.</p></li>
<li><p>Además de mover el puntero, el método <code
class="sourceCode python">seek</code> devuelve la nueva posición del
puntero.</p>
<p>Pero no olvidemos que si el archivo se ha abierto en modo
<em>añadir</em> (<code>'a'</code> o <code>'a+'</code>), la escritura se
hará siempre al final del archivo, sin importar cuál sea la posición
actual del puntero.</p></li>
</ul>
</section>
<section id="ejemplos-3" class="slide level5 unnumbered unlisted">
<h5 class="unnumbered unlisted">Ejemplos</h5>
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;r+&#39;</span>)    <span class="co"># Abre en modo lectura/escritura</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero está al principio</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Lee una línea de texto</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># Se ha movido el puntero</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Vuelve a colocarlo al principio</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Por tanto, se lee la misma línea</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Vuelve a colocarlo al principio</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Cambiar&#39;</span>)               <span class="co"># Escribe desde el principio</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Se ha cambiado la primera línea</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Cambiar la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span></code></pre></div>
</section>
<section class="slide level5" data-number="5.1.0.0.1">

<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> <span class="bu">open</span>(<span class="st">&#39;entrada.txt&#39;</span>, <span class="st">&#39;a+&#39;</span>)    <span class="co"># Abre en modo lectura/añadir</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero está al final</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="dv">69</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Allí no hay nada</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;&#39;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Movemos el puntero al principio</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero se ha movido</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readline()                     <span class="co"># Por tanto, se lee la primera línea</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero se ha movido</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="dv">27</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Vuelve a colocarlo al principio</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.write(<span class="st">&#39;Prueba</span><span class="ch">\n</span><span class="st">&#39;</span>)              <span class="co"># Siempre se escribe al final</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.tell()                         <span class="co"># El puntero está al final</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a><span class="dv">76</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                    <span class="co"># Allí no hay nada</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>[]</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.seek(<span class="dv">0</span>)                        <span class="co"># Movemos el puntero al principio</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> f.readlines()                    <span class="co"># Leemos todas las líneas</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>[<span class="st">&#39;Esta es la primera línea.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Esta es la segunda.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Y esta es la tercera.</span><span class="ch">\n</span><span class="st">&#39;</span>,</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a> <span class="st">&#39;Prueba</span><span class="ch">\n</span><span class="st">&#39;</span>]                         <span class="co"># Se ha escrito al final</span></span></code></pre></div>
</section>
</section>
<section id="bibliografía"
class="title-slide slide level1 unnumbered unlisted">
<h1 class="unnumbered unlisted">Bibliografía</h1>
<div id="refs" class="references csl-bib-body hanging-indent"
data-entry-spacing="0" role="list">
<div id="ref-python_software_foundation_sitio_nodate" class="csl-entry"
role="listitem">
Python Software Foundation. n.d. <span>“Sitio Web de Documentación de
<span>Python</span>.”</span> <a
href="https://docs.python.org/3">https://docs.python.org/3</a>.
</div>
</div>
</section>
    </div>
  </div>

  <script src="./reveal.js/dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="./reveal.js/plugin/notes/notes.js"></script>
  <script src="./reveal.js/plugin/search/search.js"></script>
  <script src="./reveal.js/plugin/zoom/zoom.js"></script>
  <script src="./reveal.js/plugin/reveal.js-menu/menu.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: true,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 1080,
        // The display mode that will be used to show slides
        display: 'block',

        menu: {
          hideMissingTitles: true,
        },

        dependencies: [
          { src: './reveal.js/plugin/reveal.js-quiz/quiz/js/quiz.js', async: true, callback: function() { prepareQuizzes({preventUnanswered: true, checkAnswerText: 'Comprueba la respuesta', nextQuestionText: 'Siguiente &raquo;', backButtonText: '&laquo; Anterior', tryAgainText: 'Prueba de nuevo', preventUnansweredText: 'Selecciona una respuesta', questionCountText: 'Pregunta %current de %total', skipStartButton: true}); } }
        ],

        // reveal.js plugins
        plugins: [
          RevealMenu,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script type="text/javascript">
       var title = document.getElementsByClassName('title')[0];
       title = title != null ? title.innerHTML : '';
       var author = document.getElementsByClassName('author')[0];
       author = author != null ? author.innerHTML : '';
       var date = document.getElementsByClassName('date')[0];
       date = date != null ? date.innerHTML : '';
       document.getElementById('header-left').innerHTML = '<a href="#/title-slide">' + title + '</a>';
       document.getElementById('footer-left').innerHTML = '<a href="https://pro.iesdonana.org">&copy; ' + author + ' (' + date + ')</a>';

       function updateHeader(nd) {
           var hr = document.getElementById('header-right');
           while (hr.children.length > 0) {
               hr.removeChild(hr.lastChild);
           }
           buscar(nd, 3, hr);
           buscar(nd, 2, hr);
           buscar(nd, 1, hr);
           hr.style.fontSize = Math.round(50 * Reveal.getScale()) + '%';
           hr.style.fontSize = Math.max(Number.parseInt(getComputedStyle(hr).fontSize), 12) + 'px';
           var hl = document.getElementById('header-left');
           hl.style.fontSize = hr.style.fontSize;
       }

       function buscar(nd, level, hr) {
           if (!nd.classList.contains('level' + (level - 1))) {
               for (var n = nd; n != null; n = n.previousSibling) {
                   if (n.nodeType == Node.TEXT_NODE) {
                       continue;
                   }
                   var cl = n.classList;
                   if (cl.contains('level' + level)) {
                       var h = n.querySelector('h' + level);
                   } else if (cl.contains('level' + (level - 1))) {
                       break;
                   } else {
                       continue;
                   }
                   if (h == null || Reveal.getCurrentSlide().id == 'title-slide') {
                       hr.innerHTML = '';
                   } else {
                       var el = document.createElement('a');
                       var href = '#/' + n.id;
                       el.href = href;
                       el.innerHTML = h.innerHTML;
                       var a = el.querySelector('a');
                       if (a !== null) {
                           a.href = href;
                       }
                       if (hr.innerHTML != '') {
                           hr.innerHTML = ' &mdash; ' + hr.innerHTML;
                       }
                       hr.insertBefore(el, hr.firstChild);
                   }
                   break;
               }
           }
       }

       // On Reveal.js ready event, copy header/footer <div>
       // into each `.slide-background` <div>
       Reveal.on('ready', event => {
           var header = document.getElementById('header');
           document.querySelector('.reveal').appendChild(header);
           updateHeader(Reveal.getCurrentSlide());
       });

       Reveal.on('slidechanged', event => {
           // event.previousSlide, event.currentSlide, event.indexh, event.indexv
           updateHeader(event.currentSlide);
       });
    </script>
    </body>
</html>
